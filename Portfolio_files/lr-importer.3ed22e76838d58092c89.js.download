/*! For license information please see lr-importer.3ed22e76838d58092c89.js.LICENSE.txt */
(()=>{var e,t,r,n,i={369935:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!(!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(304683)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},304683:(e,t,r)=>{r(724479),e.exports=function(e){function t(e){let r,i,s,o=null;function a(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!a.enabled)return;const s=a,o=Number(new Date),l=o-(r||o);s.diff=l,s.prev=r,s.curr=o,r=o,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");let u=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,((e,r)=>{if("%%"===e)return"%";u++;const i=t.formatters[r];if("function"==typeof i){const t=n[u];e=i.call(s,t),n.splice(u,1),u--}return e})),t.formatArgs.call(s,n);const c=s.log||t.log;c.apply(s,n)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(i!==t.namespaces&&(i=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(920770),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},760693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(719960),i=r.n(n),s=r(32),o=r.n(s)()(i());o.push([e.id,".ScrollBarInfo-xWYuQv1Wqb3j5A2y_Y_1 {\n\toverflow-y: scroll;\n\tvisibility: hidden;\n}\n",""]),o.locals={test_outer:"ScrollBarInfo-xWYuQv1Wqb3j5A2y_Y_1"};const a=o},713967:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(719960),i=r.n(n),s=r(32),o=r.n(s)()(i());o.push([e.id,".packages-sdk-lr-importer-src-importer-api-LrImporterIFrame--lr-importer-container--UFyLV{position:absolute;top:0;left:0;right:0;bottom:0}.packages-sdk-lr-importer-src-importer-api-LrImporterIFrame--lr-importer-container--UFyLV iframe{position:relative;width:100%;height:100%;border:none}",""]),o.locals={"lr-importer-container":"packages-sdk-lr-importer-src-importer-api-LrImporterIFrame--lr-importer-container--UFyLV"};const a=o},32:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);n&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},719960:e=>{"use strict";e.exports=function(e){return e[1]}},909699:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],u=n.base?l[0]+n.base:l[0],c=s[u]||0,h="".concat(u," ").concat(c);s[u]=c+1;var d=r(h),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=i(p,n);n.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function i(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,i){var s=n(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=r(s[o]);t[a].references--}for(var l=n(e,i),u=0;u<s.length;u++){var c=r(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},398623:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},176871:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},495455:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},25927:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var i=void 0!==r.layer;i&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,i&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},386100:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},976060:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n,i=r(704210),s=r(376002),o=r(384333),a=(r(724479),r(710749)),l=r(844019);e=r.hmd(e);const u=a.Z.recordEvent,c=a.Z.recordChange;let h=(0,i.Z)((0,o.Z)("UIComponent"),e,"UIComponent")(n=class extends s.Z{})||n;function d(e,t,r){if(!r.get)throw new Error("@Cache can only be applied on getters.");if("function"==typeof e)throw new Error("@Cache cannot be used with static getters.");if(!(e instanceof l.Z||e instanceof h.__proto__))throw new Error("@Cache can only be used on a Disposable class.");const n="_"+t,i="_binder_"+t,s=function(){if(a.Z.mutator){const e=this[n],r=this[i].get();if(e===r)return;return this[n]=r,void c(this,t,r,e)}c(this,t)},o=r.get;r.get=function(){a.Z.active&&u(this,t);let e=this[i];if(!e){const t=o.bind(this);e=this.link(new a.Z(t,void 0,!0,s.bind(this),void 0,this)),this[i]=e,this[n]=e.previousValue}return e.dirty&&(this[n]=e.get()),this[n]}}},909102:e=>{function t(e,t){for(let r=0,n=this.length;r<n;r++){const n=this[r];if(e.call(t,n,r))return n}}function r(e,r,n){if(e)return(Array.prototype.find||t).call(e,r,n)}r.polyfill=function(){Array.prototype.find||(Array.prototype.find=t)},e.exports=r},272544:e=>{const t=(e,t)=>t.toUpperCase();e.exports=function(e){return e.replace(/-+([^-]?)/g,t)}},971685:(e,t,r)=>{e.exports=r(443853).deepClone},908796:(e,t,r)=>{r(423702),r(58619),r(892437);const n=[Array,Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];function i(e){return null==e}"undefined"!=typeof Uint8ClampedArray&&n.push(Uint8ClampedArray),e.exports=function e(t,r){if(t===r)return!0;if(i(t)||i(r))return!1;if(typeof t!=typeof r)return!1;if(t instanceof Date&&r instanceof Date)return t.getTime()===r.getTime();if(t instanceof RegExp&&r instanceof RegExp)return t.toString()===r.toString();if(t instanceof ArrayBuffer&&r instanceof ArrayBuffer)return e(new Uint8Array(t),new Uint8Array(r));if(t instanceof Map&&r instanceof Map||t instanceof Set&&r instanceof Set)return e(Array.from(t),Array.from(r));if(function(e,t){return n.some((r=>e instanceof r&&t instanceof r))}(t,r)){const n=!Array.isArray(t);if(t.length!==r.length)return!1;for(let i=0,s=t.length;i<s;i++)if(n){if(t[i]!==r[i])return!1}else if(!e(t[i],r[i]))return!1;return!0}if("object"==typeof t&&"object"==typeof r){let n=Object.keys(t),i=Object.keys(r);return n.sort(),i.sort(),e(n,i)&&n.every((n=>e(t[n],r[n])))}return!1}},292007:(e,t,r)=>{e.exports=r(29543).defaults},897867:e=>{e.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}},885186:e=>{function t(e,r,n){if(r===e);else if(Array.isArray(r)&&Array.isArray(e))for(let i=0,s=r.length;i<s;i++)e[i]=t(e[i],r[i],n);else if("object"==typeof r&&"object"==typeof e)for(let i in r){let s=n&&n(e[i],r[i],i);void 0===s&&(s=t(e[i],r[i],n)),e[i]=s}else void 0===r&&void 0!==e||(e=r);return e}e.exports=function(e){const r=Array.prototype.slice.call(arguments,1);let n;"function"==typeof r[r.length-1]&&(n=r.pop());for(let i=0,s=r.length;i<s;i++)e=t(e,r[i],n);return e}},575827:(e,t,r)=>{e.exports=r(443853).shallowClone},443853:(e,t,r)=>{function n(e,t,r){"object"==typeof t&&(r=t.depth,t=t.circular);var n=[],i=[];return void 0===t&&(t=!0),void 0===r&&(r=1/0),function e(r,s){if(null===r)return null;if(0===s)return r;var o,a,l;if("object"!=typeof r)return r;if(r instanceof Map)o=new Map;else if(r instanceof Set)o=new Set;else if(r instanceof Promise)o=new Promise((function(t,n){r.then((function(r){t(e(r,s-1))}),(function(t){n(e(t,s-1))}))}));else if(Array.isArray(r))o=[];else{if((l=r)instanceof ArrayBuffer||l instanceof Int8Array||l instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)return r.slice(0);r instanceof RegExp?(o=new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")),r.lastIndex&&(o.lastIndex=r.lastIndex)):r instanceof Date?o=new Date(r.getTime()):r instanceof Error?o=Object.create(r):(a=Object.getPrototypeOf(r),o=Object.create(a))}if(t){var u=n.indexOf(r);if(-1!==u)return i[u];n.push(r),i.push(o)}r instanceof Map&&r.forEach((function(t,r){var n=e(r,s-1),i=e(t,s-1);o.set(n,i)})),r instanceof Set&&r.forEach((function(t){var r=e(t,s-1);o.add(r)}));for(let t in r){var c;a&&(c=Object.getOwnPropertyDescriptor(a,t)),c&&null===c.set||(o[t]=e(r[t],s-1))}if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(r);for(let t=0;t<h.length;t++){var d=h[t],p=Object.getOwnPropertyDescriptor(r,d);p&&!p.enumerable||(o[d]=e(r[d],s-1),p.enumerable||Object.defineProperty(o,d,{enumerable:!1}))}}return o}(e,r)}r(423702),r(58619),r(892437),r(724479),e.exports={shallowClone:e=>n(e,!0,1),deepClone:e=>n(e,!0)}},29543:e=>{const t=Object.prototype,r=t.hasOwnProperty;e.exports={defaults:function(e){e=Object(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.forEach((n=>{if(null!==n){n=Object(n);for(const i in n){const s=e[i];(void 0===s||s===t[i]&&!r.call(e,i))&&(e[i]=n[i])}}})),e}}},488542:e=>{let t=0;e.exports=function(e){return(e||"")+ ++t}},710749:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n,i,s=r(390871),o=(r(724479),r(270750)),a=r(764910),l=r(716508),u=r(22309),c=r(844019),h=r(317771),d=r(917424),p=a.Z.filter,f={},g=[],m=!1;const y=function(){};let v=(0,s.Z)({FirstExecutionMarker:f})((i=class e extends c.Z{static pushMutator(t){e.mutatorsStack.push(e.mutator),e.mutator=t}static popMutator(t){e.mutator===t?e.mutator=e.mutatorsStack.pop():console.error("Trying to pop a mutator that is not in the top of the stack")}static run(t,r,n){var i=e.active;e.active=t;var s=n&&n.track;s&&(t.track=n,d.Z.groupStart("Running "+(n.name||"bindings")));try{return r.call(n)}finally{s&&(d.Z.groupEnd("Running "+(n.name||"binder")),t.track=null),e.active=i}}static recordEvent(t,r){var n=e.active;if(n){if(n.track){let e=(0,h.Z)(t)+"-"+(t.constructor?t.constructor.name:"Anonymous");d.Z.log("Recording",e,r)}n.push({obj:t,eventName:r})}}static recordChange(t,r,n,i){o.Z.trigger(t,r);var s=e.mutator;s&&s.record(t,r,n,i)}constructor(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l.Z,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;var a;if(super(),this.previousValue=f,this.bindings=[],this.dirty=!!n,this.disposableParent=o,this.valueGetter="function"==typeof(a=t)?a:"object"==typeof a&&"function"==typeof a.get?a.get:y,this.set=function(e){return"object"==typeof e&&"function"==typeof e.set?e.set:y}(t),this.callback=r||y,i&&i instanceof u.Z){var c=i,h=this.apply.bind(this);i=()=>c.push(h,s)}this.invalidate=()=>{if(e.active!==this){if(this.track){var t=new Error;Error.captureStackTrace(t),d.Z.log("change detected",window._signal,t.stack)}i?(this.dirty=!0,i()):this.compute()}},n?this.get():this.compute()}removeBindings(){var e=this.bindings;if(e){for(var t=this.invalidate,r=0,n=e.length;r<n;++r){var i=e[r];i.ref.remove(t),i.dispose&&i.dispose()}this.bindings=null}}dispose(){this.removeBindings(),super.dispose()}update(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r=this.previousValue;if(r===f||r!==e)return this.previousValue=e,t&&this.callback(e),!0}apply(){if(!this.isDisposed&&this.dirty)return this.compute()}_computeInnerValue(){this.dirty=!1,this.removeBindings();var t=this.disposableParent;if(!t||!t.isDisposed){m&&(g=[]),m=!0;var r=g,n=e.run(r,this.valueGetter,this);if(n=p(r,n),m=!1,!r.length)return n;g=[];var i=this.invalidate;for(let e=0,t=r.length;e<t;++e){let t=r[e];t.ref=o.Z.on(t.obj,t.eventName,i)}return this.bindings=r,n}}compute(){var e=this._computeInnerValue();return this.update(e,!0)}get(){var e=this._computeInnerValue();return this.update(e,!1),e}},i.mutatorsStack=[],i.active=null,i.mutator=null,n=i))||n},918016:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n,i=r(936544),s=r(804256),o=r(774985),a=r(710749),l=r(270750);let u=(n=class extends a.Z{update(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{previousValue:r}=this;return r===e?!!this.lengthChanged&&(this.lengthChanged=!1,t&&this.invokeCallback(e),!0):(r===this.FirstExecutionMarker?this.previousValue=e:r&&"object"==typeof r&&l.Z.stopListening(this,r),this.lengthChanged=!1,e&&"object"==typeof e&&l.Z.listenTo(this,e,"change",this.onLengthChanged),t&&this.invokeCallback(e),!0)}onLengthChanged(){this.lengthChanged=!0,this.invalidate()}invokeCallback(e){e instanceof o.Z?this.callback(e.base):this.callback(e)}},(0,i.Z)(n.prototype,"onLengthChanged",[s.Z],Object.getOwnPropertyDescriptor(n.prototype,"onLengthChanged"),n.prototype),n)},764910:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=[r(461288).Z],i=1;const s={add(e){n.push(e),i=n.length},remove(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),i=n.length},filter(e,t){for(var r=0,s=i;r<s;++r){var o=n[r](e,t);if(o)return o.value}return t}}},774985:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});class n{}},461288:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(897867),i=r.n(n);function s(e,t){if(i()(t)){var r=t._torq_binding;if(r)return r.resolved||e.push({eventName:"update",obj:r}),r}}},270750:(e,t,r)=>{"use strict";r.d(t,{e:()=>n,Z:()=>o});var n="_signals";const i=Symbol("owner"),s=function(e){return null!==e};class o{constructor(e){this[i]=void 0,this[i]=e,this.handlers=[],this.nullHandlers=0}add(e){this.handlers.push(e)}remove(e){var t=this.handlers,r=t.indexOf(e);-1!==r&&(t[r]=null,this.nullHandlers++,this.nullHandlers>t.length/4&&(this.handlers=t.filter(s),this.nullHandlers=0))}trigger(){for(var e=this.handlers.slice(),t=this[i],r=0,n=e.length;r<n;++r){var s=e[r];s&&s.apply(t,arguments)}}triggerNoArgs(){for(var e=this.handlers.slice(),t=this[i],r=0,n=e.length;r<n;++r){var s=e[r];s&&s.call(t)}}triggerWithArray(e){for(var t=this.handlers.slice(),r=this[i],n=0,s=t.length;n<s;++n){var o=t[n];o&&o.apply(r,e)}}static trigger(e,t){var r=e._signals;if(r&&r[i]===e){var n=r[t];if(n)return n.triggerWithArray(Array.prototype.slice.call(arguments,2)),n}}static triggerNoArgs(e,t){var r=e._signals;if(r&&r[i]===e){var n=r[t];if(n)return n.triggerNoArgs(),n}}static on(e,t,r){var s=e._signals;s&&s[i]===e||((s={})[i]=e,Object.defineProperty(e,n,{enumerable:!1,configurable:!1,value:s}));var a=s[t];return a||(a=s[t]=new o(e)),a.handlers.push(r),a}static off(e,t,r){var n=e._signals;if(n&&n[i]===e){var s=n[t];s&&s.remove(r)}}static listenTo(e,t,r,n){var i=e._listening;i||(e._listening=i=[]);var s=function(){n.apply(e,arguments)};i.push({obj:t,name:r,method:n,handler:s}),o.on(t,r,s)}static stopListening(e,t,r,n){var i=e._listening;if(i)for(var s=0,a=i.length;s<a;){var l=i[s];t&&l.obj!==t||r&&l.name!==r||n&&l.method!==n?++s:(o.off(l.obj,l.name,l.handler),i.splice(s,1),--a)}}}},632504:(e,t,r)=>{"use strict";function n(e,t,r){"function"==typeof r.get?r.get=function(){throw new Error(`Abstract getter ${t} called on ${e.constructor.name}`)}:"function"==typeof r.set?r.set=function(){throw new Error(`Abstract setter ${t} called on ${e.constructor.name}`)}:(r.writable=!0,r.value=function(){throw new Error(`Abstract method ${t} called on ${e.constructor.name}`)})}r.d(t,{Z:()=>n}),r(724479)},804256:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i}),r(724479);var n=r(242436);function i(e,t,r){const i=n.Z.getInitialValue(r);if("function"!=typeof i)throw new Error(`@Bind can only be applied to a function. (property: ${t})`);delete r.value,delete r.writable,r.get=function(){if(e===this)return i;const r=i.bind(this);return Object.defineProperty(this,t,{configurable:!0,enumerable:!1,value:r}),r}}},384333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(242436).Z.makeClassDecorator(((e,t,r)=>{if(t&&(e.prototype._xrayClassName=t),r){const t=e.prototype.events;Object.assign(e.prototype,r),r.events&&t&&(e.prototype.events=t.concat(r.events))}}))},242436:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(724479);class n{static _isDirectClassInvocation(e){return 1===e.length&&"function"==typeof e[0]}static _isDirectPropertyInvocation(e){return 3===e.length&&e[2]&&Object.prototype.hasOwnProperty.call(e[2],"configurable")}static wrapPropertyDecorator(e,t,r){const i=n.getInitialValue(r);return delete r.value,delete r.writable,r.get=function(){if(e===this)return i;const r=n.makePropertyDecorator(i.bind(this));return Object.defineProperty(this,t,{configurable:!0,enumerable:!1,value:r}),r},r}static makePropertyDecorator(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(n._isDirectPropertyInvocation(i))return e.apply(this,i);if(t.throwOnClassInvocation&&n._isDirectClassInvocation(i))throw new Error(t.throwOnClassInvocation);return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.apply(this,r.concat(i))}}}static makeClassDecorator(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n._isDirectClassInvocation(r)?e.apply(this,r):function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(this,n.concat(r))}}}static getInitialValue(e){return e.initializer?e.initializer():e.value}}},704210:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(270750),i=r(51435);function s(e){this.name=e,this.signal=new n.Z}function o(e,t,r){return function(n){var o=e(n)||n,a=t.hot;if(a){var l="component"+r,u=a.data&&a.data[l];a.accept(),a.dispose((e=>e[l]=u)),u?(u.instance=o,i.Z.push((()=>u.signal.triggerNoArgs()))):u=new s(r),o.hotReloader=u}return o}}},229619:(e,t,r)=>{"use strict";function n(e,t,r){var n="_"+t,i=r.get;if(!i)throw new Error("@Memoize can only be applied on getters.");r.get=function(){if(Object.prototype.hasOwnProperty.call(this,n))return this[n];var e=i.call(this);return this[n]=e,Object.defineProperty(this,t,{configurable:!0,value:e}),e}}r.d(t,{Z:()=>n}),r(724479)},20607:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(710749);const i=n.Z.recordEvent,s=n.Z.recordChange,o={defaultValue:!0};function a(e,t,r){const a="_"+t,l=r.initializer;if(l)Object.defineProperty(e,a,{configurable:!0,enumerable:!1,writable:!0,value:o});else if(e[a]===o)return{configurable:!0,enumerable:!1,get(){return delete e[t],this[t]},set(r){delete e[t],this[t]=r}};var u=e.definedObservables;return Object.prototype.hasOwnProperty.call(e,"definedObservables")||(u=u?Object.assign({},u):{},Object.defineProperty(e,"definedObservables",{configurable:!0,enumerable:!1,writable:!0,value:u})),u[t]=!0,{configurable:!0,enumerable:!1,get(){n.Z.active&&i(this,t);var e=this[a];return e===o&&(e=this[a]=l.call(this)),e},set(e){var r=this[a];r===o&&(r=this[a]=l.call(this)),r!==e&&(this[a]=e,s(this,t,e,r))}}}},390871:(e,t,r)=>{"use strict";function n(e){return function(t){e&&Object.assign(t.prototype,e)}}r.d(t,{Z:()=>n})},527596:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(716508),i=r(242436);const s=i.Z.makePropertyDecorator(((e,t,r,s,o)=>{"number"==typeof s?(o=s,s=n.Z):(s||(s=n.Z),"number"!=typeof o&&(o=0));let a=i.Z.getInitialValue(r),l="_task_"+t;delete r.value,delete r.writable,r.get=function(){if(e===this)return a;let r,n=this[l];if(n)return n;let i=()=>{this.isDisposed||a.apply(this,r)};return n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r=t,s.push(i,o)},n.cancel=()=>{s.remove(i)},Object.defineProperty(this,l,{value:n,enumerable:!1}),Object.defineProperty(this,t,{value:n,enumerable:!1}),n}}))},376002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w}),r(724479);var n=r(272544),i=r.n(n);const s=/^(?:(.+?):)?(on-)?(.*)$/,o=function(){};class a{constructor(e,t){this.isEvent=t,this.configurable=!0,this.enumerable=!1,e.get?(this.get=e.get,this.set=e.set||o):this.value=e.value;const r=s.exec(e.original||e.name||"");this.namespace=r[1],this.name=r[3],this.normalizedName=a.normalizeName(r[3]),this.isEvent=this.isEvent||!!r[2]}static normalizeName(e){return i()(e)}isValid(){return!!this.name}toChildAttribute(e,t){let r=t&&this.namespace?this.namespace+":":"";return this.isEvent?{name:r+"on-"+this.name,value:this.value.bind(e)}:this.get?{name:r+this.name,get:this.get.bind(e),set:this.set.bind(e)}:{name:r+this.name,value:this.value}}matchesNamespace(e){return!e||e===this.namespace}static forEachSpread(e,t,r){for(let n of t){const t=n(e);if(t instanceof Array)for(let e of t){const t=new a(e);t.isValid()&&r(t)}else if("object"==typeof t)for(let e in t){let n=t[e];if(Object.prototype.hasOwnProperty.call(t,e)){let t;n&&(Object.prototype.hasOwnProperty.call(n,"value")||Object.prototype.hasOwnProperty.call(n,"get"))?(n.name=e,t=n):t={name:e,value:n};const i=new a(t);i.isValid()&&r(i)}}}}}var l=r(910913),u=r(109268),c=r(917424),h=r(488542),d=r.n(h),p=null,f={};const g=Symbol("addToChildAttributes"),m=Symbol("shouldPropagateChildAttribute"),y=Symbol("attachSpreads"),v=Symbol("getChildTemplate"),b=Symbol("renderChildTemplate");class w extends u.Z{constructor(){if(super(),p){var{scope:e,factory:t,data:r,spreads:n}=p;r.$_component=this,this.scope=e,this.$_depth=t.depth,this.$_factory=t,this.$_view=r,n&&this[y](n)}}attached(){}detached(){}[v](e){if(this.childrenBlocks)return this.childrenBlocks[e]||this.childrenBlocks[e.replace(/:/g,"_")]}[b](e,t){let r={template:e,$_parent:this.$_view};return t&&(r.$_injectScope=e=>{for(var r=0,n=t.length;r<n;++r)e[`v${r}`]=t[r]}),r}renderChildren(e,t){if(e=e||"children",!t&&e instanceof Array&&(t=e,e="children"),t&&!(t instanceof Array))throw new Error("args parameter to renderChildren() must be an array");let r=this[v](e);return r?this[b](r,t):null}get children(){return this.renderChildren()}[m](e){if(e.isEvent){if(this.events&&(this.events.indexOf(e.name)>-1||this.events.indexOf(e.normalizedName)>-1))return!1}else if(this.definedAttributes&&this.definedAttributes[e.normalizedName])return!1;return!0}[g](e,t,r){t.matchesNamespace(r)&&this[m](t)&&e.push(t.toChildAttribute(this,!r))}undeclaredAttributes(e){const t=[];if(this.sourceAttributes)for(let r of this.sourceAttributes)this[g](t,new a(r),e);if(this.spreadAttributes&&a.forEachSpread(this.$_view,this.spreadAttributes,(r=>{this[g](t,r,e)})),this.eventAttributes)for(let r of this.eventAttributes)this[g](t,new a(r,!0),e);return t}static attachAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return t;for(var n=0,i=e.length;n<i;++n){const i=new a(e[n]),s=i.normalizedName,o=t.definedAttributes&&t.definedAttributes[s];if(!o){const e=s in t;if(t.definedObservables&&t.definedObservables[s])console.warn(`WARNING: The JSX attribute "${s}" was passed to a component declaring an @Observable of the same name. The JSX attribute will be ignored in a future Torq release. Use the @Attribute decorator to declare JSX attributes.`);else{if(e){console.warn(`ERROR: The JSX attribute "${s}" was passed to a component declaring a property of the same name. Ignoring the JSX attribute.`);continue}if(r)continue}}Object.defineProperty(t,o||s,i)}return t}[y](e){const t=this.events,r=this.definedAttributes;(r||t)&&a.forEachSpread(this.$_view,e,(e=>{const n=e.name,i=e.normalizedName,s=r&&r[i];s?Object.defineProperty(this,s,e):e.isEvent&&t&&t.indexOf(n)>-1&&!e.namespace&&e.value&&this.on(n,e.value)}))}static getBlockTemplate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children";if(e)for(var r=0,n=e.length;r<n;++r){var i=e[r];if(i.name===t)return i.template}}static attachBlockTemplates(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)for(var r=0,n=e.length;r<n;++r){var i=e[r];t[i.name]=i.template}return t}static make(e){var t,r,n,i,s,o,u,h,d,g,{attributes:m,spreads:y,blocks:v,init:b,events:_}=e||{};C(this);var P,A,x,S=l.ZP.make({render:function(e,t){var o=p;p=f||{},f=null,p.scope=n?e.scope.fork():e.scope,p.data=t,p.factory=e,p.spreads=y,p.definedAttributes=d;var a=new r;p.scope=null,p.data=null,f=p,p=o,b&&b(t,a),h&&O(a);var u,c=e.pushScope(a.scope),{parentNode:g,nextNode:m}=e,v=i&&i.call(a);v&&v.template?((u=v.template.make(e)).$_parent=t,u.$_scope=v):u=l.ZP.EmptyTemplate.make(e),e.parentNode=g,e.nextNode=m,t.$_view=u,u.template.run(e,u),e.restoreScope(c),s&&s.call(a),P&&(t.$_hotReloadFactory=e,t.$_hotReloadScope=e.scope,t.$_hotReloadNext=A,A&&(A.$_hotReloadPrevious=t),A=t)},reuse:D,dispose:k,move:function(e,t){var r=t.$_view;r.template.move(e,r)},firstChild:function(e,t){var r=t.$_view;return r.template.firstChild(e,r)},lastChild:function(e,t){var r=t.$_view;return r.template.lastChild(e,r)}});return(P=t.hotReloader)&&(x=new Set,P.signal.add((()=>{c.Z.log("[HMR] Patching component",P.name);let e=0;for(let t=A;t;t=t.$_hotReloadNext)++e,k(t.$_hotReloadFactory,t,!0);c.Z.log("[HMR] Disposed ",e," instances of ",P.name),C(P.instance),x.forEach((e=>S.releaseCache(e))),e=0;for(let t=A;t;t=t.$_hotReloadNext){++e;let r=t.$_hotReloadFactory,n=r.pushScope(t.$_hotReloadScope);D(r,t,!0),r.restoreScope(n)}c.Z.log("[HMR] Updated ",e," instances of ",P.name)}))),S;function C(e){if(t=e,r=class extends t{},w.attachAttributes(m,r.prototype,!0),r.prototype.childrenBlocks=w.attachBlockTemplates(v),r.prototype.sourceAttributes=m,r.prototype.spreadAttributes=y,r.prototype.eventAttributes=_,n=r.prototype.fork,i=r.prototype.render,s=r.prototype.attached,o=r.prototype.detached,s===w.prototype.attached&&(s=null),o===w.prototype.detached&&(o=null),u=r.prototype.dispose,d=r.prototype.definedAttributes,(g=r.prototype.events)&&_){h=[];for(let e=0,t=_.length;e<t;++e){const t=_[e];if(g.indexOf(t.name)>-1)h.push(t);else{var l=a.normalizeName(t.name);g.indexOf(l)>-1&&(t.name=l,h.push(t))}}}}function O(e){for(var t=0,r=h.length;t<r;++t){var n=h[t];e.on(n.name,n.value)}}function D(e,t,o){var a=p;p=f||{},f=null,p.scope=n?e.scope.fork():e.scope,p.data=t,p.factory=e,p.spreads=y,p.definedAttributes=d;var u=new r;p.scope=null,p.data=null,f=p,p=a,b&&b(t,u),h&&O(u);var c=e.pushScope(u.scope);e.gotoAfterView(t.$_view),t.$_view.template.cache(e,t.$_view);var g,{parentNode:m,nextNode:v}=e,w=i&&i.call(u);w&&w.template?((g=w.template.make(e)).$_parent=t,g.$_scope=w):g=l.ZP.EmptyTemplate.make(e),e.parentNode=m,e.nextNode=v,t.$_view=g,g.template.run(e,g),e.restoreScope(c),s&&s.call(u),!o&&P&&(t.$_hotReloadFactory=e,t.$_hotReloadScope=e.scope,t.$_hotReloadNext=A,A&&(A.$_hotReloadPrevious=t),A=t)}function k(e,t,r){var n=t.$_component;!r&&P&&(t.$_hotReloadFactory=e,A===t&&(A=t.$_hotReloadNext),t.$_hotReloadNext&&(t.$_hotReloadNext.$_hotReloadPrevious=t.$_hotReloadPrevious),t.$_hotReloadPrevious&&(t.$_hotReloadPrevious.$_hotReloadNext=t.$_hotReloadNext),t.$_hotReloadScope=null,t.$_hotReloadNext=null,t.$_hotReloadPrevious=null,t.$_hotReloadFactory=null,x.add(e)),o&&o.call(n);var i=t.$_view;i.template.dispose(e,i),h&&function(e){for(var t=0,r=h.length;t<r;++t){var n=h[t];e.off(n.name,n.value)}}(n),b&&b(t,null),u&&u.call(n),i.$_parent=null,i.$_scope=null,i.$_factory=null,n.scope=null,n.$_view=null,t.$_component=null}}static makeDynamic(e){var t=d()("_dynamicTemplate");return{make(r,n){if(!n)return l.ZP.EmptyTemplate;var i=n[t];return i&&i.$_base===n||((i=n[t]=r.makeComponent(n,e)).$_base=n),i}}}}},910913:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>a}),r(724479);var n=r(292007),i=r.n(n);const s={render(){},init(){},dispose(){},move(){},reuse(){}};var o=0;class a{static make(e){if(!e.firstChild)return console.warn("Template didn't provide a first child method, so we cannot use it. Switching to EmptyTemplate.",e),a.EmptyTemplate;e.lastChild||(e.lastChild=e.firstChild);var t=++o;const r=!1!==e.cache;var n=i()(e,s),{render:l,init:u,dispose:c,move:h,reuse:d,prepare:p}=n,f={};return n.render=function(e,t){++e.depth,l(e,t),u(e,t),--e.depth},n.dispose=function(e,t){if(t.$_disposed)throw new Error("Invalid dispose on disposed template.");var{parentNode:r,nextNode:n}=e;c(e,t),t.$_disposed=!0,e.parentNode=r,e.nextNode=n},n.reuse=function(e,t){if(!t.$_disposed)throw new Error("Invalid reuse on live template.");t.$_disposed=!1;var{parentNode:r,nextNode:n}=e;++e.depth,d(e,t),u(e,t),--e.depth,e.parentNode=r,e.nextNode=n},n.cache=function(e,n){var i=e.parentNode,s=e.nextNode;n.$_disposed||(n.$_disposed=!0,c(e,n)),n.$_cache||(e.parentNode=n.$_cache=e.makeFragment(),e.nextNode=null,h(e,n),r&&e.templates.put(t,n)),e.parentNode=i,e.nextNode=s},n.run=function(e,t){if(!t.$_cache)return++e.depth,l(e,t),u(e,t),void--e.depth;e.pushNode(t.$_cache),t.$_cache=null,t.$_disposed=!1;var{parentNode:r,nextNode:n}=e;++e.depth,d(e,t),u(e,t),--e.depth,e.parentNode=r,e.nextNode=n},n.make=function(e){if(f[e.id]||(p&&p(e),f[e.id]=!0,r&&e.templates.init(t)),r){var i=e.templates.take(t);if(i)return i}return{template:n,$_cache:null,$_disposed:!1}},n.releaseCache=function(e){e.templates.removeAll(t)},n}}a.EmptyTemplate=a.make({render(e,t){t.comment=e.pushCommentNode("empty template")},move(e,t){e.pushNode(t.comment)},firstChild:(e,t)=>t.comment})},716508:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(370482),i=r(51435);const s=new n.Z(i.Z,"UI Task Queue",100)},3020:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(872245);class i{constructor(){this.promise=new n.Z(((e,t)=>this._deferredApi={resolve:e,reject:t}))}resolve(e){this._deferredApi.resolve(e)}reject(e){this._deferredApi.reject(e)}}},844019:(e,t,r)=>{"use strict";function n(e){e.dispose?e.dispose():"function"==typeof e&&e()}r.d(t,{Z:()=>i});class i{link(e){var t=this._disposables;return t||(t=this._disposables=[]),t.push(e),e}unlink(e){var t=this._disposables;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}}disposeLink(e){this.unlink(e),n(e)}dispose(){this.isDisposed=!0;var e=this._disposables;if(e){this._disposables=null;for(var t=e.length-1;t>=0;--t)n(e[t])}}}},699416:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=window},917424:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});class n{static log(){console.log.apply(console,arguments)}static assert(){console.assert.apply(console,arguments)}static table(){console.table.apply(console,arguments)}static groupStart(){console.group.apply(console,arguments)}static groupEnd(){console.groupEnd.apply(console,arguments)}}},370482:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n,i=r(936544),s=r(804256),o=r(22309);let a=(n=class extends o.Z{constructor(e,t,r){super(),this.parent=e,this.name=t,this.priority=r}enqueue(){this.parent.push(this.run,this.priority)}register(e){e?this.parent.after.push(this.enqueue):this.enqueue()}},(0,i.Z)(n.prototype,"enqueue",[s.Z],Object.getOwnPropertyDescriptor(n.prototype,"enqueue"),n.prototype),n)},317771:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=0,i="__object_id__";function s(e){if(!e||"number"==typeof e||"string"==typeof e)return e;if(!Object.prototype.hasOwnProperty.call(e,i)){var t="_"+ ++n;return Object.defineProperty(e,i,{enumerable:!1,configurable:!1,writable:!1,value:t}),t}return e[i]}s.set=function(e,t){Object.defineProperty(e,i,{enumerable:!1,configurable:!1,writable:!1,value:t})};const o=s},872245:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(270750);class i extends Promise{constructor(e){var t={resolved:!1,value:void 0};t.obj=t,super(((r,i)=>{const s=e=>{t.resolved=!0,t.value=e,n.Z.trigger(t,"update")};e((e=>{s(e),r(e)}),(e=>{s(null),i(e)}))})),this._torq_binding=t}}},880511:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o}),r(724479);var n=r(270750),i=r(710749),s=r(774985);class o extends s.Z{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;super(),this._swapItems(e)}_swapItems(e){if(e instanceof Set)this.base=e;else{if("function"!=typeof e[Symbol.iterator])throw new Error("ObservableSet expects either a Set object or an iterable object.");this.base=new Set(e)}}swapItems(e){this._swapItems(e),n.Z.trigger(this,"change")}get size(){return i.Z.active&&i.Z.recordEvent(this,"change"),this.base.size}get length(){return this.size}[Symbol.iterator](){return this.base.values()}}var a=Set.prototype,l=o.prototype,u=["add","clear","delete"];function c(e,t){return t?function(){var t=e.apply(this.base,arguments);return n.Z.trigger(this,"change"),t}:function(){return i.Z.active&&i.Z.recordEvent(this,"change"),e.apply(this.base,arguments)}}for(var h=Object.getOwnPropertyNames(a),d=0,p=h.length;d<p;++d){var f=h[d];Object.prototype.hasOwnProperty.call(l,f)||(l[f]=c(a[f],-1!==u.indexOf(f)))}},109268:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(844019),i=r(270750),s=r(710749),o=r(918016),a=r(716508);const l=function(){};class u extends n.Z{watch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.Z,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.$_depth||0;return this.link(new s.Z(e,t,r,n,i,this))}watchCollection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.Z,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.$_depth||0;return this.link(new o.Z(e,t,r,n,i,this))}multiWatch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.Z,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.$_depth||0;return this.link(new s.Z((()=>e.map((e=>e()))),(e=>t.apply(null,e)),r,n,i,this))}defineObservable(e,t){if(Object.prototype.hasOwnProperty.call(this,e))this[e]=t;else{var r="_"+e;this[r]=t;var n=this;Object.defineProperty(this,e,{configurable:!0,enumerable:!1,get:()=>(s.Z.active&&s.Z.recordEvent(n,e),n[r]),set(t){var i=n[r];i!==t&&(n[r]=t,s.Z.recordChange(n,e,t,i))}})}}dispose(){this.stopListening(),super.dispose()}trigger(e){if(Object.prototype.hasOwnProperty.call(this,i.e)){var t=this[i.e][e];if(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];t.trigger.apply(t,n)}}}on(e,t){return i.Z.on(this,e,t)}off(e,t){return i.Z.off(this,e,t)}listenTo(e,t,r){return i.Z.listenTo(this,e,t,r)}stopListening(e,t,r){return i.Z.stopListening(this,e,t,r)}}},22309:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n,i=r(936544),s=r(804256),o=r(632504),a=r(317771);let l=(n=class{constructor(){this.running=!1,this.registered=!1,this.itemMap={},this.maxBucket=-1,this.buckets=[],this.bucketMap={}}register(){}push(e,t,r){var n=(0,a.Z)(e);t=Number(t)||0;var i=this.itemMap[n];if(i){if(i.lateBinder=r,i.cancel=!1,i.priority!==t){var s=i.bucket.items,o=s.indexOf(i);s[o]=null,i.priority=t}else if(!i.executed)return;i.executed=!1}else i={callback:e,priority:t,cancel:!1,executed:!1,lateBinder:r},this.itemMap[n]=i;var l=this.bucketMap[t]||this._makeBucket(t);this.maxBucket=Math.max(this.maxBucket,l.index),i.bucket=l,l.items.push(i),this.registerIfNeeded()}_makeBucket(e){for(var t=this.buckets,r=0,n=t.length-1;r<=n;){var i=Math.round((r+n)/2);t[i].priority<e?n=i-1:r=i+1}var s=this.bucketMap[e]={priority:e,items:[],index:r};this.buckets.splice(r,0,s),r<=this.maxBucket&&++this.maxBucket;for(var o=t.length;r<o;++r)t[r].index=r;return s}wrap(e,t,r){return()=>this.push(e,t||0,r)}registerIfNeeded(){this.registered||(this.registered=!0,this.register(this.inAfterCall))}get after(){var e=this._after;return e||(e=this._after=new u(this)),e}remove(e){var t=(0,a.Z)(e),r=this.itemMap[t];r&&(r.executed=!1,r.cancel=!0)}execHoisted(e){for(;e.length;){var t=e.pop();t.cancel||(t.executed=!0,t.callback())}}execCallbacks(e){for(var t=this.buckets;this.maxBucket>=0;){var r=t[this.maxBucket].items;if(r.length){var n=r.pop();n&&!n.cancel&&(n.lateBinder?e?e.push(n):e=[n]:(n.executed=!0,n.callback()))}else--this.maxBucket}return e}run(){if(this.maxBucket>=0){this.running=!0;for(var e=null;this.maxBucket>=0||e;)try{for(;this.maxBucket>=0||e;)(e=this.execCallbacks(e))&&(this.execHoisted(e),e=null)}catch(e){console.error(e),console.error(e.stack)}this.running=!1}this.itemMap={},this.registered=!1;var t=this._after;t&&(this.inAfterCall=!0,t.run(),this.inAfterCall=!1)}quickRun(){if(this.maxBucket>=0){this.running=!0;for(var e=null;this.maxBucket>=0||e;)(e=this.execCallbacks(e))&&(this.execHoisted(e),e=null);this.running=!1}this.itemMap={},this.registered=!1;var t=this._after;t&&(this.inAfterCall=!0,t.run(),this.inAfterCall=!1)}},(0,i.Z)(n.prototype,"register",[o.Z],Object.getOwnPropertyDescriptor(n.prototype,"register"),n.prototype),(0,i.Z)(n.prototype,"run",[s.Z],Object.getOwnPropertyDescriptor(n.prototype,"run"),n.prototype),(0,i.Z)(n.prototype,"quickRun",[s.Z],Object.getOwnPropertyDescriptor(n.prototype,"quickRun"),n.prototype),n);class u extends l{constructor(e){super(),this.parent=e}register(){this.parent.registerIfNeeded()}}},645923:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(699416);const i=n.Z.performance&&n.Z.performance.now?()=>performance.now():Date.now?()=>Date.now():()=>(new Date).getTime()},51435:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n,i=r(936544),s=r(804256),o=r(22309),a=r(699416),l=r(645923),u=function(e){setTimeout(e,0)},c=a.Z.requestAnimationFrame||a.Z.webkitRequestAnimationFrame||a.Z.mozRequestAnimationFrame||u,h=c;const d=new(n=class extends o.Z{constructor(){super(...arguments),this.tickTime=(0,l.Z)()}get background(){return h===u}set background(e){h=e?u:c}register(){h.call(a.Z,this.run)}request(e){h.call(a.Z,e)}wrapAll(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];r.forEach((t=>e[t]=this.wrap(e[t].bind(e))))}wrap(e){return()=>this.push(e)}tick(){(0,l.Z)()-this.tickTime>=5&&this.run()}run(){this.tickTime=(0,l.Z)(),super.run.call(this)}},(0,i.Z)(n.prototype,"run",[s.Z],Object.getOwnPropertyDescriptor(n.prototype,"run"),n.prototype),n)},368220:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});const n={app:!0,shareType:null};window.siteCheck=()=>{console.log("Entry.app",n.app),console.log("Entry.site",n.site),console.log("Entry.sdk",n.sdk)};const i=n},481458:(e,t,r)=>{"use strict";var n=r(368220);delete n.default.app,n.default.sdk=!0},780457:(e,t,r)=>{"use strict";var n=r(936544),i=r(81581),s=r(242436);const o=s.Z.makePropertyDecorator(((e,t,r,n)=>{i.Z.is_enabled(n)&&Object.defineProperty(e,t,r)}));r(766486),r(865533),r(724479),r(481458);var a=r(286058),l=(r(423702),r(58619),r(892437),r(109268)),u=r(36907);const c=function(){let e=!1;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if("boolean"==typeof r[0]&&(e=r[0],r.shift()),!e)return Object.assign(...r);const i={},s=e=>{for(const r in e){var t;Object.prototype.hasOwnProperty.call(e,r)&&("[object Object]"===(null===(t=e[r])||void 0===t?void 0:t.toString())?i[r]=c(!0,i[r],e[r]):void 0!==e[r]&&(i[r]=e[r]))}};for(const e of r)s(e);return i},h={extend:c};var d,p,f,g,m;i.Z.is_enabled("debug")?(g=new u.Z,f={},m={usedLrMobile:{enabled:!1,value:!1},usedLrDesktop:{enabled:!1,value:!1},accountStatus:{enabled:!1,value:"trial"},debugDialogTab:"Account"},window.Debug=d={enabled:!0,overrides:g.get("debug_overrides")||h.extend(!0,{},m),saveOverrides:function(){var e;return(e=new Date).setFullYear(e.getFullYear()+1),g.set("debug_overrides",JSON.stringify(d.overrides),{path:"/",expires:e})},clearOverrides:function(){return d.overrides=h.extend(!0,{},m),g.remove("debug_overrides",{path:"/"})}},d.overrides=h.extend(!0,{},m,d.overrides),window.DebugManager=p={set:function(e,t,r){return f[e]=t,d[e]=r},remove:function(e){return delete d[e],delete f[e]}},p.set("help","list available commands",(function(){var e,t,r;for(t in r="",f)e=f[t],r+=`\n${t}:${Array(15-t.length).join(" ")}${e}`;return r}))):(window.Debug=d={},window.DebugManager=p={set:function(){},remove:function(){}});const y={shouldOverrideLrDesktopUsage:function(){return i.Z.is_enabled("debug")&&d.overrides.usedLrDesktop.enabled},getLrDesktopUsageOverride:function(){return d.overrides.usedLrDesktop.value},setLrDesktopUsageOverride:function(e,t){return d.overrides.usedLrDesktop.enabled=e,d.overrides.usedLrDesktop.value=t},shouldOverrideLrMobileUsage:function(){return i.Z.is_enabled("debug")&&d.overrides.usedLrMobile.enabled},getLrMobileUsageOverride:function(){return d.overrides.usedLrMobile.value},setLrMobileUsageOverride:function(e,t){return d.overrides.usedLrMobile.enabled=e,d.overrides.usedLrMobile.value=t},getDebugDialogTab:function(){return d.overrides.debugDialogTab},setDebugDialogTab:function(e){return d.overrides.debugDialogTab=e},doRandomFailure:function(e,t){var r;return!(null!=(r=i.Z.is_enabled("debug_random_failures")&&Math.random()<t)&&!r||(console.log(`Randomly failing ${e}`),0))},setDoFailureFeedDashboard:function(e){return d.overrides.failFeedDashboard=e},getDoFailureFeedDashboard:function(){return d.overrides.failFeedDashboard}};var v,b=r(155398);function w(e,t,r){var n,i,s,o,a,l;for(i in s=Object.getOwnPropertyDescriptors(t.prototype),r&&(o=new Set(r)),l=[],s)if(n=s[i],null!=o||"constructor"!==i)if(null==o||o.has(i)){if(null!=e.prototype[i])throw new Error(`Mixin method ${null!=(a=t.prototype.constructor)?a.name:void 0}.${i} hides ${v(e,i)}.${i}`);l.push(Object.defineProperty(e.prototype,i,n))}else l.push(void 0);return l}function _(e){return function(t){if(e){Array.isArray(e)||(e=[e]);for(const r of e)w(t,r)}}}v=function(e,t){var r;return r=function(e){return e.hasOwnProperty(t)?e.constructor.name:r(Object.getPrototypeOf(e))},r(e.prototype)};var P=r(229619),A=r(20607),x=r(956508),S=r(710749),C=r(3020);let O;if(window.ZString){var D,k,I,T;const e=window.ZString;e._callbacks||(e._callbacks=[],e._locale=e.locale,e._translations=e.translations,Object.defineProperty(e,"locale",{configurable:!0,enumerable:!0,get:()=>e._locale,set(t){if(t!==e._locale){e._locale=t;for(const r of e._callbacks)r.locale(t)}}}),Object.defineProperty(e,"translations",{configurable:!0,enumerable:!0,get:()=>e._translations,set(t){if(t!==e._translations){e._translations=t;for(const r of e._callbacks)r.translations(t)}}}));let t=_({prototype:e})(D=class extends l.Z{})||D;k=class extends t{get locale(){return this._locale}set locale(t){e.locale=t}get translations(){return this._translations}set translations(t){e.translations=t}translate(){return S.Z.recordEvent(this,"_translations"),S.Z.recordEvent(this,"_locale"),super.translate(...arguments)}constructor(){super(),(0,b.Z)(this,"_locale",I,this),(0,b.Z)(this,"_translations",T,this),this._readyDeferred=new C.Z,this._isReady=!1,this.watch((()=>this.locale),(e=>{null==e||this._isReady||(this._isReady=!0,this._readyDeferred.resolve())})),e._callbacks.push({locale:e=>{this._locale=e},translations:e=>{this._translations=e}})}get readyJP(){return this._readyDeferred.promise}get language_display_name(){return this.locale_hash[this.locale]}get locale_hash(){const e={};for(const t of x.supported){const r=x.display_names[t];r&&(e[t]=r)}return e}},I=(0,n.Z)(k.prototype,"_locale",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e.locale}}),T=(0,n.Z)(k.prototype,"_translations",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e.translations}}),(0,n.Z)(k.prototype,"locale_hash",[P.Z],Object.getOwnPropertyDescriptor(k.prototype,"locale_hash"),k.prototype),O=k}else O=r(878565).Z;const E=new O;for(let[e,t]of Object.entries(x.urls))Object.defineProperty(E,e,{get(){const{locale:r}=this,n=x.adobecom_language_codes[r],i=n?`${n}/`:"",s=(5===r.length?r.split("-",2)[1]:r).toLowerCase();if("string"!=typeof t)if(t.locales)t=t.locales[r]||t.locales.default;else if(t.hostnames)t=t.hostnames[window.location.hostname]||t.hostnames.default;else{if(!t.environments||"undefined"==typeof env)throw e;t=t.environments[env]||t.environments.default}return t.replace("${adobecom_country_fragment}",i).replace("${locale}",r).replace("${country_code_downcase}",s)}});const j=E.translate.bind(E),R=E;var Z,N=r(872245),F=r(250223),L=r.n(F);Z=function(){var e,t,r,i,s;let o=(e=class{constructor(){(0,b.Z)(this,"account",t,this),(0,b.Z)(this,"userDefaults",r,this),(0,b.Z)(this,"catalogContext",i,this),(0,b.Z)(this,"spaceContext",s,this),this._hostOverride="https://lightroom.adobe.com",this._callbacks=[],this.defaultPageSize=100,this.haveNginxProxy=!0,this.authErrorCallback=void 0}get hostOverride(){return this._hostConfig}set hostOverride(e){return this._hostConfig=e,this._callbacks.forEach((e=>e(this)))}watch(e){return this._callbacks.push(e),e(this)}},t=(0,n.Z)(e.prototype,"account",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,n.Z)(e.prototype,"userDefaults",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=(0,n.Z)(e.prototype,"catalogContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,n.Z)(e.prototype,"spaceContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return o.prototype.XMP_CAMERA_RAW_MAX_LENGTH=10240,o}.call(void 0);const $=new Z;var M,U,z,q,H,B;i.Z.is_enabled("automation")?(z={},q={},H=class extends l.Z{metricTriggered(e){return null==q[e]&&(q[e]=0),q[e]++}constructor(){super(),(0,b.Z)(this,"forceGridHover",B,this),this.forceGridHover=!1}},B=(0,n.Z)(H.prototype,"forceGridHover",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=H,window.Automation=M=new M,window.AutomationManager=U={set:function(e,t,r){return z[e]=t,window.Automation[e]=r},remove:function(e){return delete window.Debug[e],delete z[e]}},U.set("scrollGridto","Scroll the current torq grid to (left, top)",(function(e,t){return setTimeout((function(){var r,n,i,s,o;return null!=(null!=(n=window.Automation.controller)&&null!=(i=n.virtualScroll)&&null!=(s=i.scroll)?s.scrollTo:void 0)?window.Automation.controller.virtualScroll.scroll.scrollTo(e,t):null!=(null!=(o=window.Automation.controller.scroll)?o.scrollTo:void 0)&&"function"==typeof(r=window.Automation.controller.scroll).scrollTo?r.scrollTo(e,t):void 0}),300)})),U.set("animateGridto","Animate the current torq grid to (left, top)",(function(e,t){var r,n,i;return null!=(r=window.Automation.controller)&&null!=(n=r.virtualScroll)&&null!=(i=n.scroll)&&"function"==typeof i.animateTo?i.animateTo(e,t):void 0})),U.set("setGridHover","true/false - Force torq grid to hovered state",(function(e){return window.Automation.forceGridHover=e})),U.set("getVisibleGridAssets","idsOnly(=true), includePartiallyVisible(=false) - Get visible grid assets",(function(e,t){var r;return null!=(r=window.Automation.controller)?r.getAssetsInView(e,t):void 0})),U.set("getInviteLinkForEmail","Get the invite link for a share invite on the currently viewed album (email)",(function(e){var t;return null!=(t=window.Automation.controller)?t.automationGetInviteLinkForEmail(e):void 0})),U.set("didMetricTrigger","Check if a metric was triggered. Pass a count if you need to confirm the number of times it fired.",(function(e,t){return null!=q[e]&&(null==t||q[e]===t)})),U.set("clearMetricCache","Clears the cache used to track automation for metrics.",(function(){return q={}})),U.set("deleteAllDiscovers","Delete discovers for the current logged-in author. Will delete all by default, or `numToDelete` if given.",(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r,n;return null==(null!=(n=null!=(t=window.Automation.controller)?t.scope.store:void 0)&&null!=(r=n.author)?r.me:void 0)?console.error("Error accessing store"):await n.author.me.debugDeleteAllDiscovers(e)})),U.set("resetProfileEdits","Reset your author profile in Community.",(async function(){var e,t,r;return null==(null!=(r=null!=(e=window.Automation.controller)?e.scope.store:void 0)&&null!=(t=r.author)?t.me:void 0)?console.error("Error accessing store"):await r.author.me.debugResetAllProfileEdits()})),U.set("help","list available commands",(function(){var e,t,r;for(t in r="",z)e=z[t],r+=`\n${t}:${Array(22-t.length).join(" ")}${e}`;return r}))):(window.Automation=M={},window.AutomationManager=U={set:function(){},remove:function(){}});var W=r(369935),J=r.n(W);const V=J(),G=/^debug_log_((?:_(?!_)|[^_])*[^_])(?:__(.*))?/,X=[];for(const e of i.Z.all_enabled()){const t=G.exec(e);if(null!=t){const[,e,r="*"]=t;X.push(`${e}:${r}`)}}const Y=X.join(",");J().enable(Y),V.enable(Y);const K=J();var Q,ee,te=r(804256),re=r(22309),ne=[].indexOf;Q=class extends re.Z{constructor(e,t){super(),this.readyState=e,this.eventName=t}register(){var e;return e=document.readyState,ne.call(this.readyState,e)>=0?setTimeout(this.run,0):window.addEventListener(this.eventName,this.exec)}exec(){return this.run()}},(0,n.Z)(Q.prototype,"exec",[te.Z],Object.getOwnPropertyDescriptor(Q.prototype,"exec"),Q.prototype);const ie={interactive:new(ee=Q)(["interactive","complete"],"DOMContentLoaded"),complete:new ee(["complete"],"load")};var se=r(368220).default;class oe{get launchEnvironment(){return"lightroom.adobe.com"===window.location.hostname?"production":"stage"}get readyJP(){return oe.readyJP}constructor(){if(se.sdk)oe.readyJP=Promise.resolve();else{window.marketingtech={adobe:{launch:{property:"global",environment:this.launchEnvironment},target:i.Z.is_enabled("target"),audienceManager:!1}};const e=async()=>{await Promise.resolve().then(r.t.bind(r,837033,23)),await window.__satelliteLoadedPromise};oe.readyJP=e()}}}oe.readyJP=void 0;const ae=new oe;var le=r(770119);class ue{get consented(){return ue.consented}get consentedJP(){return ue.consentedJP}constructor(){var e;null!==(e=window.adobePrivacy)&&void 0!==e&&e.hasUserProvidedConsent()?(ue.consented=!0,ue.consentedJP=Promise.resolve()):ue.consentedJP=new Promise(((e,t)=>{const r=()=>{ue.consented=!0,e(),i()},n=()=>{ue.consented=!1,t(),i()},i=()=>{window.removeEventListener("adobePrivacy:PrivacyConsent",r),window.removeEventListener("adobePrivacy:PrivacyReject",n),window.removeEventListener("adobePrivacy:PrivacyCustom",n)};window.addEventListener("adobePrivacy:PrivacyConsent",r),window.addEventListener("adobePrivacy:PrivacyReject",n),window.addEventListener("adobePrivacy:PrivacyCustom",n)}))}}ue.consented=void 0,ue.consentedJP=void 0;const ce=new ue;var he,de,pe,fe,ge,me,ye,ve=r(368220).default;me=K("metrics_track:info"),ge=K("metrics_report:info"),ye=K("metrics_verbose:info"),fe=function(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t;return t=16*Math.random()|0,("x"===e?t:3&t|8).toString(16)}))},pe=new u.Z,de=class extends l.Z{constructor(){super(),ve.sdk?this.disabled=!0:(this.disabled=!1,this.initializeJP(),this.watch((()=>R.locale),(e=>{if(null!=e)return this._updateLocale()})))}setPage(e){return this.page=e,this.wildcardPath||(this.wildcardPath="/")}initializeJP(){return null==this.initPromise&&(this.initPromise=Promise.all([new Promise((e=>ie.complete.push(e))),R.readyJP,le.Z.readyJP,ae.readyJP,ce.consentedJP]).then((async()=>{await this.initializeIngestJP();try{i.Z.is_enabled("debug")&&this.debuglogMetricStatus()}catch(e){}return this.reportPageLoad()}))),this.initPromise}_updateLocale(){var e,t;if(this._canTrackIngest()&&(this._ingestDefaultPayload["event.language"]=R.getLocaleWithUnderscore()),this._canReportAdobe())return window.digitalData._set("digitalData.page.pageInfo.language",null!=(e=null!=(t=R.locale)?t.toLowerCase():void 0)?e:"us")}async getImsUtilsJP(){var e;return({default:e}=await new N.Z(((e,t)=>Promise.all([r.e(96904),r.e(53763)]).then(r.bind(r,120602)).then(e,t)))),e}async initializeIngestJP(){var e,t,r,n,i,s,o,a,l,u,c,h,d,p,f,g,m,y;if(!this.disabled){if(t=$.account,i={getAccessToken:async function(e){var t;try{await le.Z.readyJP,t=le.Z.getToken()}catch(e){}return e(null,t)}},this._debugLog&&(i.log=function(e){return ye(e)}),"1.0.0",n={ENVIRONMENT:function(){switch(window.location.hostname){case"lightroom.adobe.com":return"prod";case"stage.adobelr.com":return"stage";default:return"dev"}}(),ALLOW_NO_TOKEN:!0,ANALYTICS_MAX_QUEUED_EVENTS:100,ANALYTICS_API_KEY:"LightroomMobileWeb1",ANALYTICS_X_PRODUCT:`${window.location.hostname}/1.0.0`,ANALYTICS_PROJECT:"lr-web-service"},this._ingest=new(L())(i,n),this._ingest.enable(!0),this._ingestDefaultPayload={"event.language":R.getLocaleWithUnderscore(),"event.session_guid":fe(),"event.offline":!1,"event.user_agent":navigator.userAgent,"event.category":"WEB","event.referrer":document.referrer,"source.name":"Lightroom","source.platform":"Web","source.version":"1.0.0"},null!=t&&(this._ingestDefaultPayload["event.user_guid"]=t.getWCDGuid()),e=await this.getImsUtilsJP(),({adobeid:r}=e),null!=(null!=r?r.client_id:void 0)&&(this._ingestDefaultPayload["source.client_id"]=r.client_id),!ve.sdk)try{l=await e.getProfileJP()}catch(e){}if(null!=l&&null!=(p=null!=(u=l.serviceAccounts)?u[0]:void 0)&&(this._ingestDefaultPayload["user.service_code"]=p.serviceCode,this._ingestDefaultPayload["user.service_level"]=p.serviceLevel),await ae.readyJP,(g=e=>{if(null!=e)return this._ingestDefaultPayload["event.visitor_guid"]=e})(y=null!=(c=window._satellite)?c.getVisitorId().getMarketingCloudVisitorID(g):void 0),null!=pe.get("lrig")?this._ingestDefaultPayload["event.context_guid"]="internal":(s=0,f=()=>{var e;if(null!=(y=null!=(e=window.s_adblightroomweb)?e.marketingCloudVisitorID:void 0)&&(this._ingestDefaultPayload["event.visitor_guid"]=y),s++,null!=y||s>25)return clearInterval(o)},o=window.setInterval(f,200)),this._debugLog){for(a in ye("Ingest common variables:"),d=[],h=this._ingestDefaultPayload)m=h[a],d.push(ye(`\t${a}: ${m}`));return d}}}setAdobePageVariables(e){this.pageVariables=e}setNewNavigationContext(e){return this.navView=e,this.contextSequence=1}setViewChangeSource(e){this.viewChangeSource=e}reportViewChange(e,t,r){return this.view=e,this.wildcardPath=t,this._reportAdobeViewChange(this.view),this._reportNRViewChange(this.view,this.wildcardPath,r)}reportWithView(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._report(t,e,r)}report(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._report(e,this.view,t)}track(e,t,r){for(var n,i,s,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return 1===a.length?"string"==typeof(n=a[0])||n instanceof String?i=n:s=n:a.length>1&&([i,s]=a),this._track(e,t,r,i,s)}debuglogMetricStatus(){return null!=this.debugLogTimeout&&clearTimeout(this.debugLogTimeout),this.debugLogTimeout=setTimeout((()=>(console.group("Metrics State"),console.log("Adobe metrics (Launch) enabled : ",!!this._canReportAdobe()),console.log("NewRelic metrics enabled: ",!!this._canReportNewrelic()),console.log("Ingest metrics enabled: ",null!=this._ingest),console.groupEnd(),this.debugLogTimeout=null)),500)}reportAdobeOnly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._report(e,this.view,t,"adobe")}reportNROnly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._report(e,this.view,t,"newrelic")}reportPageLoad(){var e,t;try{if(null!=this.page)return t=`${this.page[0].toUpperCase()}${this.page.slice(1)}`,he.track(t,"Default","page","render"),this._reportAdobeViewChange(`${this.page}Load`);if(i.Z.is_enabled("debug"))return console.error("No page name on page load.")}catch(t){return e=t,console.error(`Error: ${e}`)}}reportFailure(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.failure="true",this._report(e,this.view,t)}reportClickWithView(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.reportWithView(e,t,r)}get _debugLog(){return!this.disabled&&(i.Z.is_enabled("debug_log_metrics_track")||i.Z.is_enabled("debug_log_metrics_report")||i.Z.is_enabled("debug_log_metrics_verbose"))}_report(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;var s,o,a,l;try{if(i.Z.is_enabled("automation")&&(r.automation=!0),this._debugLog)for(o in ge(`${"adobe"===n?"Adobe":"newrelic"===n?"NewRelic":""}: [${e}]${null!=t?` view[${t}]`:""} path[${this.wildcardPath}]`),r)l=r[o],ge(`\t\t(lrw.)${o}: ${l}`);for(o in null!=n&&"adobe"!==n||this._reportAdobe(e,t,r),null!=n&&"newrelic"!==n||this._reportNR(e,t,r),a={},r)l=r[o],"automation"!==o&&(a[`lrw.${o}`]=l);if(null==n||"adobe"===n)return this._track("Legacy","Metric",e,"click",a,"ingest")}catch(e){return s=e,console.log(`Error: ${s}`)}}_reportNR(e,t,r){var n,i,s,o;if(this._canReportNewrelic()){for(i in n={page:this.page},null!=t&&(n.view=t),r)o=r[i],n[i]=o;return n.visitor_guid=null!=(s=window._satellite)?s.getVisitorId().getMarketingCloudVisitorID():void 0,window.newrelic.addPageAction(e,n)}}_reportNRViewChange(e,t,r){var n,i,s,o,a,l,u;if(({newrelic:o}=window),s=`${window.location.host}${t}`,n=null!=o?o.interaction():void 0,this._debugLog){for(i in a=[],r)u=r[i],a.push(`query-${i}=${u}`);null==this.viewChangeSource&&console.warn("No view change source"),ge(`NewRelic View: view[${e}], interaction[${s}], changeSource[${null!=(l=this.viewChangeSource)?l:""}] vars[${a.join("&")}]`)}if(this._canReportNewrelic()){if(null!=n){for(i in n.setName(s),n.setAttribute("view",e),null!=this.viewChangeSource&&(n.setAttribute("view-change-source",this.viewChangeSource),this.viewChangeSource=null),r)u=r[i],n.setAttribute(`query-${i}`,u);return n.save()}this.viewChangeSource=null}}_canReport(){return!this.disabled&&ce.consented}_canReportAdobe(){return this._canReport()&&null!=window.digitalData&&null!=window._satellite}_canReportNewrelic(){return this._canReport()&&null!=window.newrelic}_canTrackIngest(){return this._canReport()&&null!=this._ingest}_initAdobeLaunchGlobals(){var e,t;if(!this.adobeLaunchGlobalsInitialized)return window.digitalData._set("digitalData.page.pageInfo.siteSection","lightroom.adobe.com"),window.digitalData._set("digitalData.page.pageInfo.language",null!=(e=null!=(t=R.locale)?t.toLowerCase():void 0)?e:"us"),window.digitalData._set("digitalData.page.pageInfo.legacyMarketSegment","com"),window.digitalData._set("digitalData.lightroom.test","lr_no_test"),window.digitalData._set("digitalData.page.pageInfo.pageName",this.page),window.digitalData._set("digitalData.primaryProduct.productInfo.productName","Lightroom"),this.adobeLaunchGlobalsInitialized=!0}_debugGetDigitalDataPageInfo(){var e;return delete(e=Object.assign({},window.digitalData.page.pageInfo)).location,delete e.queryParameters,e}_reportAdobe(e,t,r){var n,i,s,o;if(this._canReportAdobe()){if(this._initAdobeLaunchGlobals(),window.digitalData._set("digitalData.primaryEvent.eventInfo.eventName",`${e}`),window.digitalData._set("digitalData.page.attributes",r),window._satellite.track("event",{digitalData:window.digitalData._snapshot()}),this._debugLog)for(i in n=window.digitalData,ye(`Report Launch event [${e}]`),s=Object.assign({eventName:n.primaryEvent.eventInfo.eventName},this._debugGetDigitalDataPageInfo(),n.page.attributes),ye("\t\tDigitalData",window.digitalData),s)o=s[i],ye(`\t\t${i}: ${JSON.stringify(o)}`);return window.digitalData._delete("digitalData.primaryEvent.eventInfo.eventName"),window.digitalData._delete("digitalData.page.attributes")}}_reportAdobeViewChange(e){if(this._canReportAdobe())return this._initAdobeLaunchGlobals(),window.digitalData._set("digitalData.page.pageInfo.pageName",this.page),window.digitalData._set("digitalData.page.pageInfo.template",e),window._satellite.track("state",{digitalData:window.digitalData._snapshot()}),this._debugLog?(ge(`Adobe Launch View: view[${e}] hierarchy[${this.wildcardPath}]`),ye("\t\tDigitalData",window.digitalData)):void 0}_track(e,t,r,n,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;var a,l,u,c;try{if(i.Z.is_enabled("automation")&&(null==s&&(s={}),s.automation=!0,M.metricTriggered(`${e}:${t}:${r}`)),l=`${null!=e?e:""}:${null!=t?t:""}:${null!=r?r:""}`,null!=n&&(l+=`:${n}`),this._debugLog)for(u in me(`${"adobe"===o?"Adobe":"newrelic"===o?"NewRelic":"ingest"===o?"Ingest":""}: ${l} path[${this.wildcardPath}]`),s)c=s[u],me(`\t\t${u}: ${c}`);if(null!=o&&"adobe"!==o||this._reportAdobe(l,this.view,s),null!=o&&"newrelic"!==o||this._reportNR(l,this.view,s),null==o||"ingest"===o)return this._trackIngest(e,t,r,n,s)}catch(e){return a=e,console.error(`Error: ${a}`)}}_trackIngest(e,t,r,n,s){var o,a,l;if(this._canTrackIngest())return o=h.extend(!0,{},this._ingestDefaultPayload),o=h.extend(o,s),null!=r&&(o["event.subtype"]=r.toLowerCase().replace(/[^a-z\-]/,"")),null!=t&&(o["event.subcategory"]=t),null!=n&&(o["event.type"]=n.toLowerCase().replace(/[^a-z]/,"")),null!=e&&(o["event.workflow"]=e),i.Z.is_enabled("debug")&&"Legacy"!==e&&(null!=n&&(l=Boolean(n.match(/[^a-z]/))),null!=r&&(a=Boolean(r.match(/[^a-z\-]/))),(l||a)&&console.warn("invalid metric format",{type:n,action:r})),this._ingestDefaultPayload["event.contextSequence"]=this.contextSequence++,this._ingest.postEvent(o)}},he=new de,null!=window.metricsPageName?he.setPage(window.metricsPageName):he.setPage("unknown"),he.setViewChangeSource("pageLoad");const be=he;var we;we={app:null,appController:null,keyboardController:null,scrollableDocument:!1},M.enabled&&(M.AppGlobals=we),d.enabled&&(d.AppGlobals=we);var _e=r(666222);function Pe(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return function(r,i,o){const a=s.Z.getInitialValue(o),l=i+"__Safari_workaround";if(t){const e=i+t;Object.defineProperty(r,e,{value:a})}delete o.value,delete o.writable,o.get=function(){if(r===this)return a;let t=this[l];if(t)return t;t=e(a,...n);const s={value:t,enumerable:!1,configurable:!0};return Object.defineProperty(this,i,s),Object.defineProperty(this,l,s),t}}}function Ae(e,t,r){let n,i,s,o,a,l,u=0,c=!1,h=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){const r=n,s=i;return n=i=void 0,u=t,o=e.apply(s,r),o}function f(e){return u=e,a=setTimeout(m,t),c?p(e):o}function g(e){const r=e-l;return void 0===l||r>=t||r<0||h&&e-u>=s}function m(){const e=Date.now();if(g(e))return y(e);a=setTimeout(m,function(e){const r=e-u,n=t-(e-l);return h?Math.min(n,s-r):n}(e))}function y(e){return a=void 0,d&&n?p(e):(n=i=void 0,o)}function v(){const e=Date.now(),r=g(e);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(n=u,i=this,l=e,r){if(void 0===a)return f(l);if(h)return a=setTimeout(m,t),p(l)}return void 0===a&&(a=setTimeout(m,t)),o}return t=+t||0,"object"==typeof r&&(c=!!r.leading,h="maxWait"in r,s=h?Math.max(+r.maxWait||0,t):s,d="trailing"in r?!!r.trailing:d),v.cancel=function(){void 0!==a&&clearTimeout(a),u=0,n=l=i=a=void 0},v.flush=function(){return void 0===a?o:y(Date.now())},v}function xe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return Pe(Ae,"Now",e,t)}const Se=new class{constructor(){this.userAgent=null}get _userAgent(){return this.userAgent?this.userAgent:window.navigator.userAgent}_version(e){const t=this._userAgent.match(e);if(t&&t.length>1){const e=parseInt(t[1],10);return t.length>2?{major:e,minor:parseInt(t[2],10)}:e}}get iOS(){return this._version(/(?:CPU iPhone|iPod|iPad; CPU) OS ([0-9]+)_([0-9]+)/)}get edge(){return this._version(/Edge\/([\d]+)\./)}get android(){return/Android|Silk/.test(this._userAgent)}get silk(){return/Silk/.test(this._userAgent)}get ie(){return/MSIE|Trident/.test(this._userAgent)}get mobile(){return/Mobile|Android/i.test(this._userAgent)}get win(){return/Windows/.test(this._userAgent)}get win32(){return this.win&&!/Win64|WOW64/.test(this._userAgent)}get mac(){return!this.silk&&/Macintosh/.test(this._userAgent)}get chrome(){return this._version(/Chrome\/([\d]+)/i)}get safari(){if(/Safari/i.test(this._userAgent)&&!/(?:CriOS|Silk|Android)/i.test(this._userAgent))return this._version(/Version\/([\d]+)/)}get firefox(){return this._version(/Firefox\/([\d]+)/)}};var Ce,Oe,De,ke,Ie,Te,Ee,je,Re,Ze,Ne,Fe;Re=null,ke=null,Ze=[],Ce=class{constructor(e){(0,b.Z)(this,"serviceDown",Oe,this),(0,b.Z)(this,"statusCheckHref",De,this),this.statusCheckHref=e,this.polling=!1,this.downCycleCount=0}},Oe=(0,n.Z)(Ce.prototype,"serviceDown",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),De=(0,n.Z)(Ce.prototype,"statusCheckHref",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze={oz:new Ce(`${$.hostOverride}/v2/version`)},$.watch((e=>Ze.oz.statusCheckHref=`${e.hostOverride}/v2/version`)),Fe=function(){return null!=ke?ke.networkStatusChanged():void 0},Ee=!navigator.onLine,Ne=function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null!=Ze[e]&&Ze[e].serviceDown!==t&&(Ze[e].serviceDown=t,r))return Fe()},Te=function(e){return new Promise((function(t,r){var n,i,s;return n=(i=Ze[e]).statusCheckHref,(s=new XMLHttpRequest).onload=function(){if(!1!==i.polling||!1!==i.serviceDown)return i.polling=!1,Ne(e,!1,!1),Fe(),t()},s.onerror=function(){return Ne(e,!0),r()},s.open("GET",n),s.setRequestHeader("X-LrWeb-Check","status"),s.send()}))},je=function(e){var t,r;if(!Ee&&null!=Ze[e])return Ze[e].polling?void 0:(Ze[e].polling=!0,t=0,(r=()=>Te(e).catch((()=>Ee?(Ze[e].polling=!1,void Fe()):10==++t?(Ze[e].polling=!1,Fe()):setTimeout((()=>r()),5e3))))(),Fe())},window.addEventListener("DOMContentLoaded",(()=>{if(!Se.mobile)return window.addEventListener("offline",(()=>{if(!Ee)return Ee=!0,Fe()})),window.addEventListener("online",(()=>{var e;if(Ee){for(e in Ee=!1,Ze)"oz"!==e&&Ne(e,!1);return ke.checkService("oz"),Fe()}}))})),Ie=function(){var e,t;let r=(e=xe(5e3),t=class extends l.Z{constructor(){super(),this.setRequestsActive(!0)}makingRequest(){return this.setRequestsActive(!0),this._waitForIdle()}_waitForIdle(){return this.setRequestsActive(!1)}setRequestsActive(e){return this._requestsActive&&!e?(i.Z.is_enabled("debug")&&console.log("[[ Service Requests Idle ]]"),this.trigger("requests-idle")):!this._requestsActive&&e&&(i.Z.is_enabled("debug")&&console.log("[[ Service Requests Active ]]"),this.trigger("requests-active")),this._requestsActive=e}registerApp(e){return Re=e}isServiceUnreliable(e){return this.isServiceDown(e)||this.isPollingService(e)}isServiceDown(e){return!!Ee||"base"!==e&&(null!=Ze[e]?Ze[e].serviceDown:((i.Z.is_enabled("debug")||i.Z.is_enabled("automation"))&&alert(`Tried to get status for unknown service [${e}]`),!1))}debugSetServiceDown(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ze[e].serviceDown=t,Fe()}isNetworkDown(){return Ee}isPollingService(e){return!0===Ze[e].polling}reset(){var e,t;for(e in t=[],Ze)Ze[e].polling=!1,t.push(Ze[e].serviceDown=!1);return t}checkService(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;if("base"!==e)return r=Ze[e],t?r.downCycleCount=0:r.serviceDown||r.downCycleCount++,r.downCycleCount>=3?r.polling||r.serviceDown?void 0:(r.serviceDown=!0,Fe()):je(e)}networkStatusChanged(){return null!=Re&&Re.networkStatusChanged(),this.trigger("network-status-changed")}whenServiceAvailableP(e){return this.isServiceDown(e)?new Promise(((t,r)=>{var n;return n=()=>{if(!this.isServiceDown(e))return this.off("network-status-changed",n),t()},this.on("network-status-changed",n)})):Promise.resolve()}},(0,n.Z)(t.prototype,"_waitForIdle",[e],Object.getOwnPropertyDescriptor(t.prototype,"_waitForIdle"),t.prototype),t);return r.prototype._requestsActive=!1,r}.call(void 0),ke=new Ie,i.Z.is_enabled("debug")&&(window.ServiceStatus=ke);const Le=ke;var $e,Me=r(93155);const Ue=$e=function(){class e extends l.Z{_onAuthError(){}_onOzMaintenanceError(){return window.location.href.includes("redirect")||window.location.reload(),be.report("ozMaintenanceInApp")}_isAuthError(e,t,r){return 401===t}_isOzMaintenanceError(e,t,r){return 503===t&&"MaintenanceError"===(null!=e?e.code:void 0)}constructor(e){super(),this.href=e}createUuid(){var e,t,r,n,i,s,o,a,l,u,c,h;if(h="",null!=(null!=(r=window.crypto||window.msCrypto)?r.getRandomValues:void 0))for(t=new Uint8Array(16),r.getRandomValues(t),t[6]=15&t[6]|64,t[8]=63&t[8]|128,s=0,l=t.length;s<l;s++)1===(n=t[s].toString(16)).length?h+="0"+n:h+=n;else{for(e=new Array(4),c=(0,_e.r)().uint32,i=o=0;o<=3;i=++o)e[i]=c();for(e[1]=(4294905855&e[1]|16384)>>>0,e[2]=(1073741823&e[2]|2147483648)>>>0,a=0,u=e.length;a<u;a++){for(n=e[a].toString(16);n.length<8;)n="0"+n;h+=n}}return h}requestWithRetryP(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;var s,o,a;return a=0,s=Me.Deferred(),o=()=>a>i?s.reject(...arguments):(0!==a&&be.report("retryRequestP"),this.requestP(e,t,r,n).done((function(){return s.resolve(...arguments)})).fail((function(){return++a,o()}))),o(),s.promise()}safeToJSPromise(e){return new Promise(((t,r)=>e.done((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t(r)})).fail((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t)}))))}requestJP(){return this.safeToJSPromise(this.requestP(...arguments))}requestP(t,r,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var o,a,l,u,c,h,d,p,f,g,m,v,b,w,_;if(w=!1,i.Z.is_enabled("debug")&&e._forceFailNextRequest||(null!=y?y.doRandomFailure(r):void 0))return e._forceFailNextRequest=!1,console.error(r),Me.Deferred().reject("debugForcedFailure",-1).promise();if(Le.isServiceDown(this.serviceKey))return h=Me.Deferred(),setTimeout((()=>h.reject()),0),h.promise();for(d in({headers:p,contentType:c,async:o,responseType:m,cancelPromise:a}=s),null==o&&(o=!0),(g=!m||""===m||"text"===m)&&!s.hasOwnProperty("contentType")&&null==c&&(c="application/json;charset=utf-8"),h=Me.Deferred(),(_=new XMLHttpRequest).open(t,r||this.href,!0===o),null!=m&&(_.responseType=m),_.setRequestHeader("X-Requested-With","XMLHttpRequest"),p)null!=(b=p[d])&&_.setRequestHeader(d,b);return null!=window.FormData&&n instanceof window.FormData||n instanceof Blob?(f=function(e){return h.notify(e)},_.upload.addEventListener("progress",f),n instanceof Blob&&_.setRequestHeader("Content-Type",c)):null!=c&&_.setRequestHeader("Content-Type",c),Le.makingRequest(),_.send(n),null!=a&&a.then((function(){return w=!0,_.abort(),h.reject("aborted")})),window.ActiveXObject&&(v=function(){if(_.onreadystatechange=null,4!==_.readyState)return _.abort()},l=function(){return _.onreadystatechange=null,null!=f&&_.upload.removeEventListener("progress",f),Me(window).off("unload",v)},Me(window).on("unload",v)),u=()=>{var e,t,i,s;if(null!=u&&4===_.readyState){if(u=null,"function"==typeof l&&l(),t=(s=_.status)>=200&&s<300||304===s,g&&"string"==typeof _.responseText)try{n="application/rdf+xml"===_.getResponseHeader("Content-Type")?_.responseText:Me.parseJSON(_.responseText.replace("while (1) {}",""))}catch(e){}else n=_.response;if(t?e=h.resolve:(null!=_&&(i=_.getResponseHeader("x-request-id"),s>=400&&s<500?null!=i&&i.length>0&&console.warn(`${s} request id: ${i} (4xx responses are common for some API calls, especially when polling for renditions or attempting to add duplicate photos)`):null!=i&&i.length>0&&console.error(`Failed request id: ${i}`)),e=h.reject),e(n,s,_),this._isAuthError(n,s,_)&&this._onAuthError(),this._isOzMaintenanceError(n,s,_)){if(null==r&&(r=this.href),r.includes("sdk"))return h.reject({code:n.code});if(!r.includes("v2/spaces"))return this._onOzMaintenanceError()}else if((s>=500||0===s)&&!w)return Le.checkService(this.serviceKey)}},o?4===_.readyState?setTimeout(u):_.onreadystatechange=u:u(),h.promise()}}return e.prototype.serviceKey="base",e}.call(void 0);var ze;$e.debugForceFailNextRequest=function(){if(i.Z.is_enabled("debug"))return $e._forceFailNextRequest=!0},ze={lex64Encoding:"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",invalidRegExp:new RegExp("[^a-zA-Z0-9_-]","g"),maxLength:1024,nearStepEncodingWidth:4,MIDPOINT:"Uzzz",insertBefore:function(e,t){if(!this.invalidRegExp.test(e))return this.tryCatch("InsertBefore",(()=>this._insertBefore(e,t)))},insertBetween:function(e,t,r){if(!this.invalidRegExp.test(e)&&!this.invalidRegExp.test(t))return this.tryCatch("InsertBetween",(()=>this._insertBetween(e,t,r)))},insertAfter:function(e,t){if(!this.invalidRegExp.test(e))return this.tryCatch("InsertAfter",(()=>this._insertAfter(e,t)))},tryCatch:function(e,t){var r;try{if(!0===this._debugForceReindexNextOrder)throw this._debugForceReindexNextOrder=!1,"Forced Lex64 Error";return t()}catch(t){return r=t,i.Z.is_enabled("debug")&&console.log(`${e} Exception: ${r}`),void be.reportFailure("assetOrderLex64Error",{errorDescription:r})}},_insertBefore:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var n,i,s,o,a;return null===r&&(r=e),i=this.lex64Encoding,"high"===t?(a=i.slice(-1),e[0]===a&&e[1]===a?(r=e,this._insertBefore(e.substring(1),t,r.substring(1))):([o,n]=this.copyAndFill(e),this.nextOrderString(n,-1))):(s=i[0],this._insertBetween(s,e,t))},_insertBetween:function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";var i,s,o,a,l;if(i=e.charCodeAt(0),o=t.charCodeAt(0),n.length>this.maxLength)throw"Buffer Exhausted";if(s=this.decode[i],a=this.decode[o],s>this.maxDecodeValue||a>this.maxDecodeValue)throw"Invalid Character";if(s===a)return n+=this.encode[s],0!==i&&(e=e.substring(1)),0!==o&&(t=t.substring(1)),this._insertBetween(e,t,r,n);if(a<s)throw"Parameters out of Order";return s+1<a?(l=this.getCharBetween(s,a,r),n+this.encode[l]):(n+=this.encode[s],0!==i&&(e=e.substring(1)),this._insertAfter(e,r,n))},_insertAfter:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"middle",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";var n,i,s,o;if((i=this.decode[e.charCodeAt(0)])===this.maxDecodeValue&&("low"!==t||e[1]===e[0]))return r+=this.encode[i],e=e.substring(1),this._insertAfter(e,t,r);if("low"===t?([s,n]=this.copyAndFill(e),r+=this.nextOrderString(n,1)):(o=this.getCharBetween(i,this.maxDecodeValue+1,t),r+=this.encode[o]),r.length>this.maxLength)throw"Buffer Exhausted";return r},getCharBetween:function(e,t,r){if(t<=e+1)throw"Invalid values";if(t===e+2)return e+1;switch(r){case"low":return e+1;case"high":return t-1;default:return Math.floor(e+(t-e)/2)}},copyAndFill:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maxLength,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.encode[0];var n,i,s,o,a,l;for(o=t<=this.nearStepEncodingWidth?t-1:this.nearStepEncodingWidth,l=Array(t+1),n=i=0,a=o;i<a&&(s=e[n],!(n>=e.length));n=i+=1){if(this.decode[s.charCodeAt(0)]>this.maxDecodeValue)return[t+1,l];l[n]=s}for(;n<o;)l[n]=r,n++;if((l=l.join("")).length>this.maxLength)throw"Buffer Exhausted";return[o,l]},nextOrderString:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;var n,i,s,o,a,l;if(n=this.encode[0],o=this.maxDecodeValue,s=e.length,"string"==typeof e&&(e=e.split("")),1!==t&&-1!==t)throw"Invalid Arguments";if(i=s,a=e[--i],(l=this.decode[a.charCodeAt(0)])>this.maxDecodeValue)throw"Invalid Character";if(l===o){if(0===i)return r;e[i]=n}else e[i]=this.encode[l+t],i=0;for(;0!==i;){if(a=e[--i],(l=this.decode[a.charCodeAt(0)])>this.maxDecodeValue)throw"Invalid Character";if(l!==o){e[i]=this.encode[l+t];break}if(0===i)return r;e[i]=n}return 0===this.decode[e[s-1].charCodeAt(0)]?this.nextOrderString(e,t,r):e.join("").trim()},setupEncoding:function(){var e,t,r,n,i;for(this.decode=Array([256]),this.encode=this.lex64Encoding,t=r=0;r<=255;t=++r)this.decode[t]=255;for(this.decode[0]=0,this.maxDecodeValue=this.encode.length-1,t=n=0,i=this.encode.length;n<i;t=n+=1)e=this.encode.charCodeAt(t),this.decode[e]=t;return this.decode[void 0]=this.decode[0],this.decode.NaN=this.decode[0]}},ze.setupEncoding();const qe=ze;var He=r(562399),Be=r(885186),We=r.n(Be);const{LrSDK:Je}=window;let Ve={getJSONContentP:e=>new Promise((function(t,r){var n=new XMLHttpRequest;n.open("GET",e),n.setRequestHeader("x-api-key",He.Z.clientId),n.setRequestHeader("Authorization",`Bearer ${He.Z.token}`),n.onload=function(){if(200<=n.status&&n.status<300){var e=n.getResponseHeader("content-type");if("application/json"===e||"application/json;charset=utf-8"===e){var i=JSON.parse(n.responseText.replace(/^while\s*\(\s*1\s*\)\s*{\s*}\s*/,""));t(i)}else r("Unrecognized response content type")}else{var s=`XHR load failed with status ${n.status}`;r(s)}},n.onerror=()=>{var e=`XHR call failed with status ${n.status}`;r(e)},n.send()})),getPagedJSONContentP:e=>new Promise((function(t,r){var n=[];!function e(i){Ve.getJSONContentP(i).then((function(r){n=n.concat(r.resources),r.links&&r.links.next?e(r.base+r.links.next.href):(r.resources=n,t(r))}),r)}(e)})),putJSONContentP:(e,t)=>new Promise((function(r,n){var i=new XMLHttpRequest;i.open("PUT",e),i.setRequestHeader("x-api-key",He.Z.clientId),i.setRequestHeader("Authorization",`Bearer ${He.Z.token}`),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/json;charset=utf-8"),i.onload=function(){if(200<=i.status&&i.status<300)r();else{var e=`XHR PUT failed with status ${i.status}`;n(e)}},i.onerror=()=>{var e=`XHR PUT failed with status ${i.status}`;n(e)},i.send(JSON.stringify(t))})),postJSONContentP:(e,t)=>new Promise((function(r,n){var i=new XMLHttpRequest;i.open("POST",e),i.setRequestHeader("x-api-key",He.Z.clientId),i.setRequestHeader("Authorization",`Bearer ${He.Z.token}`),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Content-Type","application/json;charset=utf-8"),i.onload=function(){if(200<=i.status&&i.status<300)r();else{var e=`XHR POST failed with status ${i.status}`;n(e)}},i.onerror=()=>{var e=`XHR POST failed with status ${i.status}`;n(e)},i.send(JSON.stringify(t))})),deleteJSONContentP:e=>new Promise((function(t,r){var n=new XMLHttpRequest;n.open("DELETE",e),n.setRequestHeader("x-api-key",He.Z.clientId),n.setRequestHeader("Authorization",`Bearer ${He.Z.token}`),n.onload=function(){if(200<=n.status&&n.status<300)t();else{var e=`XHR POST failed with status ${n.status}`;r(e)}},n.onerror=()=>{var e=`XHR POST failed with status ${n.status}`;r(e)},n.send()}))},Ge={getLinksP:e=>Ve.getJSONContentP(e),getAccountP(e){var t=e.base+e.links["/rels/account"].href;return Ve.getJSONContentP(t)},getCatalogP(e){var t=e.base+e.links["/rels/catalogs"].href;return Ve.getPagedJSONContentP(t).then((function(e){if(e.resources.length<=0)return Promise.reject("no catalog");let t=e.resources[0];return t.base=e.base,t}))},getAlbumsP:function(e,t){var r=e.base+e.links["/rels/subtyped_albums"].href.replace("{subtype}",t);return Ve.getPagedJSONContentP(r)},async createAlbumP(e,t,r){var n=e.base+e.links.self.href+"/albums/"+Ue.prototype.createUuid();return await Ve.putJSONContentP(n,{subtype:t,payload:r}),Ve.getJSONContentP(n)},updateAlbumP(e,t){var r=e.base+e.links.self.href;return Ve.postJSONContentP(r,{payload:t})},deleteAlbumP(e){var t=e.base+e.links.self.href;return Ve.deleteJSONContentP(t)},getChildAlbumsP(e){var t=e.base+e.links["/rels/child_albums"].href;return Ve.getPagedJSONContentP(t)},getAlbumAssetsP(e){var t=e.base+e.links.self.href+"/assets?order_after=-";return Ve.getPagedJSONContentP(t)},async addAssetsWithIdsToAlbumP(e,t){if(t.length<1)return;let r=(new Date).toISOString(),n=[];for(let e=0,i=qe.MIDPOINT;e<t.length;e++)if(n.push({id:t[e],payload:{userCreated:r,userUpdated:r,order:i}}),i=qe.insertAfter(i,"low"),!i)return Promise.reject("failed to order assets");var i=e.base+e.links.self.href+"/assets";for(let e=n.length,t=0;t<e;t+=50){const e=n.slice(t,t+50);await Ve.putJSONContentP(i,{resources:e})}},async deleteAllAlbumAssetsP(e){let t=(await Ge.getAlbumAssetsP(e)).resources.map((e=>e.asset.id));var r=e.base+e.links.self.href+"/assets";for(let e=t.length,n=0;n<e;n+=100){const e=t.slice(n,n+100);await Ve.deleteJSONContentP(r+"?asset_ids="+e.join("%3B"),"")}}};class Xe{constructor(e,t,r,n){for(var i=0;i<n.resources.length;i++)n.resources[i].base=n.base;this._catalog=e,this._collections=t,this._serviceId=r,this._projects=n.resources,this._response=n}async getDeepCopyOfProjectListP(){return JSON.parse(JSON.stringify(this._response)).resources.forEach((e=>{delete e.base})),this._response}async getDeepCopyOfProjectWithIdP(e){let t=this._projects.find((t=>t.id===e));return t?JSON.parse(JSON.stringify(t)):Promise.reject("no matching project")}async _getProjectWithIdP(e){return this._projects.find((t=>t.id===e))||Promise.reject("no matching project")}async _getCollectionWithIdP(e){return this._collections.find((t=>t.id===e))||Promise.reject("failed to find collection")}async _createProjectP(e,t){let r=await Ge.createAlbumP(this._catalog,"project",e);return this._projects.push(r),await Ge.addAssetsWithIdsToAlbumP(r,t),r.id}async _getProjectWithSourceAlbumIdP(e){return this._projects.find((t=>{let r=t.payload.sourceAlbum;return r&&r.id===e}))}getUncachedProjectWithIdP(e){var t=this._response.base+this._response.links["/rels/album"].href.replace("{album_id}",e);return Ve.getJSONContentP(t)}async getUncachedProjectsP(){let e=await Ge.getAlbumsP(this._catalog,"project");return e.resources=e.resources.filter((e=>{var t=e.payload.publishInfo;return t&&t.serviceId===this._serviceId})),e}createProjectWithAssetIdsP(e,t){let r=(new Date).toISOString(),n={userCreated:r,userUpdated:r,name:e||r,publishInfo:{version:2,serviceId:this._serviceId}};return this._createProjectP(n,t||[])}async createProjectFromCollectionWithIdP(e){let t=await this._getCollectionWithIdP(e),r=(await Ge.getAlbumAssetsP(t)).resources.map((e=>e.asset.id)),n=(new Date).toISOString(),i={userCreated:n,userUpdated:n,name:t.payload.name||t.id,sourceAlbum:{id:t.id},publishInfo:{version:2,serviceId:this._serviceId}},s=t.payload.cover;return s&&(i.cover={id:s.id}),this._createProjectP(i,r)}async resetProjectWithIdFromSourceCollectionP(e){let t=await this._getProjectWithIdP(e);if(!t.payload.sourceAlbum)return;let r=this._collections.find((e=>e.id===t.payload.sourceAlbum.id));if(!r)return;let n=(await Ge.getAlbumAssetsP(r)).resources.map((e=>e.asset.id));return await Ge.deleteAllAlbumAssetsP(t),Ge.addAssetsWithIdsToAlbumP(t,n)}async updateProjectWithIdP(e,t){if(!t.userUpdated)return Promise.reject("missing userUpdated field");let r=await this._getProjectWithIdP(e),n=await Ge.updateAlbumP(r,t);return We()(r.payload,t),n}async deleteProjectWithIdP(e){let t=await this._getProjectWithIdP(e);if("project"!==t.subtype)return Promise.reject("missing project");let r=await Ge.deleteAlbumP(t),n=this._projects.findIndex((t=>t.id===e));return n>=0&&this._projects.splice(n,1),r}async getAssetsOfProjectWithIdP(e){let t=await this._getProjectWithIdP(e);return Ge.getAlbumAssetsP(t)}async deleteChildAlbumsOfProjectWithIdP(e){let t=await this._getProjectWithIdP(e);if("project"!==t.subtype)return Promise.reject("missing project");let r=await Ge.getChildAlbumsP(t),n=[];return r.resources.forEach((e=>{e.base=r.base,n.push(Ge.deleteAlbumP(e))})),Promise.all(n)}}class Ye{constructor(e,t,r){this._managers={},this._catalog=e,this._collections=t,this._response=r}_responseForService(e){let t=this._response.resources.filter((t=>{var r=t.payload.publishInfo;return r&&r.serviceId===e}));return{base:this._response.base,resources:t,links:this._response.links}}projectManagerForService(e){if(!this._managers[e]){let t=this._responseForService(e);this._managers[e]=new Xe(this._catalog,this._collections,e,t)}return this._managers[e]}}const Ke=new class{constructor(){this._linksPromise=null,this._accountPromise=null,this._catalogPromise=null,this._collectionsPromise=null,this._managerFactoryPromise=null,this._rootURL="https://photos.adobe.io/v2/"}_getCollectionsP(){return this._collectionsPromise||(this._collectionsPromise=this.getCatalogP().then((e=>Ge.getAlbumsP(e,"collection").then((e=>{let t=e.resources;return t.forEach((t=>{t.base=e.base})),t}))))),this._collectionsPromise}_getProjectManagerFactoryP(){return this._managerFactoryPromise||(this._managerFactoryPromise=this.getCatalogP().then((e=>this._getCollectionsP().then((t=>Ge.getAlbumsP(e,"project").then((r=>new Ye(e,t,r)))))))),this._managerFactoryPromise}getLinksP(){if(!this._linksPromise){let e="stage"===Je.environment?"https://photos-stage.adobe.io/v2/":"https://photos.adobe.io/v2/";this._linksPromise=Ge.getLinksP(e)}return this._linksPromise}getAccountP(){return this._accountPromise||(this._accountPromise=this.getLinksP().then(Ge.getAccountP)),this._accountPromise}getCatalogP(){return this._catalogPromise||(this._catalogPromise=this.getLinksP().then(Ge.getCatalogP)),this._catalogPromise}async getCollectionWithIdP(e){return(await this._getCollectionsP()).find((t=>t.id===e))||Promise.reject("no matching collection")}async getAssetsOfCollectionWithIdP(e){let t=await this.getCollectionWithIdP(e);return Ge.getAlbumAssetsP(t)}async getProjectManagerForServiceIdP(e){return(await this._getProjectManagerFactoryP()).projectManagerForService(e)}getProjectManagerP(){let e=He.Z.clientId;return this.getProjectManagerForServiceIdP(e)}};var Qe=r(317536),et=r(908796),tt=r.n(et);const{LrSDK:rt}=window,nt=new class{checkCachedProjectsP(){return Promise.all([rt.catalog.getProjectsP(),rt.catalog.getUncachedProjectsP()]).then((function(e){return e[0].resources.length!==e[1].resources.length?Promise.reject("FAILED: count"):e[0].resources.length}))}checkCachedProjectWithIdP(e){return Promise.all([rt.catalog.getProjectWithIdP(e),rt.catalog.getUncachedProjectWithIdP(e)]).then((function(e){if(!tt()(e[0].payload,e[1].payload))return Promise.reject("FAILED: cached not equal to uncached")}))}checkProjectMetadataP(e,t){return Promise.all([rt.catalog.getProjectWithIdP(e),rt.catalog.getCollectionWithIdP(t)]).then((function(t){let r=t[0],n=t[1];return r.payload.name!==n.payload.name?Promise.reject("FAILED: name"):n.payload.cover&&r.payload.cover.id!==n.payload.cover.id?Promise.reject("FAILED: cover"):r.id!==e?Promise.reject("FAILED: id"):r.payload.publishInfo?2!==r.payload.publishInfo.version?Promise.reject("FAILED: version"):r.payload.publishInfo.serviceId!==He.Z.clientId?Promise.reject("FAILED: serviceId"):void 0:Promise.reject("FAILED: publishInfo")}))}checkProjectAssetsP(e,t){return Promise.all([rt.catalog.getAssetsOfProjectWithIdP(e),rt.catalog.getAssetsOfCollectionWithIdP(t)]).then((function(e){let t=e[0].resources,r=e[1].resources;if(r.length!==t.length)return Promise.reject("FAILED: asset count");for(let e=r.length,n=0;n<e;n++){let e=r[n],i=t[n];if(e.asset.id!==i.asset.id)return Promise.reject("FAILED: asset id")}}))}checkCreateProjectFromCollectionWithIdP(e,t){return Promise.all([this.checkCachedProjectWithIdP(e),this.checkProjectMetadataP(e,t),this.checkProjectAssetsP(e,t)])}async checkUpdatePayloadP(e,t){if(!function e(t,r,n){if(t!==Object(t)||r!==Object(r))n=n&&t===r;else for(let i in r)n=e(t[i],r[i],n);return n}((await rt.catalog.getProjectWithIdP(e)).payload,t,!0))return Promise.reject("FAILED: payload")}checkUpdateProjectWithIdP(e,t){return Promise.all([this.checkCachedProjectWithIdP(e),this.checkUpdatePayloadP(e,t)])}async testCollectionWithIdP(e){let t=await rt.catalog.createProjectFromCollectionWithIdP(e);await this.checkCreateProjectFromCollectionWithIdP(t,e),console.log("PASSED: createProjectFromCollectionWithIdP");let r=(new Date).toISOString(),n={userUpdated:r,name:"cool new name",publishInfo:{created:r,updated:r,remoteId:"servic3-specific"}};return await rt.catalog.updateProjectWithIdP(t,n),await this.checkUpdateProjectWithIdP(t,n),console.log("PASSED: updateProjectWithIdP"),await rt.catalog.resetProjectWithIdFromSourceCollectionP(t),console.log("PASSED: resetProjectWithIdFromSourceCollectionP"),t}async runP(e){if(!e||!e.resources||!e.resources[0])return Promise.reject("malformed collection list");let t=e.resources,r=await this.checkCachedProjectsP();console.log("initial project count:",r);let n=[];t.forEach((e=>{n.push(this.testCollectionWithIdP(e.id))}));let i=await Promise.all(n),s=await this.checkCachedProjectsP();return s!==r+t.length?Promise.reject("FAILED: bad count"):(console.log("PASSED: test collections"),n=[],i.forEach((e=>{n.push(rt.catalog.deleteProjectWithIdP(e))})),await Promise.all(n),s=await this.checkCachedProjectsP(),s!==r?Promise.reject("FAILED: bad count"):(console.log("PASSED: deleteProjectWithIdP"),"PASSED"))}};var it=r(11156);const st=function(){class e extends Ue{static setAuthHeaders(e,t){return this.authHeaders={Authorization:`Bearer ${e}`,"x-api-key":t}}_onAuthError(){return!!this.handleAuthErrors&&("function"==typeof $.authErrorCallback?$.authErrorCallback():void 0)}_isAuthError(e,t,r){return 401===t}reportOzFailure(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var s,o,a;return s=null!=t?JSON.stringify(t).substr(0,200):"unknown error",a=Object.assign({errorCode:null!=r?r:"undefined",errorDescription:s},i),null!=n&&null!=(o=n.getResponseHeader("x-request-id"))&&o.length>0&&(a.requestId=o),be.reportFailure(e,a)}requestP(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!=e.authHeaders&&(i=Object.assign({},i),i.headers=Object.assign({},e.authHeaders,i.headers)),super.requestP(t,r,n,i)}}return e.prototype.MINIMUM_DATE="-0001-12-31T23:59:59",e.prototype.UNKNOWN_DATE="0000-00-00T00:00:00",e.prototype.MAXIMUM_DATE="9999-12-31T23:59:59",e.prototype.serviceKey="oz",e.prototype.handleAuthErrors=!0,e}.call(void 0);var ot,at,lt,ut,ct;({expireCookie:ot,getCookie:at,hasCookie:lt,setSecureSiteCookie:ut,setSiteCookie:ct}=window);const ht=class{constructor(e){var t;null!=$.hostOverride?this.hostUrl=$.hostOverride:this.hostUrl="",t=null!=e?e.indexOf("/",8):-1,this.basePath=-1===t?"":e.substr(t)}fullPath(e){if(null!=e)return 0===e.indexOf("http://")||0===e.indexOf("https://")||"/"===e[0]?e:`${this.basePath}${e}`}fullHref(e){if(null!=e)return 0===e.indexOf("http://")||0===e.indexOf("https://")?e:"/"===e[0]?`${this.hostUrl}${e}`:`${this.hostUrl}${this.basePath}${e}`}};var dt=r(270750),pt=r(575827),ft=r.n(pt);function gt(e,t,r,n,i,s,o){var a=s[t],l=o&&o[i],u=void 0!==l?l:e.defaultValue,c=e.fromJSON.call(s,u),h=dt.Z.triggerNoArgs;if(a!==c){s[t]=c;var d=s[r];d?d.triggerNoArgs():s[r]=h(s,n)}}class mt{constructor(e){var t=e&&e.exportables;this.properties=t?ft()(t.properties):[],this.aliases=t?ft()(t.aliases):{},this.prototype=e}alias(e,t){var r=this.aliases;r||(r=this.aliases={}),r[t]=e}getJsonName(e){var t=this.aliases;return t&&t.hasOwnProperty(e)?t[e]:e}add(e,t,r,n,i){var s="_"+e;return this.properties.push({name:e,key:s,toJSON:r,fromJSON:t,defaultValue:n,config:i}),{enumerable:!0,configurable:!1,get(){return S.Z.active&&S.Z.recordEvent(this,e),this[s]},set(t){var r=this[s];r!==t&&(this[s]=t,S.Z.recordChange(this,e,t,r))}}}computeJSONMethod(){for(var e=[],t=this.properties,r=0,n=t.length;r<n;++r){var i=t[r],s=i.name,o=this.getJsonName(i.name),a=i.key,l=i.key+"_signal";e.push(gt.bind(this,i,a,l,s,o))}this.fromJSON=(t,r)=>(e.forEach((e=>e(t,r))),t)}fromJSON(e,t){return this.computeJSONMethod(),this.fromJSON(e,t)}toJSON(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var r={},n=this.properties,i=0,s=n.length;i<s;++i){var o=n[i];S.Z.active&&S.Z.recordEvent(e,o.name);var a=o.toJSON.call(e,e[o.key],t);!t&&tt()(a,o.defaultValue)||(r[this.getJsonName(o.name)]=a)}return r}}var yt=r(774985),vt=r(909102),bt=r.n(vt);class wt extends yt.Z{constructor(e){super(),this.base=e||[]}at(e){return S.Z.active&&S.Z.recordEvent(this,"change"),this.base[e]}setAt(e,t){dt.Z.trigger(this,"change"),this.base[e]=t}toArray(){return S.Z.active&&S.Z.recordEvent(this,"change"),this.base.slice()}get length(){return S.Z.active&&S.Z.recordEvent(this,"change"),this.base.length}set length(e){this.base.length!==e&&(this.base.length=e,dt.Z.trigger(this,"change"))}swapItems(e){this.base=e,dt.Z.trigger(this,"change")}removeItem(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)}concat(){S.Z.active&&S.Z.recordEvent(this,"change");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new wt(this.base.concat(...t.map((e=>e instanceof wt?(S.Z.active&&S.Z.recordEvent(e,"change"),e.base):e))))}concatToArray(){return this.concat.apply(this,arguments).base}spliceToArray(){return this.splice.apply(this,arguments).base}sliceToArray(){return this.slice.apply(this,arguments).base}mapToArray(){return this.map.apply(this,arguments).base}filterToArray(){return this.filter.apply(this,arguments).base}[Symbol.iterator](){return this.base.values()}}bt().polyfill();var _t=Array.prototype,Pt=wt.prototype,At=["fill","pop","push","reverse","shift","unshift","splice","sort","copyWithin"];function xt(e,t){return e instanceof Array?t.base===e?t:new wt(e):e}function St(e,t){return t?function(){var t=e.apply(this.base,arguments);return dt.Z.trigger(this,"change"),xt(t,this)}:function(){return S.Z.active&&S.Z.recordEvent(this,"change"),xt(e.apply(this.base,arguments),this)}}for(var Ct=Object.getOwnPropertyNames(_t),Ot=0,Dt=Ct.length;Ot<Dt;++Ot){var kt=Ct[Ot];Object.prototype.hasOwnProperty.call(Pt,kt)||(Pt[kt]=St(_t[kt],-1!==At.indexOf(kt)))}class It extends yt.Z{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;super(),this._swapItems(e)}_swapItems(e){if(e instanceof Map)this.base=e;else{this.base=new Map;for(let t in e)this.base.set(t,e[t])}}swapItems(e){this._swapItems(e),dt.Z.trigger(this,"change")}has(e){return S.Z.active&&(S.Z.recordEvent(this,""+e),S.Z.recordEvent(this,"change")),this.base.has(e)}get(e){return S.Z.active&&(S.Z.recordEvent(this,""+e),S.Z.recordEvent(this,"change")),this.base.get(e)}set(e,t){if(this.base.get(e)!==t)return this.base.set(e,t),dt.Z.trigger(this,""+e),dt.Z.trigger(this,"change"),this}clear(){var e=[];this.base.forEach(((t,r)=>e.push(r))),this.base.clear(),e.forEach((e=>dt.Z.trigger(this,""+e))),dt.Z.trigger(this,"change")}delete(e){let t=this.base.delete(e);return dt.Z.trigger(this,""+e),dt.Z.trigger(this,"change"),t}get size(){return S.Z.active&&S.Z.recordEvent(this,"change"),this.base.size}get length(){return this.size}[Symbol.iterator](){return this.base.entries()}}var Tt=Map.prototype,Et=It.prototype;function jt(e){return function(){return S.Z.active&&S.Z.recordEvent(this,"change"),e.apply(this.base,arguments)}}for(var Rt,Zt,Nt,Ft,Lt,$t,Mt,Ut,zt,qt,Ht,Bt,Wt,Jt,Vt,Gt=Object.getOwnPropertyNames(Tt),Xt=0,Yt=Gt.length;Xt<Yt;++Xt){var Kt=Gt[Xt];Object.prototype.hasOwnProperty.call(Et,Kt)||(Et[Kt]=jt(Tt[Kt]))}function Qt(e){return"false"!==e&&Boolean(e)}function er(e){return e}function tr(e){return e&&e.toArray?e.toArray():e&&e.slice&&e.slice()}let rr=(Rt=s.Z.wrapPropertyDecorator,Zt=s.Z.wrapPropertyDecorator,Nt=s.Z.wrapPropertyDecorator,Ft=s.Z.wrapPropertyDecorator,Lt=s.Z.wrapPropertyDecorator,$t=s.Z.wrapPropertyDecorator,Mt=s.Z.wrapPropertyDecorator,Ut=s.Z.wrapPropertyDecorator,zt=s.Z.wrapPropertyDecorator,qt=s.Z.wrapPropertyDecorator,Ht=s.Z.wrapPropertyDecorator,Bt=s.Z.wrapPropertyDecorator,Wt=s.Z.wrapPropertyDecorator,Jt=s.Z.wrapPropertyDecorator,Vt=class{constructor(e){this._jsonPropertiesType=mt,this._arrayType=wt,this._mapType=It,this._loggedWarning={},this._name=e}wrapArray(e){return new this._arrayType(e)}wrapMap(e){return new this._mapType(e)}exportables(e){return e.hasOwnProperty("exportables")||(e.exportables=new this._jsonPropertiesType(e)),e.exportables}byVal(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,ft(),ft(),s.Z.getInitialValue(r),n)}byBooleanVal(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,Qt,Boolean,s.Z.getInitialValue(r),n)}byNumberVal(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,Number,Number,s.Z.getInitialValue(r),n)}bySimpleVal(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this.exportables(e).add(t,er,er,s.Z.getInitialValue(r),n)}byCustomVal(e,t,r,n,i){return this.exportables(e).add(t,(function(e){return n.parse(void 0!==e?e:i,this,t)}),(function(e){return n.serialize(e,this,t)}),s.Z.getInitialValue(r))}byRef(e,t,r,n){return this.exportables(e).add(t,(e=>{var t=new n;return t.fromJSON(e||{}),t}),((e,t)=>e?e.toJSON(t):null),s.Z.getInitialValue(r))}byOptionalRef(e,t,r,n){return this.exportables(e).add(t,(e=>{if(null==e)return e;var t=new n;return t.fromJSON(e),t}),((e,t)=>null==e?e:e.toJSON(t)),s.Z.getInitialValue(r))}byCustomRef(e,t,r,n){return this.exportables(e).add(t,(function(e){var t=n(e,this);if(!t)return null;var r="function"==typeof t?new t:t;return e&&r.fromJSON(e),r}),((e,t)=>e?e.toJSON(t):null),s.Z.getInitialValue(r))}byArray(e,t,r,n){var i=this.wrapArray;return this.exportables(e).add(t,(function(e){var r=tr(e)||[];return n?r:i(r,this,t)}),tr,s.Z.getInitialValue(r))}byRefArray(e,t,r,n,i){var o=this.wrapArray;return this.exportables(e).add(t,(function(e){var r=[];if(e&&e instanceof Array)for(var s=0,a=e.length;s<a;++s){var l=new n;l.fromJSON(e[s]||{}),r.push(l)}return i?r:o(r,this,t)}),((e,t)=>{var r=e?e.map((e=>e?e.toJSON(t):null)):[];return r.base||r}),s.Z.getInitialValue(r))}byCustomRefArray(e,t,r,n,i){var o=this.wrapArray;return this.exportables(e).add(t,(function(e){var r=[];if(e&&e.length)for(var s=0,a=e.length;s<a;++s){var l=e[s],u=n(l,this);if(u){var c="function"==typeof u?new u:u;l&&c.fromJSON(l),r.push(c)}}return i?r:o(r,this,t)}),((e,t)=>{var r=e?e.map((e=>e?e.toJSON(t):null)):[];return r.base||r}),s.Z.getInitialValue(r))}byMap(e,t,r,n){var i=this._mapType,o=this.wrapMap;return this.exportables(e).add(t,(function(e){let r=Object.assign({},e);return n?r:o(r,this,t)}),(e=>{let t={};if(e instanceof i)for(let r of e.keys())t[r]=e.get(r);else e&&Object.assign(t,e);return t}),s.Z.getInitialValue(r))}byRefMap(e,t,r,n,i){var o=this._mapType,a=this.wrapMap;return this.exportables(e).add(t,(function(e){let r={};for(let t in e){let i=e[t],s=new n;i&&s.fromJSON(i),r[t]=s}return i?r:a(r,this,t)}),((e,t)=>{let r={};if(e instanceof o)for(let n of e.keys()){let i=e.get(n);r[n]=i?i.toJSON(t):null}else if(e)for(let n in e){let i=e[n];r[n]=i?i.toJSON(t):null}return r}),s.Z.getInitialValue(r))}alias(e,t,r,n){this.exportables(e).alias(n,t)}},(0,n.Z)(Vt.prototype,"wrapArray",[te.Z],Object.getOwnPropertyDescriptor(Vt.prototype,"wrapArray"),Vt.prototype),(0,n.Z)(Vt.prototype,"wrapMap",[te.Z],Object.getOwnPropertyDescriptor(Vt.prototype,"wrapMap"),Vt.prototype),(0,n.Z)(Vt.prototype,"byVal",[Rt],Object.getOwnPropertyDescriptor(Vt.prototype,"byVal"),Vt.prototype),(0,n.Z)(Vt.prototype,"byBooleanVal",[Zt],Object.getOwnPropertyDescriptor(Vt.prototype,"byBooleanVal"),Vt.prototype),(0,n.Z)(Vt.prototype,"byNumberVal",[Nt],Object.getOwnPropertyDescriptor(Vt.prototype,"byNumberVal"),Vt.prototype),(0,n.Z)(Vt.prototype,"bySimpleVal",[Ft],Object.getOwnPropertyDescriptor(Vt.prototype,"bySimpleVal"),Vt.prototype),(0,n.Z)(Vt.prototype,"byCustomVal",[Lt],Object.getOwnPropertyDescriptor(Vt.prototype,"byCustomVal"),Vt.prototype),(0,n.Z)(Vt.prototype,"byRef",[$t],Object.getOwnPropertyDescriptor(Vt.prototype,"byRef"),Vt.prototype),(0,n.Z)(Vt.prototype,"byOptionalRef",[Mt],Object.getOwnPropertyDescriptor(Vt.prototype,"byOptionalRef"),Vt.prototype),(0,n.Z)(Vt.prototype,"byCustomRef",[Ut],Object.getOwnPropertyDescriptor(Vt.prototype,"byCustomRef"),Vt.prototype),(0,n.Z)(Vt.prototype,"byArray",[zt],Object.getOwnPropertyDescriptor(Vt.prototype,"byArray"),Vt.prototype),(0,n.Z)(Vt.prototype,"byRefArray",[qt],Object.getOwnPropertyDescriptor(Vt.prototype,"byRefArray"),Vt.prototype),(0,n.Z)(Vt.prototype,"byCustomRefArray",[Ht],Object.getOwnPropertyDescriptor(Vt.prototype,"byCustomRefArray"),Vt.prototype),(0,n.Z)(Vt.prototype,"byMap",[Bt],Object.getOwnPropertyDescriptor(Vt.prototype,"byMap"),Vt.prototype),(0,n.Z)(Vt.prototype,"byRefMap",[Wt],Object.getOwnPropertyDescriptor(Vt.prototype,"byRefMap"),Vt.prototype),(0,n.Z)(Vt.prototype,"alias",[Jt],Object.getOwnPropertyDescriptor(Vt.prototype,"alias"),Vt.prototype),Vt);const nr=new rr("Json");class ir extends l.Z{toJSON(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.exportables?this.exportables.toJSON(this,e):{}}fromJSON(e){return this.exportables?this.exportables.fromJSON(this,e):this}}ir.prototype.properties=new mt;class sr extends ir{toJSON(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.assign(this._originalSourceJson,super.toJSON(e))}fromJSON(e){return this._originalSourceJson=e,Object.assign(this,e),this.exportables.fromJSON(this,e),this}}var or,ar,lr,ur,cr,hr,dr,pr,fr,gr,mr,yr,vr,br,wr,_r,Pr,Ar,xr,Sr,Cr,Or,Dr,kr,Ir,Tr,Er,jr,Rr,Zr,Nr,Fr,Lr,$r;let Mr=(or=nr.byVal,ar=nr.byVal,lr=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"author",ur,this),(0,b.Z)(this,"description",cr,this)}},ur=(0,n.Z)(lr.prototype,"author",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cr=(0,n.Z)(lr.prototype,"description",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr),Ur=(hr=nr.byVal,dr=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"flags",pr,this)}},pr=(0,n.Z)(dr.prototype,"flags",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dr),zr=(fr=nr.byVal,gr=nr.byVal,mr=nr.byVal,yr=nr.byVal,vr=nr.byVal,br=nr.byVal,wr=nr.byRef(Mr),_r=nr.byRef(Ur),Pr=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"private",Ar,this),(0,b.Z)(this,"download",xr,this),(0,b.Z)(this,"metadata",Sr,this),(0,b.Z)(this,"location",Cr,this),(0,b.Z)(this,"favorites_disabled",Or,this),(0,b.Z)(this,"comments_disabled",Dr,this),(0,b.Z)(this,"profile_info",kr,this),(0,b.Z)(this,"filters",Ir,this)}},Ar=(0,n.Z)(Pr.prototype,"private",[fr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xr=(0,n.Z)(Pr.prototype,"download",[gr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sr=(0,n.Z)(Pr.prototype,"metadata",[mr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cr=(0,n.Z)(Pr.prototype,"location",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Or=(0,n.Z)(Pr.prototype,"favorites_disabled",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dr=(0,n.Z)(Pr.prototype,"comments_disabled",[br],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=(0,n.Z)(Pr.prototype,"profile_info",[wr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ir=(0,n.Z)(Pr.prototype,"filters",[_r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pr),qr=(Tr=nr.byVal,Er=nr.byVal,jr=nr.byVal,Rr=nr.byRef(zr),Zr=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"id",Nr,this),(0,b.Z)(this,"created",Fr,this),(0,b.Z)(this,"updated",Lr,this),(0,b.Z)(this,"payload",$r,this)}},Nr=(0,n.Z)(Zr.prototype,"id",[Tr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fr=(0,n.Z)(Zr.prototype,"created",[Er],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lr=(0,n.Z)(Zr.prototype,"updated",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$r=(0,n.Z)(Zr.prototype,"payload",[Rr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zr);var Hr=r(93155);const Br=class extends st{constructor(e){"string"==typeof e||e instanceof String?(super(e),this._initPromise=this.refreshP()):(super(),this.setAttributes(e),this.href=this.linkHref("self"))}initializedP(){return null!=this._initPromise?this._initPromise.then((()=>this)):Hr.Deferred().resolve(this).promise()}get store(){return this.constructor.store}get storeId(){return this.id}aquire(){return this.store&&i.Z.is_enabled("asset_store")&&this.store.aquireItem(this),this}dispose(){if(super.dispose(),this.store&&i.Z.is_enabled("asset_store"))return this.store.releaseItem(this)}cloneAttributes(){return this.attributes.toJSON()}linkHref(e){var t,r,n;return t=null!=(r=this.attributes.links)&&null!=(n=r[e])?n.href:void 0,this._linkBase.fullHref(t)}linkFullPath(e){var t,r,n;return t=null!=(r=this.attributes.links)&&null!=(n=r[e])?n.href:void 0,this._linkBase.fullPath(t)}hasLink(e){var t,r;return null!=(null!=(t=this.attributes.links)&&null!=(r=t[e])?r.href:void 0)}getAttribute(e){return this.attributes[e]}_getAttributeClass(){return this.attributeClass||qr}_createAttributes(e){var t,r,n;return t=this._getAttributeClass(),(r=null!=(n=this._attributes)?n:new t).fromJSON(e),r}get attributes(){return S.Z.recordEvent(this,"attributes"),this._attributes}set attributes(e){return this._attributes=this._createAttributes(e),S.Z.recordChange(this,"attributes")}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.attributes=e,this.id=this.attributes.id,this._linkBase=new ht(this.attributes.base),this}setAttribute(e,t){return this.attributes[e]=t}refreshJP(){return this.safeToJSPromise(this.refreshP())}refreshP(){return this._refreshP()}_refreshP(e){return this.requestP("GET",e).done((e=>this.setAttributes(e))).promise()}updateAttributesP(e,t){return null==t.payload&&(t.payload={}),t.payload.userUpdated=(new Date).toISOString(),this._updateAttributesP(t,e)}_updateAttributesP(e,t){var r,n,i;return r=Hr.extend(!0,{},this.attributes.toJSON()),(n=()=>this.attributes=Hr.extend(!0,this.attributes.toJSON(),e))(),null!=this.updating?(this.updatingApplyList.push(n),i=this.updating.then((()=>this._doUpdateP(t,e,r)))):(this.updatingApplyList=[n],i=this._doUpdateP(t,e,r)),this.updating=i,this.updating.always((()=>{var e;if(null!=(e=$.catalogContext)&&e.assetUpdated(),i===this.updating)return this.updating=null}))}_doUpdateP(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return i.Z.is_enabled("debug")&&Ue._forceFailNextRequest&&(n=2),this.requestP("POST",this.href,JSON.stringify(t)).then((()=>(null!=e&&be.report(e),this.updatingApplyList.shift(),this.refreshP().then((()=>{var e,t,r,n,i;for(i=[],t=0,r=(n=this.updatingApplyList).length;t<r;t++)e=n[t],i.push(e());return i})))),((i,s,o)=>{var a;return(a=n<2&&(0===s||s>=500))?null!=e&&be.report(`${e}Retry`):(null!=e&&this.reportOzFailure(`${e}Failure`,i,s,o),this.updatingApplyList.shift()),this.refreshP().then((()=>a?this._doUpdateP(e,t,r,n+1):Hr.Deferred().reject(i,s,o)),(()=>this.attributes=r))}))}getOzCreatedDate(){var e;return(e=this.attributes.created)===st.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getOzUpdatedDate(){var e;return(e=this.attributes.updated)===st.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getUserCreatedDate(){var e,t;return null==(e=null!=(t=this.attributes.payload)?t.userCreated:void 0)||e===st.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getUserUpdatedDate(){var e,t;return null==(t=null!=(e=this.attributes.payload)?e.userUpdated:void 0)||t===st.prototype.UNKNOWN_DATE?null:new Date(Date.parse(t))}getBestCreatedDate(){var e;return null!=(e=this.getUserCreatedDate())?e:this.getOzCreatedDate()}getBestUpdatedDate(){var e;return null!=(e=this.getUserUpdatedDate())?e:this.getOzUpdatedDate()}getBestCreatedDateAttribute(){var e,t;return null!=(e=null!=(t=this.attributes.payload)?t.userCreated:void 0)?e:this.attributes.created}getBestUpdatedDateAttribute(){var e,t;return null!=(e=null!=(t=this.attributes.payload)?t.userUpdated:void 0)?e:this.attributes.updated}};var Wr=r(93155);const Jr=function(){class e extends Br{getTipShown(e){var t;return!0===(null!=(t=this.getApp().tips_shown)?t[e]:void 0)}setTipShownP(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var r;if(this.getTipShown(e)!==t)return(r={})[e]=t,this.updateAppP({tips_shown:r})}async setTipShownJP(e,t){return await this.setTipShownP(e,t)}clearTipShownP(e){var t,r,n;for(Array.isArray(e)||(e=[e]),n={},t=0,r=e.length;t<r;t++)n[e[t]]=null;return this.updateAppP({tips_shown:n})}async clearTipShownJP(e){return await this.clearTipShownP(e)}getPreferredLocale(){return this.getUniversal()[this.COMMUNICATION_PREF_KEY]}setPreferredLocaleJP(e){return this._updateUniversalP({[`${this.COMMUNICATION_PREF_KEY}`]:e})}clearPreferredLocaleJP(){return this._updateUniversalP({[`${this.COMMUNICATION_PREF_KEY}`]:null})}getDefaultShareAuthor(){return this.getUniversal()[this.DEFAULT_SHARE_AUTHOR_KEY]}setDefaultShareAuthorP(e){return this._updateUniversalP({[`${this.DEFAULT_SHARE_AUTHOR_KEY}`]:e})}clearDefaultAuthorP(){return this._updateUniversalP({[`${this.DEFAULT_SHARE_AUTHOR_KEY}`]:null})}getTipData(e){var t;return null!=(t=this.getApp().tips_data)?t[e]:void 0}setTipDataP(e,t){var r;return(r={})[e]=t,this.updateAppP({tips_data:r})}getEnabledSneaks(){var e;return null!=(e=this.getApp().enabled_sneaks)?e:[]}setEnabledSneaksP(e){return this.updateAppP({enabled_sneaks:e})}clearAppP(){var e,t;for(t in e={},this.getApp())"similarity_data_ready"!==t&&(e[t]=null);return this.updateAppP(e)}clearTipsP(){return this.updateAppP({tips_shown:null,tips_data:null})}getSimilarityDataProcessed(){var e;return null!=(e=this.getApp().similarity_data_ready)?e:e=!1}debugDeleteSimilarityDataProcessedP(){return this.updateAppP({similarity_data_ready:null})}getHavePromptedProofingFeedback(){var e;return null!=(e=this.getApp().prompted_proofing_feedback)?e:e=!1}setHavePromptedProofingFeedbackP(e){return this.updateAppP({prompted_proofing_feedback:e})}getHaveRestoredPreviously(){var e;return null!=(e=this.getApp().restored_previously)?e:e=!1}setHaveRestoredPreviously(e){return this.updateAppP({restored_previously:e})}getApp(){var e;return null!=(e=this.attributes.lightroom_web)?e:{}}getUniversal(){var e;return null!=(e=this.attributes.universal)?e:{}}updateAppP(e){var t;return t={lightroom_web:e},this._updateAttributesP(t)}_updateUniversalP(e){var t;return t={universal:e},this._updateAttributesP(t)}getSearchIndexingDate(){return new Date(this.getApp().search_indexing_enabled_date)}setSearchIndexingDateP(e){return this.updateAppP({search_indexing_enabled_date:e.toISOString()})}refreshP(){return this._refreshP(this._linkBase.fullPath(""))}setAttributes(e){var t,r,n,i;return t="",e.base&&(null!=(n=e.links)&&null!=(i=n.self)?i.href:void 0)&&(t+=e.base.replace(/\/$/,"")+e.links.self.href+"/"),r={self:{href:"settings"}},e.payload?super.setAttributes(Wr.extend({base:t,links:r},e.payload)):super.setAttributes({base:t,links:r})}}return e.prototype.DEFAULT_SHARE_AUTHOR_KEY="share_author_default",e.prototype.COMMUNICATION_PREF_KEY="communication_preference",e}.call(void 0);var Vr,Gr,Xr,Yr=r(93155),Kr=[].indexOf;Gr=0,Xr=0,Vr={CHUNK_THRESHOLD:209715200,VIDEO_EXTENSIONS:["3gp","3gpp","avi","dxo","m2ts","m4v","mov","mp4","mpe","mpeg","mpg","mpg4","mts","qt"],ALL_VIDEO_EXTENSIONS:["264","3g2","3gp","3gpp","3gpp2","asf","avc","avi","divx","dv","flv","m1v","m2p","m2t","m2ts","m2v","m4v","mkv","mov","mp4","mpe","mpeg","mpg","mpg4","mpv","mts","ogg","ogv","ps","qt","tod","ts","vob","webm","wmv"],RAW_EXTENSIONS:["3fr","arq","arw","cr2","cr3","crw","dcr","dng","erf","fff","gpr","iiq","kdc","mef","mfw","mos","mrw","nef","nrw","orf","pef","psd","raf","raw","rw2","rwl","sr2","srf","srw","x3f"],JPEG_EXTENSIONS:["jfif","jpe","jpg","jpeg"],PNG_EXTENSIONS:["png"],TIFF_EXTENSIONS:["tif","tiff"],HEIF_EXTENSIONS:["heif","heic"],GIF_EXTENSIONS:["gif"],downloadAssetP:function(e,t){var r,n;return 0===(r=(r=e.getFileName()).replace(/[;\/?:@=&"<>#%{}\|\\^~\]`]/g,"")).length&&(r=this.getDefaultFilename(e)),n=t?`${e.getMasterHref(!1)}/filename/${r}`:`${e.getDownload2048Href()}/filename/${r=r.replace(/\.[^.]+$/,".jpg")}`,window.location.href=n,Yr.Deferred().resolve().promise()},getDefaultFilename:function(e){return e.isVideo()?this.defaultVideoFilename():this.defaultPhotoFilename()},defaultPhotoFilename:function(){return j("$$$/js/viewer/download/no_filename=photo.jpg")},defaultVideoFilename:function(){return j("$$$/js/viewer/download/no_filename_video=video.mp4")},isSupportedUploadType:function(e){return this.isImage(e)||this.isVideo(e)},isSupportedBehanceProfileImageType:function(e){var t;return null!=(t=this.extName(e))&&(Kr.call(this.JPEG_EXTENSIONS,t)>=0||Kr.call(this.PNG_EXTENSIONS,t)>=0||Kr.call(this.GIF_EXTENSIONS,t)>=0)},isUploadSupportedFormat:function(e){return this.isImage(e)||this.isVideo(e)},isUploadSupported:function(e){var t,r,n,s;return!!i.Z.is_enabled("debug_upload_anything")||(t=this.isImage(e),r=this.isVideo(e),!(!t&&!r)&&(t?0<(n=e.size)&&n<1073741824:0<(s=e.size)&&s<4294967296))},isVideo:function(e){var t;return null!=(t=this.extName(e))&&(i.Z.is_enabled("upload_all_video_formats")?Kr.call(this.ALL_VIDEO_EXTENSIONS,t)>=0:Kr.call(this.VIDEO_EXTENSIONS,t)>=0)},isImage:function(e){var t;return null!=(t=this.extName(e))&&(Kr.call(this.JPEG_EXTENSIONS,t)>=0||Kr.call(this.PNG_EXTENSIONS,t)>=0||Kr.call(this.TIFF_EXTENSIONS,t)>=0||Kr.call(this.RAW_EXTENSIONS,t)>=0||Kr.call(this.HEIF_EXTENSIONS,t)>=0)},_extensionInList:function(e,t){var r;return null!=(r=this.extName(e))&&Kr.call(t,r)>=0},isJpeg:function(e){return this._extensionInList(e,this.JPEG_EXTENSIONS)},isRaw:function(e){return this._extensionInList(e,this.RAW_EXTENSIONS)},isPng:function(e){return this._extensionInList(e,this.PNG_EXTENSIONS)},isTiff:function(e){return this._extensionInList(e,this.TIFF_EXTENSIONS)},isXmp:function(e){return"xmp"===this.extName(e)},contentTypeForUpload:function(e){return this.isVideo(e)?"video/*":this.isJpeg(e)?"image/jpeg":this.isPng(e)?"image/png":this.isTiff(e)?"image/tiff":"application/octet-stream"},ozSubtype:function(e){return this.isVideo(e)?"video":!!this.isImage(e)&&"image"},extName:function(e){var t;return t=e.name,this.getFileExtension(t)},getFileExtension:function(e){var t;return-1!==(t=e.lastIndexOf("."))?e.substr(t+1).toLowerCase():""},browserCanLoadImage:function(e){var t;return null!=(t=this.getFileExtension(e))&&("jpg"===t||"jpeg"===t)},isDigestReliable:function(){return 0===Xr?!(Gr>2):!(Gr>Xr+2)},digestP:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var n;return r>0?(n=Yr.Deferred(),Vr._digestP(e,t).done((function(){return n.resolve(...arguments)})).fail((()=>Vr.digestP(e,t,r-1).done((function(){return n.resolve(...arguments)})).fail((function(){return n.reject(...arguments)})))),n.promise()):Vr._digestP(e,t)},_digestP:function(e,t){var r,n,i,s,o,a,l,u,c,h,d;return n=Yr.Deferred(),i="unknown",d=t?Math.min(1e4,Math.max(e.size/4,2e3)):6e4,h=setTimeout((()=>{if(Gr++,n.reject(`${i}: timeout`),null!=a&&2!==a.readyState)return a.abort()}),d),y.doRandomFailure(`digestP for ${e.name}`,.25)?n.promise():(s=e=>{if("pending"===n.state())return Gr++,clearTimeout(h),n.reject(`${i}: ${e}`)},o=e=>{if("pending"===n.state())return Xr++,n.resolve(e),clearTimeout(h)},(r=null!=(l=window.crypto)?l:window.msCrypto)&&(c=null!=(u=r.subtle)?u:r.webkitSubtle)?(i="filereader",(a=new FileReader).onload=function(){var e,t;return e=a.result,window.msCrypto?(i="msCrypto",(t=window.msCrypto.subtle.digest({name:"SHA-256"},e)).oncomplete=function(e){return o(e.target.result)},t.onerror=function(e){var t;return s(null!=e&&null!=(t=e.toString())?t.substr(0,100):void 0)}):(i="crypto",c.digest({name:"SHA-256"},e).then((function(e){return o(e)})).catch((function(e){var t;return"string"!=typeof(t=(null!=e?e.name:void 0)||(null!=e?e.toString().substr(0,100):void 0))&&(t="unknown"),s(t)})))},a.onerror=function(e){var t;return e instanceof ProgressEvent?t=e.lengthComputable?`progressevent as error ${e.loaded} / ${e.total}`:"progressevent as error, not computable":"string"!=typeof(t=(null!=e?e.name:void 0)||(null!=e?e.toString().substr(0,100):void 0))&&(t="unknown"),s(t)},a.readAsArrayBuffer(e),n.then((function(e){var t,r,n,i,s;if(e instanceof ArrayBuffer){for(s="",r=0,n=(i=new Uint8Array(e)).length;r<n;r++)1===(t=i[r].toString(16)).length?s+="0"+t:s+=t;return s}return e}))):n.reject())}};const Qr=Vr,en="ontouchstart"in document||navigator.maxTouchPoints>0;var tn,rn;const nn={COMPACT_SIZE:668,MINIMAL_SIZE:320,touch:en,gesture:"GestureEvent"in window,mouse:!en||Se.win,hover:window.matchMedia("(hover: hover)").matches,geolocation:null!=navigator.geolocation,pixelDensity:null!=(tn=window.devicePixelRatio)?tn:1,wasm:null!=window.WebAssembly,webgl:null!=((rn=document.createElement("canvas")).getContext("webgl")||rn.getContext("experimental-webgl")),hasLocalStorage:function(){try{return localStorage.setItem("dummy_key","dummy_key"),localStorage.removeItem("dummy_key"),!0}catch(e){return!1}}(),viewportWidth:function(){return document.documentElement.clientWidth},viewportHeight:function(){return document.documentElement.clientHeight},isCompact:function(e,t){return this.isCompactWidth(e)||this.isCompactHeight(t)},isCompactWidth:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewportWidth();return e<=this.COMPACT_SIZE},isCompactHeight:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewportHeight();return e<=this.COMPACT_SIZE},isCompactScreen:function(){return screen.width<=this.COMPACT_SIZE||screen.height<=this.COMPACT_SIZE},isMinimal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewportWidth(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.viewportHeight();return e<=this.MINIMAL_SIZE||t<=this.MINIMAL_SIZE},isFullscreen:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},isFullscreenEnabled:function(){return!Se.silk&&(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled)},isVideoSupported:function(){try{return null!=document.createElement("video").canPlayType}catch(e){return!1}}},sn={_isBetter:function(e,t){return e<0?t<0&&e>t:t<0||e<t},getBestHrefForSize:function(e,t){var r,n,i,s,o;for(r in n=-Infinity,i="",t*=nn.pixelDensity,e)o=e[r],s=r-t,this._isBetter(s,n)&&(i=o,n=s);return i}};var on,an,ln=r(93155);const un=(on=class extends Br{constructor(){super(...arguments),(0,b.Z)(this,"pollingForOzAvatar",an,this)}setAttributes(e){var t;return null!=(t=this.attributes)&&(t.avatar=void 0),super.setAttributes(e)}getInitials(){var e;return(null!=(e=this.attributes.first_name)?e.length:void 0)?this.attributes.last_name?this.attributes.first_name[0]+this.attributes.last_name[0]:this.attributes.first_name[0]:null}getFullName(){var e;return null!=(e=this.attributes.full_name)?e:""}hackCacheableLinkHref(e){if(null!=e)return e.replace("/v2/","/v2c/")}getAvatarUrl(e){var t,r,n,i,s,o,a;for(i in n={},s=this.attributes.links)a=s[i],"/rels/avatars/"===i.substr(0,14)&&(({href:r,size:o}=a),null!=r&&null!=o&&(n[o]=r));return t=sn.getBestHrefForSize(n,e),this.hackCacheableLinkHref(this._linkBase.fullHref(t))}hasPlaceholderAvatar(){var e;return!0===(null!=(e=this.attributes.avatar)?e.placeholder:void 0)}_getBehancePublicProfileP(){var e;return e=`https://${window.__adobe_behance_api_host}/v2/users/${$.account.getWCDGuid()}?api_key=${window.__adobe_behance_api_key}`,Ue.prototype.requestP("GET",e)}_getBehanceUserP(){return this._getBehancePublicProfileP().then((e=>e.user)).fail(((e,t)=>be.reportFailure("getBehanceUserFailure")))}getBehanceAvatarP(e){return this._getBehanceUserP().then((t=>sn.getBestHrefForSize(t.images,e)))}async getBehanceHasPlaceholderJP(){var e;return null!=(e=await this._getBehancePublicProfileP()).valid&&0===e.valid||1===e.user.has_default_image}updateBehanceAvatarP(e){var t,r,n,i;return i={contentType:"application/x-www-form-urlencoded"},n=`${this._linkBase.hostUrl}/behance_presigned_url/v2/project/editor/auto_sign_request?api_key=${window.__adobe_behance_api_key}`,r=Qr.getFileExtension(e.name),t=`extension=${r}`,Ue.prototype.requestP("POST",n,t,i).then((r=>{var s;return s=r.uri.replace(/^(https:\/\/s3.amazonaws.com)/g,`${this._linkBase.hostUrl}/aws_s3`),Ue.prototype.requestP("PUT",s,e).then((()=>(n=`${this._linkBase.hostUrl}/behance_change_avatar/v2/profile/avatar?api_key=${window.__adobe_behance_api_key}`,t=`source_url=${r.object.location}`,Ue.prototype.requestP("POST",n,t,i).then((e=>(be.report("galleryEditAvatar"),this.updateOzAvatarP())),(()=>be.reportFailure("updateBehanceAvatarFailure"))))),((e,t)=>be.reportFailure("putScratchBehanceAvatarFailure")))}),((e,t)=>be.reportFailure("getPreSignedBehanceUrlFailure")))}async deleteBehanceAvatarJP(){var e,t;if(i.Z.is_enabled("debug")){t={contentType:"application/x-www-form-urlencoded"},e=`${this._linkBase.hostUrl}/behance_change_avatar/v2/profile/avatar?api_key=${window.__adobe_behance_api_key}`;try{return await Ue.prototype.requestP("DELETE",e,{},t),await this.updateOzAvatarP(),console.log("Avatar deleted")}catch(e){return console.log("Failed to delete avatar")}}}haveAvatarLinksChanged(){var e,t,r;for(e in t=this.attributes.links)if(r=t[e],-1!==e.indexOf("avatars")&&null!=r.href&&r.href!==this.oldLinks[e].href)return!0;return!1}updateOzAvatarP(){var e,t;return this.pollingForOzAvatar=!0,this.oldLinks=ln.extend(!0,{},this.attributes.links),t=this._linkBase.fullHref(`v2/avatars/${this.id}`),e={refresh:!0},this.requestP("POST",t,JSON.stringify(e)).then((()=>this._pollForOzAvatarUpdateP()),(()=>be.reportFailure("updateAvatarFailure"))).always((()=>this.pollingForOzAvatar=!1))}_pollForOzAvatarUpdateP(){var e,t,r;return e=ln.Deferred(),this.haveAvatarLinksChanged()?e.resolve():(r=0,(t=()=>(r++,this.refreshP().done((()=>!this.haveAvatarLinksChanged()&&r<6?setTimeout(t,1e3):this.haveAvatarLinksChanged()?e.resolve():(be.reportFailure("pollForAvatarUpdateFailure"),e.reject()))).fail((()=>e.reject()))))()),e.promise()}},an=(0,n.Z)(on.prototype,"pollingForOzAvatar",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),on);var cn,hn,dn,pn,fn,gn,mn,yn,vn,bn,wn,_n,Pn,An,xn;let Sn=(cn=nr.byVal,hn=nr.byVal,dn=nr.byVal,pn=nr.byVal,fn=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"used",gn,this),(0,b.Z)(this,"limit",mn,this),(0,b.Z)(this,"display_limit",yn,this),(0,b.Z)(this,"warn",vn,this)}},gn=(0,n.Z)(fn.prototype,"used",[cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mn=(0,n.Z)(fn.prototype,"limit",[hn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yn=(0,n.Z)(fn.prototype,"display_limit",[dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vn=(0,n.Z)(fn.prototype,"warn",[pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fn),Cn=(bn=nr.byRef(Sn),wn=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"storage",_n,this)}},_n=(0,n.Z)(wn.prototype,"storage",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn),On=(Pn=nr.byRef(Cn),An=class extends qr{constructor(){super(...arguments),(0,b.Z)(this,"entitlement",xn,this)}},xn=(0,n.Z)(An.prototype,"entitlement",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),An);var Dn,kn=r(368220).default,In=r(93155),Tn=[].indexOf;const En=Dn=function(){var e,t,r;let s=(e=xe(2e3),t=class extends un{constructor(){super(...arguments),(0,b.Z)(this,"pollingForSubscription",r,this)}setAttributes(e){return super.setAttributes(e),this.settings=new Jr(e),this.configuredPreferredLocale(),i.Z.is_enabled("debug")&&this.debugLogLocaleState(),this}debugLogLocaleState(){var e,t;if(!kn.sdk)return console.group("Locale State"),t=R.is_default_locale_fallback?"(auto)":"(setting)",console.log("Current locale: ",R.locale,t),console.log("1. locale cookie:",at("locale")),console.log("2. locale_pass cookie:",at("locale_pass")),e=null!=R.browser_locale?"(The first one we support)":"(We dont support any)",console.log("3. Browser-requested locale:",R.browser_locale,e),console.log("Account communication preference: ",this.getPreferredLocale()),console.groupEnd()}getStatus(){return i.Z.is_enabled("debug_account_sub_expired")?"subscription_expired":i.Z.is_enabled("debug_account_trial_expired")?"trial_expired":this.attributes.entitlement.status}isTrialExpired(){var e;return"trial_expired"===this.getStatus()||"trial"===this.getStatus()&&(new Date).getTime()>Date.parse(null!=(e=this.attributes.entitlement.trial)?e.end:void 0)}trialDaysRemaining(){var e,t,r,n;if("trial"===this.getStatus()&&(e=(n=Date.parse(null!=(r=this.attributes.entitlement.trial)?r.end:void 0))-(t=(new Date).getTime()),null!=n&&null!=t&&e>0))return Math.ceil(e/864e5)}isSubscriptionExpired(){return"subscription_expired"===this.getStatus()}pollForSubscriptionStatusJP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return this.pollingForSubscription=!0,new Promise(((r,n)=>{var i;return setTimeout((()=>{if(this.pollingForSubscription)return n()}),e),(i=()=>this.refreshJP().then((()=>{if(this.pollingForSubscription)return"subscriber"===this.getStatus()?r():setTimeout((()=>i()),t)}),(e=>{var r;if(this.pollingForSubscription)return e instanceof Array?(r=e[1])>=400&&r<500?n(e):setTimeout((()=>i()),t):n()})))()})).finally((()=>this.pollingForSubscription=!1))}getWCDGuid(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]||-1!==this.attributes.wcd_guid.indexOf("@")?this.attributes.wcd_guid:`${this.attributes.wcd_guid}@AdobeID`}getFullName(){return this.attributes.full_name}getFirstName(){return this.attributes.first_name}getLastName(){return this.attributes.last_name}getEmail(){return this.attributes.email}getCountry(){return this.attributes.country}isSearchIndexed(){var e;return null!=(e=this.attributes.config.search_index)&&e}getClusterFlagHref(){return`${this.href}/feature_classes/cluster_similarity`}requestClusterProcessingP(){var e;return this.isSimilarityDataProcessed()?In.Deferred().resolve.promise():(e=this.getClusterFlagHref(),this.requestP("PUT",e,"{}").then((()=>this.refreshP())))}debugResetBestPhotosP(){return this.settings.debugDeleteSimilarityDataProcessedP().then((()=>{var e;return e=this.getClusterFlagHref(),this.requestP("DELETE",e)}))}clearDefaultAuthor(){return this.settings.clearDefaultAuthorP()}setPreferredLocaleJP(e){var t;if(!kn.sdk)return t=Object.keys(R.locale_hash),Tn.call(t,e)<0?Promise.reject():e===this.getPreferredLocale()?Promise.resolve():this.settings.setPreferredLocaleJP(e)}getPreferredLocale(){return this.settings.getPreferredLocale()}clearPreferredLocaleJP(){return this.settings.clearPreferredLocaleJP()}configuredPreferredLocale(){var e,t,r;if(!kn.sdk&&!((null!=(t=this.getPreferredLocale())?t.length:void 0)>0||(e=Object.keys(R.locale_hash),R.is_default_locale_fallback||(r=R.locale,Tn.call(e,r)<0))))return be.report("localeConfigSetCommunicationPref",{locale:R.locale}),this.setPreferredLocaleJP(R.locale)}checkAccountLocale(){var e,t;if(!kn.sdk&&(null!=(e=this.getPreferredLocale())?e.length:void 0)>0&&(null!=(t=R.locale)?t.length:void 0)>0)return this.getPreferredLocale().toLowerCase()!==R.locale.toLowerCase()?be.report("localeMismatchBrowserVsAccount",{locale:this.getPreferredLocale(),browserLocale:R.locale}):void 0}setDefaultShareAuthor(e){return e===this.getFullName()?this.clearDefaultAuthor():this.settings.setDefaultShareAuthorP(e)}getDefaultShareAuthor(){var e;return null!=(e=this.settings.getDefaultShareAuthor())?e:this.getFullName()}getAppsP(){var e;return e=this.linkHref("/rels/apps"),this.requestP("GET",e).done((e=>{this.appsData=e}))}hasTriedLrD(){var e,t,r;if(y.shouldOverrideLrDesktopUsage())return y.getLrDesktopUsageOverride();for(e=0,t=(r=this.appsData.apps).length;e<t;e++)if("AdobeLightroom"===r[e].client_app)return!0;return!1}hasTriedLrM(){var e,t,r;if(y.shouldOverrideLrMobileUsage())return y.getLrMobileUsageOverride();for(e=0,t=(r=this.appsData.apps).length;e<t;e++)if("LrMobile"===r[e].client_app)return!0;return!1}getEnforcedMaxStorageLimit(){return i.Z.is_enabled("debug_0_storage_limit")?0:this.attributes.entitlement.storage.limit}getAdvertizedMaxStorageLimit(){return i.Z.is_enabled("debug_0_storage_limit")?0:this.attributes.entitlement.storage.display_limit}isStorageAtLimit(){return this.getUsedStorage()>=this.getAdvertizedMaxStorageLimit()}isStorageAtWarn(){return!this.isStorageAtLimit()&&this.getUsedStorage()>=this.getWarnStorageLimit()}getWarnStorageLimit(){return this.attributes.entitlement.storage.warn}getUsedStorage(){return this.attributes.entitlement.storage.used}getUsedStoragePercent(){var e;return 0===this.getAdvertizedMaxStorageLimit()?100:(e=.01*this.getAdvertizedMaxStorageLimit(),Math.min(100,Math.max(this.getUsedStorage(),e)/this.getAdvertizedMaxStorageLimit()*100))}getUsedStorageRatio(){return 0===this.getAdvertizedMaxStorageLimit()?1:Math.min(1,this.getUsedStorage()/this.getAdvertizedMaxStorageLimit())}isSimilarityDataProcessed(){return!i.Z.is_enabled("best_photos_no_similarity_data")&&this.settings.getSimilarityDataProcessed()}},r=(0,n.Z)(t.prototype,"pollingForSubscription",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.Z)(t.prototype,"debugLogLocaleState",[e],Object.getOwnPropertyDescriptor(t.prototype,"debugLogLocaleState"),t.prototype),t);return s.prototype.attributeClass=On,s.prototype.FIND_SELF_ID="00000000000000000000000000000000",s.prototype.FIND_SELF_PATH="/v2/accounts/00000000000000000000000000000000",s.prototype.handleAuthErrors=!1,s}.call(void 0);Dn.getCurrentP=function(){return new Dn(`${$.hostOverride}/v2/accounts/00000000000000000000000000000000`).initializedP()};var jn=r(182758),Rn=r.n(jn),Zn=r(93155);class Nn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.requestQueue=[],this.runningRequests=0,this.finished=!1,this.failed=!1,this.deferred=null,this.maxParallelRequests=e,this.deferred=Zn.Deferred()}promise(){return this.deferred.promise()}empty(){this.requestQueue=[]}enqueuePromise(e){if(this.finished)throw"Enqueued on a finished RequestQueue";this.requestQueue.push(e),this._requestMore()}_requestMore(){if(0===this.requestQueue.length&&0===this.runningRequests&&!this.failed)return this.deferred.resolve(),void(this.finished=!0);for(;this.requestQueue.length>0&&this.runningRequests<this.maxParallelRequests;){const e=this.requestQueue.shift();this.runningRequests+=1,e().always((()=>{this.runningRequests-=1,this.deferred.notify(this.requestQueue.length)})).done((()=>this._requestMore())).fail((()=>{this.finished=!0,this.failed=!0,this.deferred.reject()}))}}}var Fn,Ln,$n,Mn,Un,zn,qn=r(891218),Hn=r(93155);zn=0,Fn=class{constructor(e){(0,b.Z)(this,"loadTime",Ln,this),this.href=e.href,this._deferred=Hn.Deferred(),this.requestCount=1,this.requestOrderId=zn++,this.isLoaded=!1,this.loadedP=this._deferred.promise()}loadP(e){var t,r,n;return e.startImageLoad(),r=new Date,t=e.batchStartTime,n=()=>{if(e.batchStartTime===t)return e.finishImageLoad(r)},this.image=new Image,this.image.onload=()=>(this.isLoaded=!0,this.loadTime=new Date-r,n(),this._deferred.resolve()),this.image.onerror=()=>(this.isLoaded=!1,e.cancelImageLoad(),this._deferred.reject()),this.image.src=this.href,this.loadedP}},Ln=(0,n.Z)(Fn.prototype,"loadTime",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=class{constructor(){(0,b.Z)(this,"loadCount",Mn,this),(0,b.Z)(this,"totalLoadTimeMs",Un,this),this.batchOpenRequests=0,this.batchCompletedCount=0}get thumbLoadAvgMs(){return 0===this.loadCount?0:this.totalLoadTimeMs/this.loadCount}startBatch(){return this.batchStartTime=new Date,this.lastEndTime=this.batchStartTime,this.batchOpenRequests=1}startImageLoad(){return null!=this.batchStartTime?this.batchOpenRequests++:this.startBatch()}cancelImageLoad(){return this.batchOpenRequests--}finishImageLoad(e){var t,r;return t=(r=new Date)-this.lastEndTime,this.totalLoadTimeMs+=t,this.loadCount++,this.batchOpenRequests--,this.batchOpenRequests<=0?(this.batchStartTime=null,this.batchOpenRequests<0?console.warn(`Negative open requests: ${this.batchOpenRequests}`):void 0):this.lastEndTime=r}},Mn=(0,n.Z)($n.prototype,"loadCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Un=(0,n.Z)($n.prototype,"totalLoadTimeMs",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}});var Bn,Wn,Jn,Vn,Gn,Xn,Yn,Kn,Qn,ei,ti,ri=r(925206),ni=r.n(ri),ii=r(93155),si=[].indexOf;ei=["thumbnail2x","640","1280","2048","panorama"],ti=0,Kn=function(){var e,t,r,i,s,o;let a=(e=class{constructor(e,n,a,l){var u,c;(0,b.Z)(this,"loadTime",t,this),(0,b.Z)(this,"loadEndTime",r,this),(0,b.Z)(this,"priority",i,this),(0,b.Z)(this,"requestOrderId",s,this),(0,b.Z)(this,"loadedHref",o,this),this.priority=e,this.asset=n,this.rendition=a,this.href=l,this._deferred=ii.Deferred(),this._cancelDeferred=ii.Deferred(),this.requestCount=1,this.isLoaded=!1,this.isQueued=!1,[c,u]=this.asset.getRenditionDimensions(this.rendition),this.megaPixels=c*u/1048576,this.ozImageP=null,this.loadedP=this._deferred.promise()}loadP(e){var t,r,n;if(null!=this.image)return this.loadedP;if(this.isQueued=!1,this.requestOrderId=ti++,e.startImageLoad(),r=new Date,t=e.batchStartTime,n=()=>{if(e.batchStartTime===t)return e.finishImageLoad(this,r)},this.image=new Image,this.image.onload=()=>(this.isLoaded=!0,this.loadedHref=this.image.src,this.loadEndTime=new Date,this.loadTime=this.loadEndTime-r,n(),this._deferred.resolve()),this.image.onerror=()=>(this.isLoaded=!1,e.cancelImageLoad(this,r),this._deferred.reject()),this.useOzCredentials){if(null!=this.ozImageP)return;this.ozImageP=st.prototype.requestP("GET",this.href,null,{responseType:"arraybuffer",cancelPromise:this._cancelDeferred}),this.ozImageP.fail((()=>(this._deferred.reject(),e.cancelImageLoad(this,r)))),this.ozImageP.then(((e,t,r)=>{var n;return n=new Blob([new Uint8Array(e)],{type:r.getResponseHeader("Content-Type")}),this.image.src=URL.createObjectURL(n)}))}else this.image.src=this.href;return this.loadedP}cancel(){var e;return this.useOzCredentials?this._cancelDeferred.resolve():null!=(e=this.image)?e.src="":void 0}dispose(){var e;if(null!=(null!=(e=this.image)?e.src:void 0)&&this.useOzCredentials)return URL.revokeObjectURL(this.image.src)}},t=(0,n.Z)(e.prototype,"loadTime",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,n.Z)(e.prototype,"loadEndTime",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=(0,n.Z)(e.prototype,"priority",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,n.Z)(e.prototype,"requestOrderId",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=(0,n.Z)(e.prototype,"loadedHref",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return a.useOzCredentials=!1,a}.call(void 0),Bn=class{constructor(){(0,b.Z)(this,"loadCount",Wn,this),(0,b.Z)(this,"loadTimeMs",Jn,this),(0,b.Z)(this,"megaPixelsLoaded",Vn,this),(0,b.Z)(this,"cancelledCount",Gn,this),(0,b.Z)(this,"megaPixelsCancelled",Xn,this)}get megaPixelsPerSecond(){return 0===this.loadCount?0:this.megaPixelsLoaded/(this.loadTimeMs/1e3)}get errorAdjustedMegaPixelsPerSecond(){return 0===this.loadCount?0:(this.megaPixelsLoaded+this.megaPixelsCancelled/2)/(this.loadTimeMs/1e3)}update(e,t){return this.loadCount++,this.loadTimeMs+=e,this.megaPixelsLoaded+=t}updateCancelled(e,t){return this.cancelledCount++,this.loadTimeMs+=e,this.megaPixelsCancelled+=t}},Wn=(0,n.Z)(Bn.prototype,"loadCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jn=(0,n.Z)(Bn.prototype,"loadTimeMs",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vn=(0,n.Z)(Bn.prototype,"megaPixelsLoaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gn=(0,n.Z)(Bn.prototype,"cancelledCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xn=(0,n.Z)(Bn.prototype,"megaPixelsCancelled",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qn=Bn,Yn=class{constructor(){this.timingInfo=new Qn,this.batchOpenRequests=0,this.batchCompletedCount=0,this.recentTimingInfo=[]}startBatch(){return this.batchStartTime=new Date,this.lastEndTime=this.batchStartTime,this.lastErrorEndTime=this.batchStartTime,this.batchTiming=new Qn,this.batchOpenRequests=1}startImageLoad(){return null!=this.batchStartTime?this.batchOpenRequests++:this.startBatch()}cancelImageLoad(e,t){return this._finish(e,t,!1)}finishImageLoad(e,t){return this._finish(e,t,!0)}_finish(e,t,r){var n,i;if(n=(i=new Date)-this.lastEndTime,this.lastEndTime=i,r?(this.timingInfo.update(n,e.megaPixels),this.batchTiming.update(n,e.megaPixels)):(this.timingInfo.updateCancelled(n,e.megaPixels),this.batchTiming.updateCancelled(n,e.megaPixels)),this.batchOpenRequests--,this.batchOpenRequests<=0&&(this.batchStartTime=null,this.batchOpenRequests<0))return console.warn(`ImageCache: Negative open requests: ${this.batchOpenRequests}`)}};const oi=function(){class e{constructor(){var e;this.queuedRequests=new(ni())(((e,t)=>e.priority>t.priority)),this.usePixelDensityMultiplier,this.maxRequestCount=20,this.stats=new Yn,e=nn.isCompactScreen()?2:5,this.caches={thumbnail2x:new qn.LRUCache(1e3*e),640:new qn.LRUCache(1e3*e),1280:new qn.LRUCache(200*e),2048:new qn.LRUCache(100*e),panorama:new qn.LRUCache(100*e)}}setUseOzCredentials(e){return Kn.prototype.useOzCredentials=e}check(e,t,r){var n;return n=e.getBestRenditionTypeForSize(t,r,!0),this.caches[n].get(e.getRenditionHref(n))}checkAssetHref(e,t){var r,n,i,s;for(r=0,i=ei.length;r<i;r++)if(s=ei[r],(null!=(n=this.caches[s].get(t))?n.asset:void 0)===e)return n;return null}get(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var s;return s=t.getBestRenditionTypeForSize(r,n,!0),this.getRendition(e,t,s,i)}stop(e){if(null!=e&&!e.isLoaded)return e.requestCount--,0===e.requestCount?(this.caches[e.rendition].remove(e.href),e.cancel()):void 0}getFastPreview(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"2048",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i,s,o;for(o=ei.indexOf(r);o>=0;){if(s=ei[o],null!=(i=this.caches[s].get(t.getRenditionHref(s)))?i.isLoaded:void 0)return i;o--}return this.getRendition(e,t,"thumbnail2x",n)}getRendition(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var s,o,a;return i.Z.is_enabled("debug")&&si.call(ei,r)<0&&console.warn(`Unexpected rendition type ${r}`),null==(o=t.getRenditionHref(r))?null:(null==(a=(s=this.caches[r]).get(o))||a.isLoaded||n||a.requestCount++,n||(null!=a?a.isQueued&&e!==a.priority&&(a.priority=e,this._queueRequest(a)):(a=new Kn(e,t,r,o),s.set(o,a),this.stats.batchOpenRequests<this.maxRequestCount?a.loadP(this.stats).always((()=>window.requestAnimationFrame((()=>this._checkQueue())))):this._queueRequest(a))),a)}_queueRequest(e){return e.isQueued=!0,this.queuedRequests.add({priority:e.priority,imageInfo:e})}_checkQueue(){var e,t;if(this.stats.batchOpenRequests<this.maxRequestCount)for(;this.queuedRequests.size>0;)if((t=this.queuedRequests.poll()).priority===t.imageInfo.priority&&(e=t.imageInfo).isQueued&&e.requestCount>0)return void e.loadP(this.stats).always((()=>window.requestAnimationFrame((()=>this._checkQueue()))))}}return e.IMMEDIATE_PRIORITY=999999999,e}.call(void 0);var ai,li,ui,ci,hi,di,pi,fi,gi,mi=r(93155);ai=class{constructor(){(0,b.Z)(this,"_state",li,this),(0,b.Z)(this,"uploadStatus",ui,this),(0,b.Z)(this,"currentSpace",ci,this),(0,b.Z)(this,"publicGallery",hi,this),(0,b.Z)(this,"publicGalleryLoaded",di,this),(0,b.Z)(this,"shareSidebarAlbums",pi,this),(0,b.Z)(this,"pageJustLoaded",fi,this),this.libraryPages=!1,this.newUser=!1,this.catalogs=null,this.spaces=null,this.embedded=null,this.recentAlbumsAndAdhocs=new Array,this.deletedAssets={},this.stateIsDirty=!1,this.firstAppState=!0,this.imageCache=new oi,this.showFirstEditTip=!1}get state(){return this._state}set state(e){return null!=this._state&&(this.firstAppState=!1),this._state=e}get catalog(){return $.catalogContext}get space(){return this.currentSpace||$.spaceContext}get account(){return $.account}setSpaceContext(e){this.currentSpace=e}get ownedLibraryView(){var e;return!!this.libraryPages&&!(null!=(e=this.state)?e.isSharedWithYouGrid():void 0)}get nonFreemiumLibraryPages(){return this.libraryPages&&null!=this.catalog}loadPublicGalleryP(){return this.libraryPages?this.catalog.gallerySpaces.allP().done((e=>(e.length>0&&(this.publicGallery=e[0]),this.publicGalleryLoaded=!0))):mi.Deferred().reject()}addRecentAlbumsAndAdhocs(e){if(this.hasRecentAlbum(e)?e.id!==this.recentAlbumsAndAdhocs[this.recentAlbumsAndAdhocs.length-1].id&&(this.recentAlbumsAndAdhocs.splice(this.recentAlbumsAndAdhocs.indexOf(this.findInRecentAlbum(e)),1),this.recentAlbumsAndAdhocs.push(e)):this.recentAlbumsAndAdhocs.push(e),this.recentAlbumsAndAdhocs.length>3)return this.recentAlbumsAndAdhocs.shift()}deleteRecentAlbumsAndAdhocs(e){if(this.hasRecentAlbum(e))return this.recentAlbumsAndAdhocs.splice(this.recentAlbumsAndAdhocs.indexOf(e),1)}hasRecentAlbum(e){return this.recentAlbumsAndAdhocs.filter((function(t){return t.id===(null!=e?e.id:void 0)})).length>0}findInRecentAlbum(e){return this.recentAlbumsAndAdhocs.find((function(t){return t.id===(null!=e?e.id:void 0)}))}assetIdsDeleted(e){var t,r,n,i;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],i.push(this.deletedAssets[r]=!0);return i}assetIdsRestored(e){var t,r,n,i;for(i=[],t=0,n=e.length;t<n;t++)r=e[t],i.push(this.deletedAssets[r]=!1);return i}isAssetIdDeleted(e){return!0===this.deletedAssets[e]}},li=(0,n.Z)(ai.prototype,"_state",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ui=(0,n.Z)(ai.prototype,"uploadStatus",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ci=(0,n.Z)(ai.prototype,"currentSpace",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hi=(0,n.Z)(ai.prototype,"publicGallery",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),di=(0,n.Z)(ai.prototype,"publicGalleryLoaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pi=(0,n.Z)(ai.prototype,"shareSidebarAlbums",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=(0,n.Z)(ai.prototype,"pageJustLoaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gi=new(gi=ai),M.enabled&&(M.AppData=gi),d.enabled&&(d.AppData=gi);const yi=gi;var vi,bi,wi,_i,Pi,Ai=r(93155);const xi=(vi=class extends st{constructor(){super(...arguments),(0,b.Z)(this,"finished",bi,this),(0,b.Z)(this,"length",wi,this),(0,b.Z)(this,"totalCount",_i,this),(0,b.Z)(this,"_models",Pi,this)}markDirty(){return this._dirty=!0,this.trigger("dirty"),this}isDirty(){return this._dirty}_add(e){if(null==this.indices[e.id])return this._push(e)}_push(e){return this._models.push(e),this.indices[e.id]=this.length++,this.trigger("modelIndexChanged")}_reindex(e){var t,r,n,i,s;for(null==e&&(this.indices={},e=0),i=this.models,r=this.indices,t=n=e,s=i.length-1;n<=s;t=n+=1)r[i[t].id]=t;return this.length=i.length,this.trigger("modelIndexChanged")}get models(){return this._models.base}get modelsBindable(){return this._models}isEmpty(){return 0===this._models.length}async isEmptyJP(){return!!this.isEmpty()&&(!!this.finished||(await this.fetchP(),this.isEmpty()))}isKnownEmpty(){return this.isEmpty()&&this.finished}async allJP(){return await this.allP()}allP(){return this.finished?Ai.Deferred().resolve(this.models.slice(0)).promise():this.fetchP().then((()=>this.allP()))}at(e){return this._models.at(e)}atP(e){return e<this._models.length?Ai.Deferred().resolve(this.at(e)).promise():this.fetchP().then((()=>this.atP(e)))}firstP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<this._models.length?Ai.Deferred().resolve(this.at(e)).promise():Ai.Deferred().reject().promise()}range(e,t){var r,n;return r=Math.max(0,e),n=null!=this.totalCount?Math.min(this.totalCount,t+1):t+1,this._models.sliceToArray(r,n)}rangeP(e,t){var r;return t<this._models.length||this.finished?(r=this.range(e,t),Ai.Deferred().resolve(r).promise()):this.fetchP().then((()=>this.rangeP(e,t)))}get(e){var t;return t=this.index(e),this.at(t)}getP(e){return this.indexP(e).then((e=>this.at(e)))}index(e){return this.indices[e]}indexP(e){var t;return e?null!=(t=this.index(e))?Ai.Deferred().resolve(t).promise():this.fetchP().then((()=>this.indexP(e))):Ai.Deferred().reject()}isPageLoaded(e){var t;return t=this.pageSize*e+this.pageSize,this.length>t||this.finished}isPagePastEnd(e){var t;return t=this.pageSize*e,this.finished&&e>0&&t>=this.length}pageP(e){return this.pagesP(e,e+1)}pageJP(e){return this.pagesJP(e,e+1)}pages(e,t){var r,n;return r=this.pageSize*e,n=this.pageSize*t,this._models.sliceToArray(r,n)}pagesP(e,t){var r,n,i;return i=(n=this.pageSize*t)<=this.length,r=this.finished&&n>=this.length,i||r?Ai.Deferred().resolve(this.pages(e,t),r).promise():this.fetchP().then((()=>this.pagesP(e,t)))}async pagesJP(e,t){return await this.pagesP(e,t)}totalCountP(){return null!=this.totalCount?Ai.Deferred().resolve(this.totalCount).promise():Ai.Deferred().reject()}pagesLoaded(){return this.finished?Math.ceil(this.length/this.pageSize):Math.floor(this.length/this.pageSize)}deleteLocally(e){return this._deleteMany(e)}_deleteMany(e){var t,r,n,i,s,o,a,l,u;for(i=[],s=0,a=e.length;s<a;s++)r=e[s],null!=(n=this.index(r))&&i.push(n);for(i.sort((function(e,t){return e-t})),u=0,t=o=0,l=i.length;o<l;t=++o)n=i[t],this._models.splice(n-u++,1);if(null!=this.totalCount&&(this.totalCount-=e.length),i.length>0)return this._reindex()}getDisplayIndex(e){return this._models.filter((function(e){return!e.isLayoutSegment()})).findIndex((function(t){return t.id===e.id}))}sortByCustomJP(e,t){return this.customSortPropPath=t,new Promise(((t,r)=>(this._models.sort(e),this._reindex(),this.markDirty(),t())))}get isCustomSorted(){return null!=this.customSortPropPath}reverseCustomSort(){return this._models.reverse(),this._reindex()}includesLayoutSegments(){var e,t;return(null!=(e=this.options)&&null!=(t=e.subtype)?t.indexOf("layout_segment"):void 0)>=0}},bi=(0,n.Z)(vi.prototype,"finished",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),wi=(0,n.Z)(vi.prototype,"length",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_i=(0,n.Z)(vi.prototype,"totalCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pi=(0,n.Z)(vi.prototype,"_models",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vi);var Si,Ci=r(527596),Oi=r(317771);const Di=(Si=class e{constructor(e,t){var r;this.model=e,this.urlTemplate=t,this.activeItems={},this.toBeReleased=new Set,this.mergeFn=null!=(r=this.model.prototype._assetStoreUpdate)?r:this.defaultUpdate}get count(){return Object.keys(this.activeItems).length}aquireItem(e){var t,r;return e instanceof this.model?(t=e.storeId,console.assert(this.model===e.constructor),null==this.activeItems[t]&&(console.warn("Re-aquiring released object",e),this.activeItems[t]={item:e,count:0},this.toBeReleased.delete(this.activeItems[t]))):(t=e.id,null!=this.activeItems[t]?(r=this.activeItems[t].item,this.mergeFn(r,e)):this.activeItems[t]={item:new this.model(e),count:0}),this.activeItems[t].count++,this.activeItems[t].item}async aquireItemP(e,t){var r;return null!=this.activeItems[e]?(this.activeItems[e].count++,this.activeItems[e]):(r=await st.prototype.requestP("GET",t),this.aquireItem(r))}defaultUpdate(e,t){var r;if(r=new Date(e.attributes.updated),new Date(t.updated)>r)return e.setAttributes(t)}releaseItem(e){var t;return t=e.storeId,null==this.activeItems[t]?console.warn("Releasing unknown item",e):(this.activeItems[t].count--,this.activeItems[t].count<1?(this.toBeReleased.add(this.activeItems[t]),delete this.activeItems[t]):void 0)}cleanUp(){return this.toBeReleased.clear()}static instance(t){var r;return r=(0,Oi.Z)(t),this._instance||(this._instance={}),null==this._instance[r]&&(this._instance[r]=new e(t)),this._instance[r]}},(0,n.Z)(Si.prototype,"cleanUp",[Ci.Z],Object.getOwnPropertyDescriptor(Si.prototype,"cleanUp"),Si.prototype),Si);var ki,Ii;let Ti=(ki=class{constructor(){(0,b.Z)(this,"data",Ii,this)}formatDateAgo(e){var t=(new Date-e)/1e3;return this.formatSecondsAgo(t)}formatSecondsAgo(e,t){null==t&&(t=!1);var r,n,i,s,o=this._getLocale().fields;return e<60?(r=e,n="second",i="$$$/js/viewer/loupe/sidebar/timestamp/seconds_ago={x} s"):e<3600?(r=e/60,n="minute",i="$$$/js/viewer/loupe/sidebar/timestamp/minutes_ago={x} m"):e<86400?(r=e/3600,n="hour",i="$$$/js/viewer/loupe/sidebar/timestamp/hours_ago={x} h"):e<2592e3?(r=e/86400,n="day",i="$$$/js/viewer/loupe/sidebar/timestamp/days_ago={x} d"):e<31536e3?(r=e/2592e3,n="month",i="$$$/js/viewer/loupe/sidebar/timestamp/months_ago={x} M"):(r=e/31536e3,n="year",i="$$$/js/viewer/loupe/sidebar/timestamp/years_ago={x} Y"),r=Math.floor(r),t?j(i,{x:r}):(s=o[n].pastRelativeTime,(s=1===r||1===s.length?s[0]:s[1]).replace("{0}",r))}formatDateRange(e,t,r){var n;n="full"===r?"yMMMEd":"short"===r?"yMd":"yMMMd";var i,s=this._getLocaleCalendar().dateTimeFormats.intervalFormats[n];if(t<e){var o=t;t=e,e=o}if(e.getFullYear()===t.getFullYear())if(e.getMonth()===t.getMonth()){if(e.getDay()===t.getDay())return this.formatDate(e,r);i="d"}else i="M";else i="y";var a=s[i];return this._fillPattern(a,e,t)}formatDateTime(e,t){var r=this._getLocaleCalendarPattern("dateTime",t);return r=(r=r.replace("{0}",this._getLocaleCalendarPattern("time",t))).replace("{1}",this._getLocaleCalendarPattern("date",t)),this._fillPattern(r,e)}formatTime(e,t){var r=this._getLocaleCalendarPattern("time",t);return this._fillPattern(r,e)}formatDate(e,t){var r=this._getLocaleCalendarPattern("date",t);return this._fillPattern(r,e)}formatShortYearMonth(e){var t=this._getLocaleCalendar().dateTimeFormats.availableFormats.yMMM,r=this._fillPattern(t,e);return r[0].toUpperCase()+r.substr(1)}formatWideYearMonth(e){var t,r=this._getLocaleCalendar().dateTimeFormats.availableFormats.yMMMM;return(t=r?this._fillPattern(r,e):this.formatShortYearMonth(e))[0].toUpperCase()+t.substr(1)}getMonthField(e,t){var r=this._getLocaleCalendar().months;return t=t||"wide",(r["stand-alone"][t]||r.format[t])[e]}getDayField(e,t){var r=this._getLocaleCalendar().days;return t=t||"wide",(r["stand-alone"][t]||r.format[t])[e]}_getLocale(){return this.data}_getLocaleCalendar(){return this._getLocale().calendar}_getLocaleCalendarPattern(e,t){return"date"===e||"dateTime"===e?"spectrum-custom-compact"===t?t="medium":"spectrum-full"===t&&(t="full"):"time"===e&&("spectrum-custom-compact"!==t&&"spectrum-full"!==t||(t="short")),this._getLocaleCalendar()[e+"Formats"][t||"long"]||""}_fillPattern(e,t,r){var n,i=t,s=this._getLocaleCalendar(),o=this._getLocale().timeZoneNames;if(r){var a,l,u=e.replace(/'(''|[^'])*'/g,"").match(/([a-zA-z])\1*/g);e:for(f=0;f<u.length;f++)for(l=u[f],a=f+1;a<u.length;a++)if(l===u[a]){n=l;break e}}for(var c=function(e,t){for(var r=t-(e=e.toString()).length,n="",i=0;i<r;i++)n+="0";return n+e},h=function(e,a){var l=e.length;switch(e===n&&(i===t?t=void 0:i=r),a){case"h":case"H":var u=i.getHours();return"h"===a&&(u>11&&(u-=12),0===u&&(u=12)),2===l?c(u,2):u;case"m":case"s":var h="m"===a?i.getMinutes():i.getSeconds();return 2===l?c(h,2):h;case"a":var d=s.dayPeriods.format,p=i.getHours()<12?"am-variant":"pm-variant";return d.hasOwnProperty(p)||(p="am-variant"===p?"am":"pm"),s.dayPeriods.format[p];case"y":var f=i.getFullYear();switch(l){case 1:return f;case 2:return f.toString().substr(-2)}break;case"M":case"L":if(1===l)return i.getMonth()+1;if(2===l)return c(i.getMonth()+1,2);case"E":case"c":var g;if(3===l?g="abbreviated":4===l?g="wide":5===l&&(g="narrow"),g){var m,y=s["M"===a||"L"===a?"months":"days"];if("M"===a||"E"===a?(m=y.format[g])||(m=y["stand-alone"][g]):(m=y["stand-alone"][g])||(m=y.format[g]),h=m["M"===a||"L"===a?i.getMonth():i.getDay()])return h}break;case"d":return h=i.getDate(),2===l?c(h,2):h;case"z":case"v":var v=i.getTimezoneOffset();if(0===v)return o.gmtZeroFormat||o.gmtFormat.replace("{0}","");var b=o.gmtFormat,w=o.hourFormat.split(";",2),_=v<0?w[0]:w[1],P=Math.abs(v),A=(u=Math.floor(P/60),P%60);return _=(_=(_=(_=_.replace("HH",c(u,2))).replace("H",u)).replace("mm",c(A,2))).replace("m",A),b.replace("{0}",_)}return""},d=e.match(/(^|''|[^'])+/g),p="",f=0;f<d.length;f++){var g=d[f];p+=f%2==0?g.replace(/([a-zA-z])\1*/g,h):g}return p.replace("''","'")}},Ii=(0,n.Z)(ki.prototype,"data",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ki);const Ei=new Ti;var ji;const Ri=null!==(ji=window.CLDR)&&void 0!==ji?ji:Ei;var Zi,Ni,Fi,Li=r(976060);const $i=(Zi=class extends Br{constructor(){super(...arguments),(0,b.Z)(this,"pollingForRendition",Ni,this),(0,b.Z)(this,"importedByUser",Fi,this)}setAttributes(e){if(super.setAttributes(e),null!=e.importedByUser)return this.importedByUser=new un(e.importedByUser)}get isAutoVersion(){return!this.isNamedVersion}get isNamedVersion(){return!0===this.attributes.payload.createdManually}get name(){return this.attributes.payload.name}get develop(){return this.attributes.payload.develop}hasExternalDevelopSettings(){return this.hasLink("/rels/xmp/develop")}async getExternalEditSettingsJP(){var e;return null!=this.externalEditSettings?this.externalEditSettings:(e=await st.prototype.requestJP("GET",this.linkHref("/rels/xmp/develop"),null,{contentType:""}),this.externalEditSettings=e[0])}async getDevelopSettingsJP(){return this.hasExternalDevelopSettings()?await this.getExternalEditSettingsJP():this.attributes.payload.develop.xmpCameraRaw}async renameJP(e){if(0===(null!=e?e.length:void 0)&&(e=null),e!==this.name)return await this.updateAttributesP("renameVersion",{payload:{name:e}})}async uploadExternalizedSettingsJP(e){var t;return t=this.linkHref("/rels/xmp_develop_create").replace("{revision_id}",this.attributes.revision_ids[0]),await st.prototype.requestJP("PUT",t,e,{contentType:"application/rdf+xml"}),await this.refreshP()}getRenditionHref(e,t){return this.hackCacheableLinkHref(`/rels/rendition_type/${e}`)}hackCacheableLinkHref(e){var t;return null!=(t=this.linkHref(e))?t.replace("/v2/","/v2c/"):void 0}pollForRendition(){var e,t;if(t=0,!this.pollingForRendition)return this.pollingForRendition=!0,(e=()=>(t++,this.refreshP().done((()=>this.shouldPollForRendition()&&t<6?setTimeout(e,1e3):this.shouldPollForRendition()?void 0:this.pollingForRendition=!1)).fail((()=>this.pollingForRendition=!1))))()}shouldPollForRendition(){var e;if(null==(null!=(e=this.attributes.links)?e.href:void 0))return!0}},Ni=(0,n.Z)(Zi.prototype,"pollingForRendition",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fi=(0,n.Z)(Zi.prototype,"importedByUser",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zi);var Mi=r(93155);const Ui=function(){class e extends xi{constructor(e,t){var r;super(e),this._dirty=!0,null==(null!=t?t.limit:void 0)&&(i.Z.is_enabled("override_oz_limit_5")?t=Mi.extend(t||{},{limit:5}):i.Z.is_enabled("override_oz_limit_500")?t=Mi.extend(t||{},{limit:500}):100!==$.defaultPageSize&&(t=Mi.extend(t||{},{limit:$.defaultPageSize}))),this.pageSize=null!=(r=null!=t?t.limit:void 0)?r:100,this.options=t,this.reset()}dispose(){return super.dispose(),this._disposeModels()}setCacheSource(e){this.cacheSource=e}reset(){return this._dirty?(this._models?this._disposeModels():this._models=new wt,i.Z.is_enabled("custom_sort_dialog")&&(this.customSortPropPath=null),this.indices={},this.fetchUrl=this.href,this.finished=!1,this.totalCount=null,this.length=0,this.page=0,this._dirty=!1,null!=this.options&&(this.pageSize=this.options.limit,this.fetchUrl+="?"+Mi.param(this.options)),null==this.pageSize&&(this.pageSize=100),this):this}_disposeModels(){return i.Z.is_enabled("asset_store")&&this._models.forEach((function(e){if(null!=e.dispose)return e.dispose()})),this._models.splice(0,this._models.length)}numLoaded(){return this.length}_parse(e){return e.resources}fetchP(){return null==this.fetchUrl?Mi.Deferred().reject().promise():this.fetching?this.fetching:(this.fetching=this.requestP("GET",this.fetchUrl)).always((()=>this.fetching=void 0)).fail(((e,t,r)=>(null!=this.modelName?this.reportOzFailure(`fetchP${this.modelName}Failure`,e,t,r):this.reportOzFailure("fetchPFailure",e,t,r),this.fetchUrl=void 0,this._dirty=!0))).done((e=>{var t,r,n,s,o,a,l,u,c;for(this.length,t=0,s=(n=this._parse(e)).length;t<s;t++)(r=n[t]).base=e.base,a=null!=this.model.store&&i.Z.is_enabled("asset_store")?this.model.store.aquireItem(r,this):new this.model(r,this),this._add(a);if(this.page++,0===n.length?this.fetchUrl=void 0:(l=null!=(u=e.links)&&null!=(c=u[this.nextPageLink||"next"])?c.href:void 0,o=new ht(e.base),this.fetchUrl=o.fullHref(l)),null==this.fetchUrl)return this.finished=!0,this.totalCount=this._models.length}))}createP(e,t,r){var n,i,s;return null!=t.payload&&"Catalog"!==this.modelName&&(s=(new Date).toISOString(),null==(n=t.payload).userCreated&&(n.userCreated=s),null==(i=t.payload).userUpdated&&(i.userUpdated=s)),this.requestP("PUT",e,JSON.stringify(t)).then(((e,t,n)=>{var i;return i=null!=r?r:n.getResponseHeader("Location"),this._addCreatedP(i)})).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`create${this.modelName}Failure`,e,t,r):this.reportOzFailure("createOzResourceFailure",e,t,r)))}async createJP(e,t,r){return await this.createP(e,t,r)}_addCreatedP(e){return this.requestP("GET",e).then((e=>{var t;return t=new this.model(e,this),this._add(t,!0),null!=this.totalCount&&this.totalCount++,t}))}deleteP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,n;return n=this.index(e),r=this.at(n).href,null!=t&&(r+="?"+Mi.param(t)),this.requestP("DELETE",r).done((()=>{var t;if((null!=(t=this.at(n))?t.id:void 0)===e)return this._delete(n)})).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r)))}async deleteJP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return await this.deleteP(e,t)}optimisticDeleteP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,n,i;return i=this.index(e),n=this.at(i).href,this._delete(i),r=()=>this.requestP("DELETE",n).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r))),null!=t?t.then((()=>r())):r()}_unshift(e){return this._models.unshift(e)}_add(e,t){if(this.get(e.id)&&this._delete(this.index(e.id)),this._push(e),this.finished&&null!=this.totalCount)return this.totalCount++}_delete(e){if(null!=e)return i.Z.is_enabled("asset_store")&&null!=this._models.at(e).dispose&&this._models.at(e).dispose(),this._models.splice(e,1),null!=this.totalCount&&this.totalCount--,this._reindex()}firstP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<this._models.length?Mi.Deferred().resolve(this.at(e)).promise():1===this.pageSize?this.fetchP().then((()=>e<this._models.length?Mi.Deferred().resolve(this.at(e)).promise():Mi.Deferred().reject().promise())):this.fetchP().then((()=>this.atP(e)))}getTotalCountHref(){return null}totalCountP(){var e;return null!=this.totalCount?Mi.Deferred().resolve(this.totalCount).promise():(e=this.getTotalCountHref(),null!=this.totalCountPromise?this.haveQueuedTotalCount?this.totalCountPromise:this.isDirty()?(this.haveQueuedTotalCount=!0,this.totalCountPromise.then((()=>this.totalCountP()))):this.totalCountPromise:(this.totalCountPromise=null!=e?this.requestP("GET",e).done((e=>this.totalCount=Math.max(this._models.length,parseInt(e.total_count)))).then((()=>this.totalCountP())):this.allP().then((()=>this.totalCount=this._models.length)),this.totalCountPromise.always((()=>this.totalCountPromise=null))))}}return e.prototype.model=Br,e}.call(void 0),zi=function(){var e;let t=(e=class extends Ui{constructor(e,t,r){super(t,r),this.parentAsset=e}_add(e,t){return t?(this._models.unshift(e),this._reindex()):super._add(e)}async deleteAllJP(){var e,t,r,n,i;for(i=[],e=0,n=(r=this.models.map((e=>e.id))).length;e<n;e++)t=r[e],i.push(this.optimisticDeleteP(t));return await Promise.all(i)}canFilterByCreator(e){return this.filterVersionsCreatedByUser(e).length>0&&this.filterVersionsNotCreatedByUser(e).length>0}_versionIsCreatedByUser(e,t){var r,n;return r=$.account.id,t?null==e.importedByUser:r===(null!=(n=e.importedByUser)?n.id:void 0)}get _filteredOwnerVersions(){return this.modelsBindable.filter((e=>this._versionIsCreatedByUser(e,!0)))}get _filteredUserVersions(){return this.modelsBindable.filter((e=>this._versionIsCreatedByUser(e,!1)))}get _filteredNotOwnerVersions(){return this.modelsBindable.filter((e=>!this._versionIsCreatedByUser(e,!0)))}get _filteredNotUserVersions(){return this.modelsBindable.filter((e=>!this._versionIsCreatedByUser(e,!1)))}filterVersionsCreatedByUser(e){return e?this._filteredOwnerVersions:this._filteredUserVersions}filterVersionsNotCreatedByUser(e){return e?this._filteredNotOwnerVersions:this._filteredNotUserVersions}async _createVersionJP(e,t,r){var n,s,o,a,l,u,c,h;if(t.processingModel="lightroom",a={subtype:"edit",asset:{sha256:this.parentAsset.importSource().sha256},payload:{createdManually:r,develop:t},importedOnDevice:{formFactor:"web"}},r?e.length>0&&(a.payload.name=e):null!=e&&(a.payload.userCreated=a.payload.userUpdated=e),(null!=(h=t.xmpCameraRaw)?h.length:void 0)>$.XMP_CAMERA_RAW_MAX_LENGTH||i.Z.is_enabled("force_externalize_edit_settings")&&null!=t.xmpCameraRaw){c=t.xmpCameraRaw,n=new Blob([t],{type:"text/xml"});try{l=await Qr.digestP(n,!1,2),t.xmpCameraRaw={sha256:l}}catch(e){throw u=e,be.reportFailure("versionExternalDigestFailure"),u}}return s=this.createJP(`${this.href}/${this.createUuid()}`,a),null!=c&&(o=await s,await o.uploadExternalizedSettingsJP(c)),s}createAutoJP(e,t){var r;return r={},null!==this.parentAsset.getContentType()&&(r["content.mimeType"]=this.parentAsset.getContentType()),be.track("Develop","Versions","implicitly-created",r),this._createVersionJP(t,e,!1)}createNamedJP(e,t){return this._createVersionJP(e,t,!0)}async createNamedFromAutoVersionJP(e,t){var r;return r=h.extend({},t.develop),t.hasExternalDevelopSettings()&&(r.xmpCameraRaw=await t.getDevelopSettingsJP()),delete r.userUpdated,delete r.userCreated,this._createVersionJP(e,r,!0)}},(0,n.Z)(e.prototype,"_filteredOwnerVersions",[Li.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredOwnerVersions"),e.prototype),(0,n.Z)(e.prototype,"_filteredUserVersions",[Li.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredUserVersions"),e.prototype),(0,n.Z)(e.prototype,"_filteredNotOwnerVersions",[Li.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredNotOwnerVersions"),e.prototype),(0,n.Z)(e.prototype,"_filteredNotUserVersions",[Li.Z],Object.getOwnPropertyDescriptor(e.prototype,"_filteredNotUserVersions"),e.prototype),e);return t.prototype.model=$i,t.prototype.modelName="Version",t}.call(void 0),qi={_seenKeywords:{},registerKeywords:function(e){return Object.assign(this._seenKeywords,e.getKeywords())},getAllKeywords:function(){return Object.keys(this._seenKeywords)}};var Hi=r(93155);const Bi=function(){class e{constructor(e){this.maxRequests=e}get numActiveRequests(){return Object.keys(this.activeRequests).length}get numPendingRequests(){return this.pendingRequests.length}pollForValidRenditionsP(e,t,r){return this._pollForRenditionsP(e,r,!1,t)}pollForRenditionsP(e,t,r){return this._pollForRenditionsP(e,r,!0,t)}_pollForRenditionsP(e,t,r,n){var i,s;return t||(t=["thumbnail2x"],e.isVideo()&&t.push("360p")),null!=(i=this.activeRequests[e.id])&&i.allowInvalid===r&&t.every((e=>i.renditions.includes(e)))?(i.requestCount++,i.continueCallbacks.push(n),i.loadedP):(s=Hi.Deferred(),i={id:e.id,asset:e,allowInvalid:r,requestCount:1,loadedP:s.promise(),deferred:s,continueCallbacks:[n],renditions:t},this.pendingRequests.push(i),this._activateNextRequestIfPossible(),i.loadedP)}_activateNextRequestIfPossible(){var e;if(this.numActiveRequests<this.maxRequests&&this.numPendingRequests>0)return e=this.pendingRequests.shift(),this._activatePolling(e)}_activatePolling(e){return e.totalWaitTime=0,e.pollingPeriod=5e3,e.maximumWaitTime=25e5,this.activeRequests[e.id]=e,this._refreshAndCheck(e)}_stopPolling(e,t){return delete this.activeRequests[e.id],t?e.deferred.resolve():e.deferred.reject(),this._activateNextRequestIfPossible()}_shouldContinuePolling(e){var t,r,n,i;if(!((null!=(n=e.continueCallbacks)?n.length:void 0)>0))return!1;for(t=0,r=(i=e.continueCallbacks).length;t<r;t++)if((0,i[t])())return!0;return!1}_refreshAndCheck(e){var t,r;return this._shouldContinuePolling(e)?(({asset:t,renditions:r}=e),e.allowInvalid&&t.hasRenditions(r)||!e.allowInvalid&&t.hasValidRenditions(r)?(be.report("renditionsGenerated",{loadTimeMs:e.totalWaitTime,webSource:t.wasImportedByWeb()}),this._stopPolling(e,!0)):(e.totalWaitTime+=e.pollingPeriod,e.totalWaitTime>e.maximumWaitTime?(be.reportFailure("renditionsNotGenerated",{webSource:t.wasImportedByWeb()}),this._stopPolling(e,!1)):(setTimeout((()=>t.refreshP().done((()=>this._refreshAndCheck(e))).fail((()=>this._stopPolling(e,!1)))),e.pollingPeriod),e.pollingPeriod>=6e4?void 0:e.pollingPeriod+=5e3))):this._stopPolling(e,!1)}}return e.prototype.pendingRequests=[],e.prototype.activeRequests={},e}.call(void 0);var Wi=r(909699),Ji=r.n(Wi),Vi=r(25927),Gi=r.n(Vi),Xi=r(398623),Yi=r.n(Xi),Ki=r(495455),Qi=r.n(Ki),es=r(176871),ts=r.n(es),rs=r(386100),ns=r.n(rs),is=r(760693),ss={};ss.styleTagTransform=ns(),ss.setAttributes=Qi(),ss.insert=Yi().bind(null,"head"),ss.domAPI=Gi(),ss.insertStyleElement=ts(),Ji()(is.Z,ss);const os=is.Z&&is.Z.locals?is.Z.locals:void 0;var as,ls;new class{get width(){return null==this.scrollBarWidth&&this.calculateScrollBarWidth(),this.scrollBarWidth}calculateScrollBarWidth(){const e=window.document.createElement("div");window.document.body.appendChild(e),e.className=os.test_outer;const t=window.document.createElement("div");e.appendChild(t);const r=e.offsetWidth-t.offsetWidth;this.scrollBarWidth=r||0,i.Z.is_enabled("debug_verbose")&&console.log(`ScrollBarInfo.width calculated as ${this.scrollBarWidth}`),e.removeChild(t),window.document.body.removeChild(e)}},({DevelopResources:as,PageResources:ls}=window);const us=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11]));var cs;var hs,ds,ps,fs,gs,ms,ys,vs,bs,ws,_s,Ps,As,xs,Ss,Cs,Os,Ds,ks,Is,Ts,Es,js,Rs,Zs,Ns,Fs,Ls,$s;new(cs=class{get isSupported(){return!!i.Z.is_enabled("develop_force_enable")||!i.Z.is_enabled("develop_force_disable")&&!Se.edge&&!Se.mobile&&!Se.win32&&null!=window.WebAssembly&&null!=document.createElement("canvas").getContext("webgl")}loadJP(){const e=new Date;if(null!=this.loading)return this.loading;{const t=as.VERSION;return be.report("editBridgeInitializing",{version:t}),this.loading=new Promise((async(r,n)=>{if(!this.isSupported)return n();const{ic_web_js:s,app_manifest:o}=as.PATHS,a=await(async(e,t)=>{let r;if(i.Z.is_enabled("develop_force_legacy"))r="legacy";else{r=(await Promise.all([(async e=>{try{return"undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch(e){return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),us()])).every(Boolean)?"modern":"legacy"}const n=[];n.push(`self.type = '${r}'`),n.push(`self.origin = '${window.location.origin}'`),null!=t&&n.push(`self.appManifest = '${t}'`),n.push(`importScripts('${e}')`);const s=new Blob([n.join(";")],{type:"text/javascript"}),o=URL.createObjectURL(s);return new Worker(o)})(s,o);let l;try{l=await(u=a,h=new Promise(((e,t)=>{i.Z.is_enabled("force_edit_bridge_failure")&&t();const r={};let n=0;const s=e=>function(){for(var t,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return"function"==typeof s[s.length-1]?r[n]=s.pop():h=new Promise((e=>r[n]=e)),u.postMessage({id:n,method:e,params:s}),n++,null!==(t=h)&&void 0!==t?t:o},o={getFunctions:s()};u.addEventListener("message",(e=>{const{data:t}=e,n=r[t.id];null!=n&&(n.call(o,t.result),delete r[t.id])})),u.addEventListener("error",t),o.getFunctions((t=>{for(let e=0;e<t.length;e++){const r=t[e];o[r]=s(e)}e(o,c)}))})),i.Z.is_enabled("develop_simulate_slow_load")&&(h=h.then((e=>new Promise((t=>setTimeout((()=>t(e,c)),3e4)))))),h)}catch(e){return be.reportFailure("editBridgeFailed",{version:t}),n(e)}var u,c,h;await l.initialize("0".repeat(32),!1),"en-US"!==R.locale&&await l.setLocale(R.locale),be.report("editBridgeInitialized",{version:t,loadTimeMs:new Date-e}),r(this.bridge=l)}))}}},(0,n.Z)(cs.prototype,"isSupported",[P.Z],Object.getOwnPropertyDescriptor(cs.prototype,"isSupported"),cs.prototype),cs),(!Se.safari||Se.safari>5)&&window.File&&(window.FileReader&&(hs=null!=(ds=window.crypto)?ds:window.msCrypto)&&(null!=(ps=hs.subtle)?ps:hs.webkitSubtle)||window.Worker)&&window.XMLHttpRequest&&(new XMLHttpRequest).withCredentials;let Ms=(fs=nr.byVal,gs=nr.byVal,ms=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"croppedWidth",ys,this),(0,b.Z)(this,"croppedHeight",vs,this)}},ys=(0,n.Z)(ms.prototype,"croppedWidth",[fs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vs=(0,n.Z)(ms.prototype,"croppedHeight",[gs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ms),Us=(bs=nr.byVal,ws=nr.byVal,_s=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"originalWidth",Ps,this),(0,b.Z)(this,"originalHeight",As,this)}},Ps=(0,n.Z)(_s.prototype,"originalWidth",[bs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),As=(0,n.Z)(_s.prototype,"originalHeight",[ws],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_s),zs=(xs=nr.byVal,Ss=nr.byOptionalRef(Ms),Cs=nr.byOptionalRef(Us),Os=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"captureDate",Ds,this),(0,b.Z)(this,"develop",ks,this),(0,b.Z)(this,"importSource",Is,this)}},Ds=(0,n.Z)(Os.prototype,"captureDate",[xs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ks=(0,n.Z)(Os.prototype,"develop",[Ss],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Is=(0,n.Z)(Os.prototype,"importSource",[Cs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Os),qs=(Ts=nr.alias("/rels/rendition_type/2048"),Es=nr.byVal,js=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"rendition2048",Rs,this)}},Rs=(0,n.Z)(js.prototype,"rendition2048",[Ts,Es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),js),Hs=(Zs=nr.byRef(zs),Ns=nr.byRef(qs),Fs=class extends qr{constructor(){super(...arguments),(0,b.Z)(this,"payload",Ls,this),(0,b.Z)(this,"links",$s,this)}},Ls=(0,n.Z)(Fs.prototype,"payload",[Zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$s=(0,n.Z)(Fs.prototype,"links",[Ns],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fs);var Bs,Ws,Js=r(93155);Ws=new Bi(10);const Vs=Bs=function(){var e,t,r,s,o;let a=(e=class e extends Br{constructor(){super(...arguments),(0,b.Z)(this,"importedByUser",t,this),(0,b.Z)(this,"_selectedVersion",r,this),(0,b.Z)(this,"generatingRenditionsCount",s,this),(0,b.Z)(this,"revising",o,this)}setAttributes(e){return super.setAttributes(e),null==this.namedVersions&&(this.namedVersions=new zi(this,`${this.linkHref("self")}/versions`,{created_as:"manual",embed:"user"})),null==this.autoVersions&&(this.autoVersions=new zi(this,`${this.linkHref("self")}/versions`,{created_as:"auto",embed:"user"})),null!=e.importedByUser?this.importedByUser=new un(e.importedByUser):this.importedByUser=null,qi.registerKeywords(this)}payload(){return this.attributes.payload}xmp(){return this.attributes.payload.xmp}develop(){return this.payload().develop}importSource(){return this.attributes.payload.importSource}purgeDate(){return this.attributes.payload.purgeDate}personName(){return this.attributes.payload.name}restoreInProgress(){var e;return null!=(e=this.attributes)?e.restore_in_progress:void 0}purgeRemainingDays(){var e,t;return e=(new Date).getTime(),t=Date.parse(this.purgeDate())-e,Math.floor(t/864e5)}iacDeleteRemainingHours(){var e,t;return t=(new Date).getTime()-this.getOzCreatedDate(),e=Math.max(t,0),48-Math.floor(e/36e5)}faceData(){var e,t,r;return null!=(e=this.attributes.payload.xmp)&&null!=(t=e["mwg-rs"])&&null!=(r=t.Regions)?r.RegionList:void 0}getPersonIdsDetected(){var e,t,r,n,i,s,o,a;if(null==this.faceData())return null;for(e in s=[],o=this.faceData())if(i=o[e].Extensions["adobe-fi"].People)for(t=0,n=(a=Object.keys(i)).length;t<n;t++)r=a[t],s.push(r);return s}getPersonRecognitionAppName(){var e,t;if(null==this.faceData())return null;for(e in t=this.faceData())return t[e].Extensions["adobe-fi"].Application}getPersonRecognitionAppVersion(){var e,t;if(null==this.faceData())return null;for(e in t=this.faceData())return t[e].Extensions["adobe-fi"].Version}debugGetKpTags(){var e,t,r,n,i;for(r=[],e=0,n=(i=this.getKeywordsArray()).length;e<n;e++)0===(t=i[e]).indexOf("kp_")&&r.push(t);return r}isImportedBy(e){var t;return(null!=(t=this.importSource())?t.importedBy:void 0)===e.id}hasImportDevice(){var e;return null!=(null!=(e=this.importSource())?e.importedOnDevice:void 0)}getImportDevice(){var e,t;return null!=(e=null!=(t=this.importSource())?t.importedOnDevice:void 0)?e:""}getFileSize(){var e,t;return null!=(e=null!=(t=this.importSource())?t.fileSize:void 0)?e:0}getFileSizeInMB(){var t,r;if(null!=(null!=(t=this.importSource())?t.fileSize:void 0))return r=this.importSource().fileSize,Math.round(r/e.prototype.MB)}getContentType(){var e;return null!=(e=this.importSource())?e.contentType:void 0}hasKeyword(e){return!0===this.getKeywords()[e]}getKeywords(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.subject:void 0)||{}}getKeywordsArray(){var e,t,r;for(e in r=[],t=this.getKeywords())t[e]&&r.push(e);return r.sort(),r}getCaptureDate(){var e,t;return(e=this.payload().captureDate)===st.prototype.UNKNOWN_DATE||null===e?null:(t=e.slice(0,19),new Date(Date.parse(t)))}getImportDate(){var e,t;return(e=null!=(t=this.importSource())?t.importTimestamp:void 0)===st.prototype.UNKNOWN_DATE?null:new Date(Date.parse(e))}getFormattedCaptureDate(){var e;return null!=(e=this.getCaptureDate())?Ri.formatDate(e,"long"):j("$$$/js/oz_resource/unknown_date=Date unknown")}getFormattedImportDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"long";var t;return null!=(t=this.getImportDate())?Ri.formatDate(t,e):j("$$$/js/oz_resource/unknown_date=Date unknown")}getFileName(){var e,t;return i.Z.is_enabled("debug_empty_filenames")?"":(null!=(e=this.importSource())?e.fileName:void 0)||(null!=(t=this.payload())?t.FileName:void 0)||""}getFileExtension(){var e,t;return-1!==(t=(e=this.getFileName()).lastIndexOf("."))?e.substr(t+1).toLowerCase():""}getAspectRatio(){var e;return(e=this.getCroppedDimensions())[0]/e[1]}getDownload2048Href(){return this.getHackRenditionDownloadHref("2048",!0)}getDownload2048FileSizeP(){var e;return null!=this.downloadFileSizePromise?this.downloadFileSizePromise:null!=(e=this.getRenditionHref("2048",!0))?this.downloadFileSizePromise=this.requestP("HEAD",e,"",{contentType:""}).then(((e,t,r)=>{var n;return n=r.getResponseHeader("Content-Length"),this.downloadFileSize=Math.max(0,n)})):Js.Deferred().reject()}getHackRenditionDownloadHref(e,t){return this.linkHref(`/rels/rendition_type/${e}`)}getRenditionHref(e,t){return this.hackCacheableLinkHref(`/rels/rendition_type/${e}`)}getBestRenditionTypeForSize(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n,s,o,a,l,u,c,h;for((i.Z.is_enabled("pixel_density_multiplier")||r)&&(e*=nn.pixelDensity,t*=nn.pixelDensity),n=0,o=(u=(l=Math.max(null!=e?e:0,null!=t?t:0))>2048?["panorama","2048","1280"]:l>1280?["2048","1280"]:l>640?["1280","2048"]:l>320?["640"]:["thumbnail2x"]).length;n<o;n++)if(h=u[n],this.hasValidRendition(h)){c=h;break}if(null!=c)return c;for(s=0,a=u.length;s<a;s++)if(h=u[s],this.hasRendition(h)){c=h;break}return c||"thumbnail2x"}getLargestAvailableRendition(){var e,t,r,n;for(e=0,t=(r=["panorama","2048","1280","640","thumbnail2x"]).length;e<t;e++)if(n=r[e],this.hasRendition(n))return n;return null}getBestRenditionHrefForSize(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n;return n=this.getBestRenditionTypeForSize(e,t,r),this.getRenditionHref(n)}hackCacheableLinkHref(e){var t;return $.haveNginxProxy?null!=(t=this.linkHref(e))?t.replace("/v2/","/v2c/"):void 0:this.linkHref(e)}hasMaster(){return null!=this.attributes.links["/rels/master"]}hasProxy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2560";return null!=this.attributes.links[`/rels/proxy_type/${e}`]}hasRenditionGenerateHref(e){return this.hasLink(`/rels/rendition_generate/${e}`)}isProxyOnly(){var e;return!0===(null!=(e=this.importSource())?e.willNotUploadMaster:void 0)}getMasterHref(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.linkHref("/rels/master"):this.hackCacheableLinkHref("/rels/master")}getProxyHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"2560";return this.hackCacheableLinkHref(`/rels/proxy_type/${e}`)}hasExternalDevelopSettings(){return this.hasDevelopSettingsHref()}hasDevelopSettingsHref(){return this.hasLink("/rels/xmp/develop")}getDevelopSettingsHref(){return this.linkHref("/rels/xmp/develop")}canCreateDefaultAutoVersion(){var e;return null!=(e=this.payload().develop)&&""!==e.xmpCameraRaw}async getAutoVersionDevelopSettingsJP(){var e,t,r,n,i;return e=this.payload().develop,i=await this.getDevelopSettingsP(),n={croppedWidth:null!=(t=e.croppedWidth)?t:this.getOriginalDimensions()[0],croppedHeight:null!=(r=e.croppedHeight)?r:this.getOriginalDimensions()[1]},(null!=i?i.length:void 0)>0&&(n.xmpCameraRaw=i),null!=e.userOrientation&&(n.userOrientation=e.userOrientation),null!=e.userUpdated&&(n.userUpdated=e.userUpdated),null!=e.crsVersion&&(n.crsVersion=e.crsVersion),n}getDevelopSettingsP(){var e,t,r,n;return e=Js.Deferred(),t=t=>null!=this.externalEditSettings||null!=this.externalEditSettingsDigest&&this.externalEditSettingsDigest===t?e.resolve(this.externalEditSettings):(i.Z.is_enabled("debug")&&console.log("Edit settings external. Downloading now..."),this.hasDevelopSettingsHref()?this.requestP("GET",this.getDevelopSettingsHref(),null,{contentType:""}).then((r=>(this.externalEditSettings=r,this.externalEditSettingsDigest=t,e.resolve(this.externalEditSettings)))).fail((function(){return be.reportFailure("editSettingsDownloadFailure"),e.reject()})):(be.reportFailure("editSettingsPartiallyExternal"),e.reject())),null!=(n=null!=(r=this.payload().develop)?r.xmpCameraRaw:void 0)?null!=n.sha256?t(n.sha256):e.resolve(n):e.resolve(""),e}getOrientation(){var e;return null!=(e=this.payload().develop)?e.userOrientation:void 0}hasVideoDuration(){var e,t;return(null!=(e=this.payload().video)?e.duration:void 0)&&(null!=(t=this.payload().video)?t.frameRate:void 0)}getVideoFrameRate(){var e,t;if(null!=(e=null!=(t=this.payload().video)?t.frameRate:void 0)&&e instanceof Array&&2===e.length)try{return 1*e[0]/e[1]}catch(e){}return null}getVideoDuration(){var e,t,r,n,s,o,a,l,u;if(null!=(e=null!=(n=(r=this.payload()).video)?n.duration:void 0)&&e instanceof Array&&2===e.length)try{u=e[0]/e[1]}catch(e){}if(i.Z.is_enabled("video_v2")){if(1===(null!=(s=r.develop)?s.version:void 0)&&(({temporal:a}=r.develop),null!=a))if(({temporalFraction:l=1e8}=a),null!=a.duration){if(0===u)return null;u=a.duration/l}else null!=a.inPoint&&(u-=a.inPoint/l);u=Math.max(Math.round(u),1)}else u=Math.floor(u);return null!=u?(o=u%60,t=Math.floor(u/60),o<10?`${t}:0${o}`:`${t}:${o}`):null}getVideoAspectRatio(){var e,t;return 2!==(null!=(e=null!=(t=this.payload().video)?t.displayAspectRatio:void 0)?e.length:void 0)?null:e}getVideoTimes(){var e,t,r,n,s,o,a;return s=r=null,i.Z.is_enabled("video_v2")&&(({develop:e}=this.payload()),1===(null!=e?e.version:void 0)&&(({temporal:o}=e),null!=o&&(({duration:t,inPoint:n,temporalFraction:a=1e8}=o),null!=n&&(s=n/a),null!=t&&(r=(n+t)/a)))),{startTime:s,endTime:r}}getCroppedDimensions(){var e,t,r;return null!=(e=this.payload().develop)&&(r=e.croppedWidth,t=e.croppedHeight),r>0&&t>0||([r,t]=this.getOriginalDimensions()),r>0&&t>0||(r=480,t=320),[r,t]}getOriginalDimensions(){var e,t,r,n;return null!=(r=this.importSource())&&(n=r.originalWidth,t=r.originalHeight),!this.isVideo()||i.Z.is_enabled("video_v2")&&(this.hasProxy("1080p")||this.hasRendition("1080p"))||null!=(e=this.getVideoAspectRatio())&&(t>n?e.sort((function(e,t){return e-t})):e.sort((function(e,t){return t-e})),n*=e[0]*t/(e[1]*n)),[n,t]}hasOriginalDimensions(){var e;return null!=(e=this.importSource()).originalWidth&&null!=e.originalHeight}getOriginalDimensionsString(){var e,t,r;return t=this.getOriginalDimensions(),r=`${Math.round(t[0])} x ${Math.round(t[1])}`,this.isVideo()?null!=(e=this.getVideoAspectRatio())&&(r+=` (${e.join(":")})`):r+=` (${this.getOriginalDimensionsInMP()}MP)`,r}getOriginalDimensionsInMP(){var t,r;if([r,t]=this.getOriginalDimensions(),null!=r&&null!=t)return Math.round(r*t/e.prototype.MP)}getRenditionDimensions(e){var t,r,n;return t=this.getCroppedDimensions(),"thumbnail2x"===e||"640"===e||"1280"===e||"2048"===e||"panorama"===e||"360p"===e||"720p"===e||"1080p"===e?("thumbnail2x"===e?n=r=320:"640"===e?n=r=640:"1280"===e?n=r=1280:"2048"===e?n=r=2048:"panorama"===e?n=r=8192:"360p"===e?r=360:"720p"===e?r=720:"1080p"===e&&(r=1080),this._getScaledDimensions(t,n,r)):t}getProxyDimensions(){return this._getScaledDimensions(this.getCroppedDimensions(),2560,2560)}_getScaledDimensions(e,t,r){var n,i;return[i,n]=e,n>r&&(n=r,i=e[0]*r/e[1]|0),i>t&&(i=t,n=e[1]*t/e[0]|0),[i,n]}getCaption(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.description:void 0)||""}getFlag(e){var t,r,n;return null==(t=null!=e?e:null!=(r=$.account)?r.id:void 0)?"unflagged":(null!=(n=this._getFlag(t))?n.flag:void 0)||"unflagged"}_getFlag(e){var t;return null!=(t=this.attributes.payload.reviews)?t[e]:void 0}hasFlag(e){return this.getFlag()===e}getRating(e){var t,r,n;return null==(t=null!=e?e:null!=(r=$.account)?r.id:void 0)?0:(null!=(n=this._getRating(t))?n.rating:void 0)||0}_getRating(e){var t;return null!=(t=this.attributes.payload.ratings)?t[e]:void 0}location(){var e;return null!=(e=this.attributes.payload)?e.location:void 0}hasAnyLocationInfo(){return this.hasGPSLocation()||this.getLocationText().length>0||this.getCity().length>0||this.getState().length>0||this.getCountry().length>0}hasGPSLocation(){var e,t;return null!=(null!=(e=null!=(t=this.attributes.payload)?t.location:void 0)?e.latitude:void 0)&&null!=e.longitude&&0!==(null!=e?e.latitude:void 0)&&0!==e.longitude}getGPSLocation(){var e;return this.hasGPSLocation()?{lat:(e=this.attributes.payload.location).latitude,long:e.longitude}:null}getLocationText(){var e,t,r;return null!=(e=null!=(t=this.xmp())&&null!=(r=t.iptcCore)?r.Location:void 0)?e:""}getCity(){var e,t,r,n,i;return null!=(e=null!=(t=null!=(r=this.xmp())&&null!=(n=r.photoshop)?n.City:void 0)?t:null!=(i=this.location())?i.city:void 0)?e:""}getState(){var e,t,r,n,i;return null!=(e=null!=(t=null!=(r=this.xmp())&&null!=(n=r.photoshop)?n.State:void 0)?t:null!=(i=this.location())?i.state:void 0)?e:""}getCountry(){var e,t,r,n,i;return null!=(e=null!=(t=null!=(r=this.xmp())&&null!=(n=r.photoshop)?n.Country:void 0)?t:null!=(i=this.location())?i.country:void 0)?e:""}_getRenditionLink(e){var t;return null!=(t=this.attributes.links)?t[`/rels/rendition_type/${e}`]:void 0}_getRenditionLinks(){var e,t,r,n,i;for(r in t={},n="/rels/rendition_type/",i=this.attributes.links)e=i[r],r.substr(0,n.length)===n&&(t[r]=e);return t}hasRendition(e){var t;return null!=(null!=(t=this._getRenditionLink(e))?t.href:void 0)}hasValidRendition(e){var t;return null!=(t=this._getRenditionLink(e))&&null!=t.href&&!t.invalid}hasAnyRendition(){var e,t;for(e in t=this._getRenditionLinks())if(null!=t[e].href)return!0;return!1}hasAnyValidRendition(){var e,t,r;for(e in r=this._getRenditionLinks())if(null!=(t=r[e]).href&&!t.invalid)return!0;return!1}hasRenditions(e){var t,r,n;for(t=0,r=e.length;t<r;t++)if(n=e[t],!this.hasRendition(n))return!1;return!0}hasValidRenditions(e){var t,r,n;for(t=0,r=e.length;t<r;t++)if(n=e[t],!this.hasValidRendition(n))return!1;return!0}shouldPollForBasicRenditions(){var e;return e=["thumbnail2x"],this.isVideo()&&e.push("360p"),!this.hasRenditions(e)&&!!this.wasCreatedInLastHour()&&(this.isTranscoding()||"rendering"===this.getMissingThumbStatus())}pollForBasicRenditionsP(e){return this.shouldPollForBasicRenditions()?Ws.pollForRenditionsP(this,e):Js.Deferred().reject().promise()}getTitle(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.title:void 0)||""}getCopyright(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.dc)?t.rights:void 0)||""}getCameraMake(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.tiff)?t.Make:void 0)||""}getCameraModel(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.tiff)?t.Model:void 0)||""}getCameraLens(){var e,t;return(null!=(e=this.xmp())&&null!=(t=e.aux)?t.Lens:void 0)||""}getExposureTime(){var e,t,r;if(null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.ExposureTime:void 0))return 1===e[1]?e[0]+" "+j("$$$/js/oz_resource/time_in_seconds=sec"):e[0]+"/"+e[1]+" "+j("$$$/js/oz_resource/time_in_seconds=sec")}getFocalRatio(){var e,t,r;if(null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.FNumber:void 0))return"f / "+1*e[0]/e[1]}getIsoSpeedRating(){var e,t,r;if(null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.ISOSpeedRatings:void 0))return`ISO ${e}`}getFocalLength(){var e,t,r;if((null!=(e=null!=(t=this.xmp())&&null!=(r=t.exif)?r.FocalLength:void 0)?e.length:void 0)>0)return 1*e[0]/e[1]+" mm"}hasAutoTag(e){var t;return null!=(null!=(t=this.getAutoTags())?t[e]:void 0)}getAutoTags(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e.autoTags)?t.tags:void 0}debugGetExperimentalAutoTags(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e["X-autoTags-hashtag2"])?t.tags:void 0}debugGetAutoTagClassifiers(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e["X-autoTags-classifiers"])?t.tags:void 0}isValid(){if(this.hasMaster()||this.hasProxy())return!0}wasImportedByWeb(){var e;return this.hasImportDevice()?null!=this.getImportDevice().match(/Lightroom Web/)||null!=this.getImportDevice().match(/Revel Web/):null!=this.importedByUser&&this.importedByUser.id===(null!=(e=$.account)?e.id:void 0)}getMissingThumbStatus(){return this.getRenditionHref("thumbnail2x")?"":this.getMissingStatus()}getMissingLoupeStatus(){return this.getRenditionHref("2048")?"":this.getMissingStatus()}getMissingStatus(){return null!=this.getMasterHref()?this.wasCreatedInLastHour()?"rendering":"rendering-error":this.wasImportedByWeb()&&this.wasCreatedJustNow()?"rendering":this.wasCreatedInLastHour()?"syncing":"stuck-syncing"}wasCreatedJustNow(){var e;return null!=(e=this.getImportDate())&&new Date-e<6e5}wasDevelopUpdatedJustNow(){var e,t;return null!=(t=null!=(e=this.payload().develop)?e.userUpdated:void 0)&&new Date-new Date(t)<6e5}wasCreatedInLastHour(){var e;return null!=(e=this.getImportDate())&&new Date-e<36e5}isVideo(){return"video"===this.attributes.subtype}isPhoto(){return"image"===this.attributes.subtype}isLayoutSegment(){return"layout_segment"===this.attributes.subtype}isDeleted(){return"deleted_image"===this.attributes.subtype||"deleted_video"===this.attributes.subtype}isPerson(){return"person"===this.attributes.subtype}isPlayable(){return this.getRenditionHref("360p")||this.getRenditionHref("720p")}isTranscoding(){return this.isVideo()&&!this.isPlayable()}hasEdits(){var e;return null!=(null!=(e=this.payload().develop)?e.xmpCameraRaw:void 0)}hasAesthetics(){return null!=this.getAesthetics()}getAesthetics(){var e;return null!=(e=this.attributes.payload)?e.aesthetics:void 0}getBlurScores(){var e,t;return(null!=(e=this.attributes.payload)?e.blur:void 0)||(null!=(t=this.attributes.payload)?t["X-Blur"]:void 0)}getQuality(){var e;return null!=(e=this.attributes.payload)?e.quality:void 0}hasBestFrameScore(){return null!=this.attributes.bestFrame&&null!=this.attributes.bestFrame.frame&&null!=this.attributes.bestFrame.face}getBestFrameScore(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return!e||"frame"!==e&&"face"!==e?(({frame:r,face:t}=this.getBestFrameScores()),r+t):this.getBestFrameScores()[e]||0}getBestFrameScores(){var e;return null!=(e=this.attributes.bestFrame)?e:{}}getAestheticScore(){var e,t;return null==(null!=(e=this.attributes.payload)?e.aesthetics:void 0)?0:null!=(t=this.attributes.payload)?t.aesthetics.score:void 0}_getGPanoData(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e.xmp)?t.GPano:void 0}hasGPanoInfo(){var e,t;return null!=(null!=(e=this.attributes.payload)&&null!=(t=e.xmp)?t.GPano:void 0)}canViewAsPanorama(){var e,t,r;return r=!1,this.hasGPanoInfo()&&(t=1*(e=this._getGPanoData()).CroppedAreaImageWidthPixels/e.CroppedAreaImageHeightPixels<2,r=!Se.mobile&&(e.UsePanoramaViewer||"equirectangular"===this.getProjectionType())&&!t),r}getProjectionType(){var e;return e="",this.hasGPanoInfo()&&(e=this._getGPanoData().ProjectionType),e}getHAOV(){var e,t;return t=0,this.hasGPanoInfo()&&(t=(e=this._getGPanoData()).CroppedAreaImageWidthPixels/e.FullPanoWidthPixels*360),t}getVAOV(){var e,t;return t=0,this.hasGPanoInfo()&&(t=(e=this._getGPanoData()).CroppedAreaImageHeightPixels/e.FullPanoHeightPixels*180),t}isPartialPanorama(){var e,t;return t=!1,this.hasGPanoInfo()&&(t=(e=this._getGPanoData()).CroppedAreaImageWidthPixels/e.CroppedAreaImageHeightPixels!=2),t}getFullPanoDimensions(){var e,t,r;return e=[],this.hasGPanoInfo()&&(t=this._getGPanoData(),r=this.getOriginalDimensions(),e[0]=null!=t.FullPanoWidthPixels?t.FullPanoWidthPixels:r[0],e[1]=null!=t.FullPanoHeightPixels?t.FullPanoHeightPixels:r[1]),e}set selectedVersion(e){var t;return this._selectedVersion=e,this._selectedVersionUserUpdated=null!=(t=this.payload().develop)?t.userUpdated:void 0}get selectedVersion(){var e;return null!=this._selectedVersion&&(null!=(e=this.payload().develop)?e.userUpdated:void 0)===this._selectedVersionUserUpdated?this._selectedVersion:null}getRenditionPublicHrefP(e){var t;return t={rendition_path:this.linkFullPath(`/rels/rendition_type/${e}`)},this.requestP("POST","/api/public_rendition_url",JSON.stringify(t)).then((function(e){return e.href}))}importedByOwner(){return null==this.importedByUser}haveImporterDisplayInfo(){var e,t;return(null!=(e=this.importedByUser)&&null!=(t=e.getFullName())?t.length:void 0)>0}getFirstRevisionHref(){return this._getRevisionHref(0)}getLatestRevisionHref(){return this._getRevisionHref(this.attributes.revision_ids.length-1)}_getRevisionHref(e){var t;return t=`${this.attributes.links.self.href}/revisions/${this.attributes.revision_ids[e]}`,this._linkBase.fullHref(t)}setDevelopP(e,t){var r,n,s,o,a,l,u,c,h;if(e.processingModel="lightroom",s=Js.Deferred(),c=new Date,l=o=new Date,u=()=>{var e;return l=o=new Date,be.report("editUpdateAsset",{loadTimeMs:o-c}),e=Js.Deferred(),Ws.pollForValidRenditionsP(this,(function(){return!0})).fail((()=>be.reportFailure("editRenditionGenerationFailure"))).done((()=>{var e;return e=new Date,be.report("editGenerateRenditions",{loadTimeMs:e-l}),"function"==typeof t?t():void 0})).always((()=>e.resolve())),s.resolve(),e.promise()},h=()=>{var e;return null==this.externalEditSettings||i.Z.is_enabled("force_partial_externalize_edit_settings")?u():(i.Z.is_enabled("debug")&&console.log("Edit settings external. Uploading now..."),e=this.getLatestRevisionHref()+"/xmp/develop",this.requestP("PUT",e,this.externalEditSettings,{contentType:"application/rdf+xml",headers:{"X-Generate-Renditions":"all"}}).then((()=>u())))},n=e=>{var t,r;return r=this._selectedVersionUserUpdated,null!=this._selectedVersion&&(this._selectedVersionUserUpdated=e.userUpdated),t=null==this.externalEditSettings,this._createChildRevisionP("setDevelopSettings",{payload:{develop:e}},t,h).fail((()=>(this._selectedVersionUserUpdated=r,s.reject(),be.reportFailure("editSetDevelopRevisionFailure"))))},a=i.Z.is_enabled("force_externalize_edit_settings"),i.Z.is_enabled("force_partial_externalize_edit_settings")){if(!window.confirm("Create a partial external edit (to test this sync state)? Check your debug features if this is unexpected"))return s.reject().promise();a=!0}return(a||e.xmpCameraRaw.length>$.XMP_CAMERA_RAW_MAX_LENGTH)&&(i.Z.is_enabled("debug")&&console.log("Making inline edit settings external. Edit settings size in bytes: "+e.xmpCameraRaw.length),this.externalEditSettings=e.xmpCameraRaw),null!=this.externalEditSettings?(r=new Blob([this.externalEditSettings],{type:"text/xml"}),Qr.digestP(r,!1,2).done((t=>(this.externalEditSettings=e.xmpCameraRaw,e.xmpCameraRaw={},e.xmpCameraRaw.sha256=t,n(e)))).fail((function(){return be.reportFailure("editSetDevelopDigestGenFailure")}))):n(e),s.promise()}_doRevisionChange(e,t,r,n,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;var a;return i.Z.is_enabled("debug")&&Ue._forceFailNextRequest&&(o=2),a=s?{"X-Generate-Renditions":"all"}:{},this.requestP("PUT",this._getChildRevisionHref(t),JSON.stringify(r),{headers:a}).then((()=>(this.revisingApplyList.shift(),this.refreshP().then((()=>{var e,t,r,n,i;for(i=[],t=0,r=(n=this.revisingApplyList).length;t<r;t++)e=n[t],i.push(e());return i})))),((i,a,l)=>{var u,c;return(u=o<2&&(0===a||a>=500||400===a&&null!=(null!=i&&null!=(c=i.errors)?c.parent_revision_id:void 0)))?be.report(`${e}Retry`):(this.reportOzFailure(`${e}Failure`,i,a,l),this.revisingApplyList.shift()),this.refreshP().then((()=>u?this._doRevisionChange(e,t,r,n,s,o+1):Js.Deferred().reject(!0)),(()=>this.attributes=n))}))}_createChildRevisionP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;var i,s,o,a,l;return null==(i=t.payload).userUpdated&&(i.userUpdated=(new Date).toISOString()),s=Js.extend(!0,{},this.attributes.toJSON()),(o=()=>this.attributes=Js.extend(!0,this.attributes.toJSON(),t))(),l=this.createUuid(),null!=this.revising?(this.revisingApplyList.push(o),a=this.revising.then((()=>this._doRevisionChange(e,l,t,s,r)))):(this.revisingApplyList=[o],a=this._doRevisionChange(e,l,t,s,r)),this.revising=a,null!=n&&(this.revising=a=a.then((()=>n().then((()=>this.refreshP()))))),this.revising.always((()=>{if(a===this.revising)return this.revising=null}))}_getChildRevisionHref(e){return`${this.getLatestRevisionHref()}/children/${e}`}latestRevision(){return this.attributes.revision_ids[this.attributes.revision_ids.length-1]}isGeneratingRenditions(){return this.generatingRenditionsCount>0}generateRenditionsP(e){var t,r;return null!=(r=this.getLatestRevisionHref())?(this.generatingRenditionsCount++,r+="/renditions",t={"X-Generate-Renditions":e},this.requestP("POST",r,"",{headers:t}).then((t=>Ws.pollForValidRenditionsP(this,(function(){return!0}),e.split(",")))).always((()=>this.generatingRenditionsCount--)).fail(((e,t,r)=>this.reportOzFailure("generateRenditionsFailure",e,t,r)))):Js.Deferred().reject()}},t=(0,n.Z)(e.prototype,"importedByUser",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,n.Z)(e.prototype,"_selectedVersion",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,n.Z)(e.prototype,"generatingRenditionsCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),o=(0,n.Z)(e.prototype,"revising",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return a.prototype.attributeClass=Hs,a.prototype.CAPTION_CHAR_LIMIT=1e4,a.prototype.KB=1024,a.prototype.MB=1048576,a.prototype.MP=1e6,a}.call(void 0);Bs.pollAssetUntilCheckJP=function(e,t,r){return new Promise((function(n,i){var s,o,a,l;return s=async function(){var r;return r=new e(t),await r.initializedP()},a=500,l=new Date,(o=function(){return setTimeout((async function(){var e;a+=500;try{return e=await s(),r(e)?n(e):o()}catch(e){return new Date-l>3e5?i("timeout"):o()}}),a)})()}))};var Gs=r(93155);const Xs=class{get title(){var e;return null!=(e=this.payload().title)?e:this.payload().name}get description(){return this.payload().description}migrateNameToTitleP(){var e,t;if(null!=(e=this.payload().name))return t={name:null},null==this.payload().title&&(t.title=e),this._createChildRevisionP("migrateLayoutSegmentNameToTitle",{payload:t})}setLayoutSegmentP(e,t){var r;return r={},null!=this.attributes.payload.name&&(r.name=null),e!==this.attributes.payload.title&&(r.title=e),t!==this.attributes.payload.description&&(r.description=t),Object.keys(r).length>0?this._createChildRevisionP("updateLayoutSegment",{payload:r}):Gs.Deferred().resolve()}get layoutSegmentHasText(){var e,t;return(null!=(e=this.title)?e.length:void 0)>0||(null!=(t=this.description)?t.length:void 0)>0}};var Ys,Ks=r(93155);const Qs=Ys=function(){var e,t,r,s;let o=_(Xs)((t=class extends Vs{constructor(){super(...arguments),(0,b.Z)(this,"albumsList",r,this),(0,b.Z)(this,"deletedRestoreState",s,this)}setCaptionP(e){var t;return this.getCaption()===e||null==e?(t=Ks.Deferred(),null!=e?t.resolve():t.reject(),t.promise()):this._createChildRevisionP("setCaption",{payload:{xmp:{dc:{description:e}}}})}setTitleP(e){var t,r,n,i,s,o;return this.getTitle()===e||null==e?(r=Ks.Deferred(),null!=e?r.resolve():r.reject(),r.promise()):(t=null!=(i=null!=(s=this.attributes.payload)&&null!=(o=s.xmp)?o.dc:void 0)?i:{},(n=Ks.extend(!0,{},t)).title=e,this._createChildRevisionP("setTitle",{payload:{xmp:{dc:n}}}))}_setAutotagFeedbackP(e,t){var r,n,i,s,o,a;if(null==(r=null!=(s=this.attributes.payload)&&null!=(o=s.autoTags)?o.tags:void 0))return Ks.Deferred().reject("no autotags on this asset");for(a=Ks.extend(!0,{},r),"all"===e&&(e=Object.keys(a)),n=0,i=e.length;n<i;n++)a[e[n]]=t;return this._createChildRevisionP("setAutotagFeedback",{payload:{autoTags:{tags:a}}})}acceptAllAutoTagsP(){return this._setAutotagFeedbackP("all",!0)}rejectAllAutoTagsP(){return this._setAutotagFeedbackP("all",!1)}acceptAutoTagP(e){return this._setAutotagFeedbackP([e],!0)}rejectAutoTagP(e){return this._setAutotagFeedbackP([e],!1)}setFlagP(e){var t,r;return t={flag:e,date:(new Date).toISOString()},(r={})[$.account.id]=t,this._createChildRevisionP("setFlag",{payload:{reviews:r}})}async setFlagJP(e){return await this.safeToJSPromise(this.setFlagP(e))}setRatingP(e){var t,r;return t={rating:e,date:(new Date).toISOString()},(r={})[$.account.id]=t,this._createChildRevisionP("setRating",{payload:{ratings:r}})}async setRatingJP(e){return await this.safeToJSPromise(this.setRatingP(e))}addKeywordP(e){var t,r,n,i,s,o,a;for(r=j("$$$/js/keyword_entry_delimiter=,"),t={payload:{xmp:{dc:{subject:{}}}}},s=0,n=0,a=(o=e.split(r)).length;n<a;n++)(i=(e=o[n]).trim()).length>0&&(s++,t.payload.xmp.dc.subject[i]=!0);return s>0?this._createChildRevisionP("addKeyword",t):Ks.Deferred().resolve().promise()}removeKeywordP(e){var t;return 1===(t=this.getKeywordsArray()).length&&t.indexOf(e)>=0?1===Object.keys(this.xmp().dc).length?this._createChildRevisionP("removeKeyword",{payload:{xmp:{dc:null}}}):this._createChildRevisionP("removeKeyword",{payload:{xmp:{dc:{subject:null}}}}):this._createChildRevisionP("removeKeyword",{payload:{xmp:{dc:{subject:{[`${e}`]:null}}}}})}optimisticUpdatePayload(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.attributes=Ks.extend(!0,this.attributes.toJSON(),{payload:e}),t)return this.attributes.revision_ids.push(t)}getLikesCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r,n,s;return i.Z.is_enabled("lots_of_likes")?7*(null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/favorites"])?r.count:void 0):null!=(n=this._getSpace(null!=e?e.id:void 0))&&null!=(s=n.links["/rels/favorites"])?s.count:void 0}isLiked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getLikesCount(e)>0}isLikedByUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.isLiked(e)&&null!=this._getLikeUrl(e)}getLikesHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/favorites"])?r.href:void 0}_getLikeUrl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/this_user_favorite"])?r.href:void 0}likeP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.requestP("PUT",`${this.getLikesHref(e)}/${this.createUuid()}`,"{}").fail(((e,t,r)=>this.reportOzFailure("likeAssetFailure",e,t,r)))}unLikeP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t;if(null!=(t=this._getLikeUrl(e)))return this.requestP("DELETE",t,"{}").fail(((e,t,r)=>this.reportOzFailure("unlikeAssetFailure",e,t,r)))}getCommentCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/comments"])?r.count:void 0}hasComments(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getCommentCount(e)>0}getCommentsHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t,r;return null!=(t=this._getSpace(null!=e?e.id:void 0))&&null!=(r=t.links["/rels/comments"])?r.href:void 0}setCaptureDateP(e){var t;return this.getCaptureDate()===e?Ks.Deferred().resolve().promise():(t={payload:{captureDate:e.toISOString()}},this._createChildRevisionP("setCaptureDate",t))}_getSpace(e){var t,r,n,i;if(!this.attributes.spaces)return null;if(null!=e){for(t=0,r=(n=this.attributes.spaces).length;t<r;t++)if((i=n[t]).id===e)return i;return null}return this._getFirstSpace()}_getFirstSpace(){var e;return i.Z.is_enabled("debug")&&null!=this.attributes.spaces&&console.warn("Need to remove usage of _getFirstSpace."),null!=(e=this.attributes.spaces)?e[0]:void 0}getAlbumListP(e){var t;return t=this._linkBase.fullHref(`assets/${e}/albums`),this.requestP("GET",t).done((e=>this.albumsList=e.resources))}_assetStoreUpdate(e,t){var r,n;if(n=new Date(e.attributes.updated),r=new Date(t.updated),isNaN(n)||isNaN(r)||r>n)return null==t.spaces&&(t.spaces=e.attributes.spaces),e.setAttributes(t)}debugTouchUpdatedP(e){var t;return t={payload:{userUpdated:e.toISOString()}},this._createChildRevisionP("debugTouchUpdated",t)}},r=(0,n.Z)(t.prototype,"albumsList",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,n.Z)(t.prototype,"deletedRestoreState",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e=t))||e;return i.Z.is_enabled("asset_store")&&(o.store=Di.instance(o)),o}.call(void 0);Ys.pollUntilValidAssetJP=function(e){return Vs.pollAssetUntilCheckJP(Ys,e,(function(e){return e.isValid()}))};var eo=r(93155);const to=function(){var e,t;let r=(e=class extends st{constructor(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),(0,b.Z)(this,"loaded",t,this),this.href=e,this.asset_ids=r,this.options=n}loadP(){var e;return e=eo.param(Object.assign({},this.options,{asset_ids:this.asset_ids.join(",")})),this.requestP("GET",`${this.href}?${e}`).then(((e,t,r)=>{var n,i,s,o,a,l,u,c,h,d,p,f,g;if(i={},a={},n=0,o=0,f=r.getResponseHeader("x-request-id"),null!=e.resources)for(n=e.resources.length,l=0,c=(d=e.resources).length;l<c;l++)(g=d[l]).base=e.base,i[g.id]=new this.model(g);if(null!=e.errors)for(o=e.errors.length,u=0,h=(p=e.errors).length;u<h;u++)(s=p[u]).base=e.base,a[s.id]=s;return{assets:i,asset_count:n,errors:a,error_count:o,request_id:f}}))}},t=(0,n.Z)(e.prototype,"loaded",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e);return r.prototype.model=null,r}.call(void 0),ro=function(){class e extends to{}return e.prototype.model=Qs,e}.call(void 0);var no,io=r(368220).default;const so=no=class e extends Ue{static setAuthHeaders(e,t){return this.authHeaders={Authorization:`Bearer ${e}`,"x-api-key":t}}doSearchP(t,r,n,s,o){var a,l;return l={"x-product-location":"main search input"},a={scope:["lightroom"],q:t,limit:r,start_index:n,fields_excluded:["links","tags"],locale:R.getLocaleWithUnderscore(),fetch_fields:{includes:["lightroom_album_id"]}},"__clear_search_cache__"===t&&(a.lightroom_disable_cache="true"),null!=o&&Object.assign(a,o),null!=s&&Object.assign(a,s),io.sdk?(Object.assign(l,e.authHeaders),this.requestP("POST","/search_sdk_api/universal-search-lr/v2/search",JSON.stringify(a),{headers:l,contentType:"application/vnd.adobe.search-request+json"})):i.Z.is_enabled("debug_uss_stage_fac_endpoint")?(null==a.hints&&(a.hints=[]),a.hints.push({lightroom_version:"3"}),this.requestP("POST","/search_api_fac/universal-search-lr/v2/search",JSON.stringify(a),{headers:l,contentType:"application/vnd.adobe.search-request+json"})):this.requestP("POST","/search_api/universal-search-lr/v2/search",JSON.stringify(a),{headers:l,contentType:"application/vnd.adobe.search-request+json"})}};i.Z.is_enabled("debug")&&(window.LrSearch=no);var oo,ao,lo,uo,co,ho=r(93155);co=0;const po=(oo=class extends xi{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;super(),(0,b.Z)(this,"sortOrderBy",ao,this),(0,b.Z)(this,"sortOrderDirection",lo,this),(0,b.Z)(this,"errored",uo,this),this.catalog=e,this.searchText=t,this.filterParams=r,this.sortOrderBy=n,this.sortOrderDirection=s,this._dirty=!0,this._searchId=co++,this.search=new so,i.Z.is_enabled("search_ml_feedback")&&(this.requestLog=[]),this.assetSearchData={},this.reset()}reset(){var e;return this._dirty?(this._models=new wt,this.indices={},this.page=0,this.pageSize=null!=(e=this.filterParams.limit)?e:100,this.finished=!1,this.errored=!1,this.length=0,this.totalCount=null,this._dirty=!1,this):this}getSearchId(){return co}markDirty(){return super.markDirty(),this.totalCount=null,this}getSearchQueryString(){return this.searchText}_reportError(e,t,r){var n;return null==e&&(e="unknown"),null==t&&(t="unknown"),n=r.getResponseHeader("x-request-id"),be.reportFailure("searchFailure",{errorCode:e,errorDescription:t,requestId:n})}fetchP(){var e,t,r,n;return this.finished?ho.Deferred().reject().promise():this.fetching?this.fetching:(t=this.sortOrderBy,r=this.sortOrderDirection,null==this.sortOrderBy&&null==this.sortOrderDirection||(n={},null!=this.sortOrderDirection&&(n.sort_order=this.sortOrderDirection),null!=this.sortOrderBy&&(n.sort_orderby=this.sortOrderBy)),e=this.fetching=this.search.doSearchP(this.searchText,this.pageSize,this.page*this.pageSize,this.filterParams,n),i.Z.is_enabled("debug_simulate_slow_search")&&(e=e.then((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n;return n=ho.Deferred(),setTimeout((function(){return n.resolve(...t)}),3e3),n}))),e.always((()=>this.fetching=void 0)).fail(((e,t,r)=>(this.errored=!0,this._reportError(t,JSON.stringify(e),r),this._dirty=!0))).then(((n,s,o)=>{var a,l,u,c,h,d,p,f,g,m,y,v,b,w,_,P,A,x,S,C,O,D,k,I,T;if(this.sortOrderBy===t&&this.sortOrderDirection===r){if(null!=n&&null!=n.status&&200<=(m=n.status[0].status)&&m<=299){if(k=o.getResponseHeader("x-request-id"),this.totalCount=null!=(y=null!=(w=n.result_sets)&&null!=(_=w[0])?_.total_items:void 0)?y:0,(T=null!=(P=null!=(A=n.result_sets)&&null!=(x=A[0])&&null!=(S=x.items)?S.length:void 0)?P:0)>0&&null!=(null!=(C=n.result_sets)?C[0]:void 0)){for(g=[],f={},h=0,p=(O=n.result_sets[0].items).length;h<p;h++)D=O[h],null==(d=D.asset_id)||null!=f[d]||null!=this.index(d)||yi.isAssetIdDeleted(d)||(g.push(d),f[d]=!0,this.assetSearchData[d]=D);c=`/v2/catalogs/${this.catalog.id}/assets`,$.hostOverride&&(c=`${$.hostOverride}${c}`),a=new ro(c,g,{embed:"user"}),e=a.loadP().then((e=>{var n,s,o,a;if(this.sortOrderBy===t&&this.sortOrderDirection===r){for(a=e.request_id,s=0,o=g.length;s<o;s++)d=g[s],null!=(n=e.assets[d])&&this._add(n);return i.Z.is_enabled("search_ml_feedback")?this.requestLog.push({searchRequestId:k,ozRequestId:a,ozIds:g}):void 0}})).always((()=>{if(T<this.pageSize)return this.finished=!0,this.totalCount=this._models.length}))}else this.finished=!0,this.totalCount=this._models.length;return this.page++,e}return null!=(I=null!=n&&null!=(v=n.status)?v[0]:void 0)&&(null!=(u=null!=(b=I.errors)?b[0]:void 0)&&(l=JSON.stringify(u)),this._reportError(I.status,l,o)),this.finished=!0,this.totalCount=this._models.length}})))}deleteAssetsLocally(e){return this.deleteLocally(e)}get assets(){return this}getAssetParentAlbumIds(e){var t,r;return null==(null!=(t=this.assetSearchData)&&null!=(r=t[e])?r.lightroom_album_id:void 0)?[]:this.assetSearchData[e].lightroom_album_id}_getPageNumberForAssetId(e){var t,r,n,i;for(n=t=0,r=(i=this.requestLog).length;t<r;n=++t)if(i[n].ozIds.indexOf(e)>=0)return n;return-1}_initsearchFeedbackData(e,t){var r;return r={client_request_id:this.requestLog[e].ozRequestId,false_positive_results:[],allow_asset_view:!1},null!=t&&(r.feedback=t),{created:Date.now(),account_id:$.account.id,catalog_id:yi.catalog.id,type:"autotag_search",source:{client:"LrW",search_url:window.__adobe_search_api_host,search_query:this.getSearchQueryString(),search_request_id:this.requestLog[e].searchRequestId,payload:r}}}sendSearchFeedbackJP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,n,i,s,o,a,l,u,c,h;for(c=new Array(this.requestLog.length).fill(null),n=0,o=e.length;n<o;n++)i=e[n],(l=this._getPageNumberForAssetId(i))<0||(null==(r=c[l])&&(r=c[l]=this._initsearchFeedbackData(l,t)),r.source.payload.false_positive_results.push(i));for(u=[],s=0,a=(h=c.filter((function(e){return null!=e}))).length;s<a;s++)r=h[s],u.push(yi.catalog.submitSearchFeedbackJP(r));return Promise.all(u)}},ao=(0,n.Z)(oo.prototype,"sortOrderBy",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lo=(0,n.Z)(oo.prototype,"sortOrderDirection",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uo=(0,n.Z)(oo.prototype,"errored",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oo);var fo,go;go=function(e){return Math.abs(e)<1e-4},fo={calculateCombinedAestheticRating:function(e){var t,r,n,i;if(null==(t=e.getAesthetics()))return 0;for(r in n=0,t)"number"==typeof(i=t[r])&&"version"!==r&&0!==this.importanceWeights.aestheticWeights[r]&&(n+=i*this.importanceWeights.aestheticWeights[r]);return n<0&&(n=0),n},calculateImportance:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,n,s,o,a,l,u;return null==t&&(t=null!=(l=null!=(u=this.bestPhotosState)?u.senseiOnlyCalculation:void 0)&&l),i.Z.is_enabled("best_photos_trust_oz")?parseInt(e.hackBestPhotosOrder):i.Z.is_enabled("best_aesthetics_score_only")?e.getAestheticScore():((n=this._calculateBaseImportance(e,t))+(r=this._getAutoTagImportance(e,t))+(a=this._getFrameImportance(e))+(o=this._getFaceImportance(e))+(s=this._getBlurImportance(e)))/this._getNormalizer(n,r,a,o,s)},_calculateBaseImportance:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,n,i;return r=0,(n=!t&&!(null!=(i=this.bestPhotosState)?i.senseiOnlyCalculation:void 0))&&(r+=this._getFlagImportance(e),r+=this._getRatingImportance(e),r+=this._getTitleImportance(e),r+=this._getCaptionImportance(e),r+=this._getEditImportance(e)),r=(r+=this._getAestheticImportance(e))/this._getMaxAestheticScore(t)*100,n&&(r+=this._getRatedFlaggedPenalty(e)),r},_getNormalizer:function(e,t,r,n,i){var s;return s=0,go(e)||(s+=1),go(t)||(s+=this.importanceWeights.autoTagScore),go(r)||(s+=this.importanceWeights.frameScore),go(n)||(s+=this.importanceWeights.faceScore),go(i)||(s+=this.importanceWeights.blurScore),s},_getFrameImportance:function(e){return e.getBestFrameScore("frame")*this.importanceWeights.frameScore/this.maxScores.frame*100},_getFaceImportance:function(e){var t,r,n,i;return t=e.getBestFrameScore("face"),r=null!=(n=null!=(i=this.bestPhotosState)?i.peopleMultiplier:void 0)?n:1,t>=this.importanceWeights.faceScoreOutlierMin?t*this.importanceWeights.faceScoreOutlier*r/this.maxScores.face*100:t*this.importanceWeights.faceScore*r/this.maxScores.face*100},_getBlurImportance:function(e){var t,r,n,s,o,a,l;if(t=e.getBlurScores(),r=this.importanceWeights.blur,null==t)return 0;for(l=0,n=0,o=(a=["desired","undesired","clear","acceptable"]).length;n<o;n++)s=a[n],this._shouldIgnoreBlurScore(e,s)||(l+=t[s]*r[s]);return i.Z.is_enabled("debug_best_photos")&&(l+=(t.desired+t.clear+t.acceptable)*r.goodScore,l+=(t.undesired+.5*t.acceptable)*r.badScore),l},_shouldIgnoreBlurScore:function(e,t){var r,n,i,s,o;if("desired"===t){if(null==(r=e.getAutoTags()))return!1;for(i=n=0,s=(o=this.importanceWeights.blur.desiredIgnoreTags).length;n<s;i=++n)if(r[o[i]]>this.importanceWeights.blur.desiredIgnoreThresholds[i])return!0}return!1},_getFlagImportance:function(e){var t;return t=e.getFlag(),this.importanceWeights.flags[t]},_getRatingImportance:function(e){var t;return t=e.getRating(),this.importanceWeights.rating[t]},_getTitleImportance:function(e){return""!==e.getTitle().trim()?this.importanceWeights.hasTitle:0},_getCaptionImportance:function(e){return""!==e.getCaption().trim()?this.importanceWeights.hasCaption:0},_getAestheticImportance:function(e){return this.importanceWeights.aestheticScore*this.calculateCombinedAestheticRating(e)},_getEditImportance:function(e){return e.hasEdits()?this.importanceWeights.hasEdits:0},_getRatedFlaggedPenalty:function(e){var t,r,n;return(null!=(n=this.bestPhotosState)?n.excludeRatedFlagged:void 0)?(r=0!==e.getRating(),t="unflagged"!==e.getFlag(),r||t?-1e3:0):0},_isPeopleTagType:function(e){return"people"===e||"people_secondary"===e||"faces"===e},_getAutoTagImportance:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,n,i,s,o,a,l;for(s in n=e.getAutoTags(),i=0,o=this.autoTagMaxPercent*this._getAestheticImportance(e),n)r=n[s]*((null!=(a=this.autoTagLookupTable[s])?a.weight:void 0)||0),null!=this.bestPhotosState&&this._isPeopleTagType(null!=(l=this.autoTagLookupTable[s])?l.type:void 0)&&(r*=this.bestPhotosState.peopleMultiplier),i+=r;return Math.min(i,o)*this.importanceWeights.autoTagScore/this._getMaxAutoTagScore(t)*100},autoTagMaxPercent:.3,autoTagWeights:{people:{weight:.005,tags:["person","human","people","couple","friends","man","guy","men","male","father","dad","female","woman","lady","women","mother","mom","boy","son","girl","daughter","adult","kid","baby","child","children","couple","family","teenager","young adult"]},people_adjectives:{weight:.02,tags:["beautiful","beauty","pretty","cute","glamour","sexy","attractive","handsome","fashion"]},people_secondary:{weight:.005,tags:["businesswoman","businessman","businesspeople","bride","groom","manager","executive","engineer","architect","student","waiter","worker","police","doctor","patient","senior","elderly","mature","audience","team","teacher","wife","husband","partner"]},people_actions:{weight:.005,tags:["walking","looking","drinking","handshake","talking","togetherness","social"]},on_people:{weight:.005,tags:["dress","skin"]},emotion:{weight:.005,tags:["happy","cheerful","love","happiness","friendship"]},faces:{weight:.02,tags:["smiling","smile","face","portrait","expression"]},on_faces:{weight:.005,tags:["blond","blonde","brunette","hair","glasses","sunglasses","head"]}},autoTagLookupTable:{},importanceWeights:{flags:{pick:50,reject:-20,unflagged:0},aestheticScore:.3,autoTagScore:.1,aestheticWeights:{balancing:0,blur:0,content:0,dof:0,emphasis:0,harmony:0,lighting:0,repetition:0,rot:0,score:1,symmetry:0,vivid:0},hasEdits:0,rating:[0,5,10,20,40,80],hasTitle:5,hasCaption:5,frameScore:10,faceScore:1,faceScoreOutlierMin:.9,faceScoreOutlier:2,blurScore:1,blur:{desired:2.2,desiredIgnoreTags:["landscape"],desiredIgnoreThresholds:[55],undesired:-.02,clear:0,acceptable:0,goodScore:0,badScore:0},undesiredBlurCutoff:98},calculateImportanceBreakdown:function(e){var t,r,n,i,s,o,a,l,u,c,h;return h=null!=(a=null!=(l=this.bestPhotosState)?l.senseiOnlyCalculation:void 0)&&a,r=this._calculateBaseImportance(e,h),t=this._getAutoTagImportance(e,h),s=this._getFrameImportance(e),i=this._getFaceImportance(e),n=this._getBlurImportance(e),o=this._getNormalizer(r,t,s,i,n),{total:this.calculateImportance(e,h).toFixed(4),base:`${(r/o).toFixed(2)} (${r.toFixed(2)})`,autotags:`${(t/o).toFixed(4)} (${t.toFixed(4)})`,frame:`${(s/o).toFixed(4)} (${s.toFixed(4)})`,face:`${(i/o).toFixed(4)} (${i.toFixed(4)})`,blur:`${(n/o).toFixed(4)} (${n.toFixed(4)})`,normalizer:o,flag:`${this._getFlagImportance(e).toFixed(2)}`,rating:`${this._getRatingImportance(e).toFixed(2)}`,title:`${this._getTitleImportance(e).toFixed(2)}`,caption:`${this._getCaptionImportance(e).toFixed(2)}`,edited:`${this._getEditImportance(e).toFixed(2)}`,"Frame Raw":e.getBestFrameScore("frame").toFixed(4),"Face Raw":e.getBestFrameScore("face").toFixed(4),"Num Faces":null!=(u=e.getBestFrameScores().numFaces)?u:"null","Oz Score":parseFloat(null!=(c=e.hackBestPhotosOrder)?c:0).toFixed(1)}},calculateBestQualityAsset:function(e,t){var r,n,i,s,o;for(o=-1e4,i=0,s=e.length;i<s;i++){if(!(r=e[i]).hasBestFrameScore(t))return null;r.getBestFrameScore(t)>o&&(o=(n=r).getBestFrameScore(t))}return n},_calculateAutoTagLookupTable:function(){var e,t,r,n,i;for(i in r=[],t=this.autoTagWeights)e=t[i],r.push(function(){var t,r,s,o;for(o=[],t=0,r=(s=e.tags).length;t<r;t++)n=s[t],o.push(this.autoTagLookupTable[n]={weight:e.weight,type:i});return o}.call(this));return r},_getMaxAestheticScore:function(e){return e?this.maxScores.aesthetics.senseiOnly:this.maxScores.aesthetics.allProperties},_getMaxAutoTagScore:function(e){return e?this.maxScores.autoTag.senseiOnly:this.maxScores.autoTag.allProperties},_calculateMaxScores:function(){var e,t,r,n,i;return r=(e=(t=100*(i=this.importanceWeights).aestheticScore)+i.flags.pick+i.hasEdits+i.rating[5]+i.hasTitle+i.hasCaption)*this.autoTagMaxPercent,n=t*this.autoTagMaxPercent,this.maxScores={aesthetics:{senseiOnly:t,allProperties:e},autoTag:{senseiOnly:n,allProperties:r},frame:1,face:1}},setBestPhotosState:function(e){this.bestPhotosState=e}},fo._calculateAutoTagLookupTable(),fo._calculateMaxScores(),i.Z.is_enabled("debug")&&(window.StoryHelper=fo);const mo=fo,yo=(e,t)=>{let r=t.trim();r=r.replace(/\[(\w+)\]/g,".$1"),r=r.replace(/^\./,"");const n=r.split(".");let i=e;e.payload&&e.attributes&&(i=null!=e.payload()[n[0]]?e.payload():e.attributes);for(const e of n){if(null==i[e])return"";i=i[e]}return null!=i?i:""};var vo;const bo=vo={SORT_NEWEST_FIRST:0,SORT_OLDEST_FIRST:1,SORT_CUSTOM:2,_localeCompare:function(e,t){var r;return e=e.toString(),t=t.toString(),0===(r=e.toLocaleLowerCase().localeCompare(t.toLocaleLowerCase()))?e.localeCompare(t):r},localeCompare:function(e,t){return vo.logicalStringComparison(e,t)},stringToArrayOfCharactersAndNumbers:function(e){return(null!=e?e.length:void 0)>0?e.match(/([\d]+)|[^\d]+/g):[]},_stringTokenComparison:function(e,t){var r,n;return r=parseFloat(e),n=parseFloat(t),isNaN(r)&&isNaN(n)?""===e?-1:""===t?1:vo._localeCompare(e,t):isNaN(r)?1:isNaN(n)?-1:r-n},logicalStringComparison:function(e,t){var r,n,i,s,o,a,l,u,c;for(n=vo.stringToArrayOfCharactersAndNumbers(e.toString()),i=(o=vo.stringToArrayOfCharactersAndNumbers(t.toString())).length,u=l=0,c=n.length;l<c;u=++l){if(r=n[u],u>=i)return 1;if(s=o[u],0!==(a=vo._stringTokenComparison(r,s)))return a}return a},ozModelCreatedCompareAsc:function(e,t){var r,n;return(r=e.getBestCreatedDateAttribute())===(n=t.getBestCreatedDateAttribute())?0:r>n?1:-1},ozModelCreatedCompareDesc:function(e,t){return vo.ozModelCreatedCompareAsc(t,e)},assetQualityCompareAsc:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vo.assetCaptureDateCompareAsc;var n,i;return n=mo.calculateImportance(e,!0),i=mo.calculateImportance(t,!0),Math.abs(n-i)<.001?r(e,t):n-i},assetQualityCompareDesc:function(e,t){return vo.assetQualityCompareAsc(t,e,vo.assetCaptureDateCompareDesc)},_dateCompare:function(e,t,r){var n,i,s,o,a;return n=("function"==typeof e[o=r[0]]?e[o]():void 0)||null,i=("function"==typeof t[o]?t[o]():void 0)||null,s=null===n&&null===i,a=(null!=n?n.getTime():void 0)===(null!=i?i.getTime():void 0),s?r.length>1?(r.shift(),vo._dateCompare(e,t,r)):0:a&&r.length>1?(r.shift(),vo._dateCompare(e,t,r)):null===n?-1:null===i?1:n-i},assetCaptureDateCompareLikeOzAsc:function(e,t){return vo._dateCompare(e,t,["getCaptureDate","getOzCreatedDate"])},assetCaptureDateCompareLikeOzDesc:function(e,t){return vo.assetCaptureDateCompareLikeOzAsc(t,e)},assetCaptureDateCompareAsc:function(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n;return 0===(n=vo._dateCompare(e,t,["getCaptureDate"]))&&r?vo.assetFileNameCompareAsc(e,t):n},assetCaptureDateCompareDesc:function(e,t){return vo.assetCaptureDateCompareAsc(t,e)},assetImportDateCompareAsc:function(e,t){var r;return 0===(r=vo._dateCompare(e,t,["getImportDate","getCaptureDate"]))?vo.assetFileNameCompareAsc(e,t):r},assetImportDateCompareDesc:function(e,t){return vo.assetImportDateCompareAsc(t,e)},assetModifiedDateCompareAsc:function(e,t){var r;return 0===(r=vo._dateCompare(e,t,["getUserUpdatedDate","getCaptureDate"]))?vo.assetFileNameCompareAsc(e,t):r},assetModifiedDateCompareDesc:function(e,t){return vo.assetModifiedDateCompareAsc(t,e)},assetRatingCompareAsc:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vo.assetCaptureDateCompareAsc;var n,i;return(n=e.getRating())===(i=t.getRating())?r(e,t):n-i},assetRatingCompareDesc:function(e,t){return vo.assetRatingCompareAsc(t,e,vo.assetCaptureDateCompareDesc)},assetFileNameCompareAsc:function(e,t){var r,n,i;return r=e.getFileName(),n=t.getFileName(),""===r&&""===n?vo.assetCaptureDateCompareAsc(e,t,!1):""===r?-1:""===n?1:0===(i=vo.logicalStringComparison(r,n))?vo.assetCaptureDateCompareAsc(e,t,!1):i},assetFilenameCompareDesc:function(e,t){return vo.assetFilenameCompareAsc(t,e)},makeCustomSortPropertyComparer:function(e){return function(t,r){return(parseFloat(yo(r,e))||0)-(parseFloat(yo(t,e))||0)}}};var wo=[];class _o{static get active(){return wo.length>0}static start(e){wo.push(e)}static end(e){let t=wo[wo.length-1];if(e!==t)throw new Error("ActionDispatcher: Expected to end "+t+", but instead ended a different action of type "+e);wo.pop()}}_o.IMPLICIT_ACTION_PREFIX="@",_o.INIT_ACTION="@@INIT";class Po{static register(e){for(var t=e.prototype.constructor.name||"Unknown",r=t,n=1;Po._nameToClass[r];)r=t+n++;Po._nameToClass[r]=e,e.prototype.__classLookupName=r}static lookup(e){return Po._nameToClass[e]}static valueToJSON(e){return e&&e instanceof Oo?{className:e.__classLookupName,json:e.toJSON()}:e}static valueFromJSON(e){if(e&&e.className&&e.json){var t=new(Po.lookup(e.className));return t.fromJSON(e.json),t}return e}}Po._nameToClass={};const Ao=function(e,t,r,n){return"function"==typeof t?t(e,...r):n()};var xo,So;let Co=(xo=class{constructor(){(0,b.Z)(this,"parent",So,this),this.name=void 0,this.middleware=void 0,this.subStores={}}},So=(0,n.Z)(xo.prototype,"parent",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo);class Oo extends ir{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.__data=new Co;var n=this.__data;n.middleware=r?[Ao]:[],t instanceof Array?n.middleware=n.middleware.concat(t):t&&n.middleware.push(t),e&&this.dispatch(_o.INIT_ACTION,e)}forEach(e){var t=this.__data.subStores;for(var r in t){var n=t[r];n&&e(n)}}dispose(){super.dispose(),this.forEach((e=>e.dispose()))}_isMutable(){return void 0!==this.__allowMutable?this.__allowMutable:this.__data.parent?this.__data.parent._isMutable():void 0}_isMutableProperty(e){if(void 0!==this.__allowMutableProperties&&void 0!==this.__allowMutableProperties[e])return!0}_linkStore(e,t){var r=this.__data.subStores;if(r[e]&&(r[e].__data.parent=void 0,r[e].__data.name=void 0,r[e]=void 0),t&&t instanceof Oo){if(t.__data.parent&&t.__data.parent!==this)throw new Error("The store you're attempting to assign to \""+e+'" already belongs to another store. The store hierarchy must be a tree.');r[e]=t,t.__data.parent=this,t.__data.name=e}}_doDispatch(e,t){var r,n=!1;if(e===_o.INIT_ACTION)super.fromJSON(...t),n=!0;else if(0===e.indexOf(_o.IMPLICIT_ACTION_PREFIX)){for(var i=this,s=(e=e.substring(_o.IMPLICIT_ACTION_PREFIX.length)).split(".");s.length>1;)i=i[s.shift()];var o=s[0];"()"===o.substring(o.length-2)?r=i[o.substring(0,o.length-2)](...t.map(Po.valueFromJSON)):i[o]=Po.valueFromJSON(...t),n=!0}else{var a=this.__actionHandlers&&this.__actionHandlers[e];a&&(a.options.async?console.warn('Ignoring an asynchronous handler for action "'+e+'" while propagating. Asynchronous actions can only be dispatched directly to the target store.'):n=!0===(r=this[a.name](...t))||!1===a.options.propagate)}if(n)return r;this.forEach((r=>{r._doDispatch&&r._doDispatch(e,t)}))}_dispatchDown(e,t){var r=e.split("/");e=r.pop();for(var n=this,i=0;i<r.length;i++)if(!(n=n.__data.subStores[r[i]]))return;return n._doDispatch(e,t)}_dispatchWithMiddleware(e,t,r){for(var n=this,i=arguments.length,s=new Array(i>3?i-3:0),o=3;o<i;o++)s[o-3]=arguments[o];if(r&&!_o.active)return r(this,e,t,(function(r){if(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return n._dispatchWithMiddleware(r,o,...s)}return n._dispatchWithMiddleware(e,t,...s)}));if("string"!=typeof e){if(_o.active&&"function"==typeof e)throw new Error("Cannot dispatch an asynchronous action from a synchronous action");throw new Error("Action name must be a string")}let a;try{_o.start(e),a=this._dispatchDown(e,t)}catch(t){throw _o.end(e,!0),t}return _o.end(e),a}_dispatchUp(e,t,r,n){var i=this.__data.parent;if(i)return i._dispatchUp(e,t,r,this.__data.name+"/"+n);var s=this.__data.middleware;return"string"==typeof e?this._dispatchWithMiddleware(n+e,t,...s):r._dispatchWithMiddleware(e,t,...s)}dispatch(e){for(var t=this.__actionHandlers&&this.__actionHandlers[e],r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return t&&t.options.async?this[t.name](...n):this._dispatchUp(e,n,this,"")}getParentStore(){return this.__data.parent}}var Do=r(971685),ko=r.n(Do);const Io=e=>"object"==typeof e&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype;class To extends Oo{constructor(e,t){super(e,t),e&&this._fromJSON(e)}fromJSON(e){const t=super.fromJSON(e);return this._fromJSON(e),t}_fromJSON(e){const{exportables:t}=this;for(const r of t.properties)delete e[t.getJsonName(r.name)];Object.assign(this,e)}toJSON(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={},{exportables:n}=this;for(const s of n.properties){const o=s.toJSON.call(this,this[s.key],e);t&&(void 0===o||(i=o,Array.isArray(i)&&0===i.length)||Io(o))||(r[n.getJsonName(s.name)]=o)}var i;if(e)for(const e of Object.getOwnPropertyNames(this))"_"!==e[0]&&(r[e]=ko()(this[e]));return r}}const Eo=s.Z.makeClassDecorator(((e,t)=>{e.prototype.__allowMutable=t&&t.mutable,Po.register(e)})),jo=s.Z.makePropertyDecorator((function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("function"!=typeof r.value)throw new Error("@Action can only be used with a method (the handler for the action)");if(!(e instanceof Oo))throw new Error("@Action can only be used for methods on a Store");if(-1!==t.indexOf("/"))throw new Error('@Action name can\'t include the "/" character');if(-1!==t.indexOf("@"))throw new Error('@Action name can\'t include the "@" character');e.__actionHandlers=e.__actionHandlers||{},e.__actionHandlers[t]={name:t,options:n}}),{throwOnClassInvocation:"@Action must be used on a method, not a class."});var Ro,Zo,No,Fo,Lo,$o=function(e,t){if(e&&(e._isMutableProperty(t)||e._isMutable())){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return e.dispatch(_o.IMPLICIT_ACTION_PREFIX+t,...n.map(Po.valueToJSON))}throw new Error("Attempting to set state outside of an action")};function Mo(e,t,r,n,i){var s=i&&i[r],o=void 0!==s?s:e.defaultValue,a=e.fromJSON.call(n,o);n[t]=a}class Uo extends mt{add(e){var t=super.add(...arguments),r=t.set;return t.set=function(t){if(!_o.active)return $o(this,e,t);r.call(this,t),this._linkStore(e,t)},t}computeJSONMethod(){for(var e=[],t=this.properties,r=0,n=t.length;r<n;++r){var i=t[r],s=i.name,o=this.getJsonName(i.name);e.push(Mo.bind(this,i,s,o))}this.fromJSON=(t,r)=>(e.forEach((e=>e(t,r))),t)}}var zo=Object.getOwnPropertyDescriptor(wt.prototype,"length");class qo extends wt{_linkItem(e,t){this._parent._linkStore(this._name+":"+e,t)}_linkItems(e,t){e=e||0,t=t||this.length;for(let r=e;r<t;r++)this._linkItem(r);for(let r=e;r<t;r++)this._linkItem(r,this.at(r))}get length(){return zo.get.call(this)}set length(e){if(_o.active){var t=this.base.length;zo.set.call(this,e),t>e&&this._linkItems(e,t)}else $o(this._parent,this._name+".length",e)}swapItems(e){if(!_o.active)return $o(this._parent,this._name+".swapItems()",e);var t=this.base.length;super.swapItems(e),this._linkItems(0,Math.max(t,e.length))}setAt(e,t){if(!_o.active)return $o(this._parent,this._name+".setAt()",e,t);super.setAt(e,t),this._linkItem(e,t)}push(){if(!_o.active)return $o(this._parent,this._name+".push()",...arguments);var e=this.length,t=super.push(...arguments);return this._linkItems(e,e+arguments.length),t}pop(){if(!_o.active)return $o(this._parent,this._name+".pop()",...arguments);var e=super.pop();return this._linkItem(this.length),e}unshift(){if(!_o.active)return $o(this._parent,this._name+".unshift()",...arguments);var e=super.unshift(...arguments);return this._linkItems(),e}shift(){if(!_o.active)return $o(this._parent,this._name+".shift()",...arguments);var e=super.shift();return this._linkItems(0,this.length+1),e}splice(){if(!_o.active)return $o(this._parent,this._name+".splice()",...arguments);var e=this.length,t=super.splice(...arguments);return this._linkItems(0,Math.max(e,this.length)),t}fill(e,t,r){return _o.active?(super.fill(e,t,r),this._linkItems(t,r),this):$o(this._parent,this._name+".fill()",e,t,r)}reverse(){return _o.active?(super.reverse(),this._linkItems(),this):$o(this._parent,this._name+".reverse()")}sort(){return _o.active?(super.sort(...arguments),this._linkItems(),this):$o()}}class Ho extends It{_linkItem(e,t){this._parent._linkStore(this._name+":"+e,t)}_linkItems(e){var t=e||this.keys();for(var r of t)this._linkItem(r,this.get(r))}set(e,t){return _o.active?(super.set(e,t),this._linkItem(e,t),this):$o(this._parent,this._name+".set()",e,t)}delete(e){if(!_o.active)return $o(this._parent,this._name+".delete()",e);var t=super.delete(e);return this._linkItem(e),t}clear(){if(!_o.active)return $o(this._parent,this._name+".clear()");var e=this.keys();super.clear(),this._linkItems(e)}}const Bo=new(Ro=s.Z.wrapPropertyDecorator,Zo=s.Z.wrapPropertyDecorator,No=s.Z.wrapPropertyDecorator,Fo=s.Z.wrapPropertyDecorator,Lo=class extends rr{constructor(){super(...arguments),this._jsonPropertiesType=Uo,this._arrayType=qo,this._mapType=Ho}byRefArray(e,t,r,n,i){if(i)throw new Error("static is not supported for @State.byRefArray");return rr.prototype.byRefArray.call(this,e,t,r,n,i)}byCustomRefArray(e,t,r,n,i){if(i)throw new Error("static is not supported for @State.byCustomRefArray");return rr.prototype.byCustomRefArray.call(this,e,t,r,n,i)}byRefMap(e,t,r,n,i){if(i)throw new Error("static is not supported for @State.byRefMap");return rr.prototype.byRefMap.call(this,e,t,r,n,i)}mutable(e,t){e.__allowMutableProperties=e.__allowMutableProperties||{},e.__allowMutableProperties[t]={name:t}}wrapArray(e,t,r){var n=new this._arrayType(e);return n._parent=t,n._name=r,n._linkItems(),n}wrapMap(e,t,r){var n=new this._mapType(e);return n._parent=t,n._name=r,n._linkItems(),n}},(0,n.Z)(Lo.prototype,"byRefArray",[Ro],Object.getOwnPropertyDescriptor(Lo.prototype,"byRefArray"),Lo.prototype),(0,n.Z)(Lo.prototype,"byCustomRefArray",[Zo],Object.getOwnPropertyDescriptor(Lo.prototype,"byCustomRefArray"),Lo.prototype),(0,n.Z)(Lo.prototype,"byRefMap",[No],Object.getOwnPropertyDescriptor(Lo.prototype,"byRefMap"),Lo.prototype),(0,n.Z)(Lo.prototype,"mutable",[Fo],Object.getOwnPropertyDescriptor(Lo.prototype,"mutable"),Lo.prototype),(0,n.Z)(Lo.prototype,"wrapArray",[te.Z],Object.getOwnPropertyDescriptor(Lo.prototype,"wrapArray"),Lo.prototype),(0,n.Z)(Lo.prototype,"wrapMap",[te.Z],Object.getOwnPropertyDescriptor(Lo.prototype,"wrapMap"),Lo.prototype),Lo)("State");var Wo,Jo,Vo,Go,Xo,Yo,Ko,Qo,ea,ta,ra,na,ia,sa,oa,aa,la,ua,ca,ha,da,pa,fa,ga,ma,ya,va,ba,wa,_a,Pa,Aa,xa,Sa,Ca,Oa,Da,ka,Ia,Ta,Ea,ja,Ra,Za,Na,Fa,La,$a,Ma;let Ua=(Wo=Eo({mutable:!0}),Jo=Bo.byVal,Vo=Bo.byVal,Go=Bo.byVal,Xo=Bo.byVal,Wo((Ko=class extends To{constructor(){super(...arguments),(0,b.Z)(this,"showTitle",Qo,this),(0,b.Z)(this,"showAuthor",ea,this),(0,b.Z)(this,"showCover",ta,this),(0,b.Z)(this,"cover",ra,this)}},Qo=(0,n.Z)(Ko.prototype,"showTitle",[Jo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ea=(0,n.Z)(Ko.prototype,"showAuthor",[Vo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ta=(0,n.Z)(Ko.prototype,"showCover",[Go],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ra=(0,n.Z)(Ko.prototype,"cover",[Xo],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"background"}}),Yo=Ko))||Yo),za=(na=Eo({mutable:!0}),ia=Bo.byVal,sa=Bo.byVal,oa=Bo.byVal,na((la=class extends To{constructor(){super(...arguments),(0,b.Z)(this,"version",ua,this),(0,b.Z)(this,"themeId",ca,this),(0,b.Z)(this,"styleId",ha,this)}},ua=(0,n.Z)(la.prototype,"version",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ca=(0,n.Z)(la.prototype,"themeId",[sa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Gallery"}}),ha=(0,n.Z)(la.prototype,"styleId",[oa],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Dark"}}),aa=la))||aa),qa=(da=Eo({mutable:!0}),pa=Bo.byRef(Ua),fa=Bo.byRef(za),da((ma=class extends To{constructor(){super(...arguments),(0,b.Z)(this,"options",ya,this),(0,b.Z)(this,"explore",va,this)}},ya=(0,n.Z)(ma.prototype,"options",[pa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),va=(0,n.Z)(ma.prototype,"explore",[fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ga=ma))||ga),Ha=(ba=Eo({mutable:!0}),wa=Bo.byVal,ba((Pa=class extends To{constructor(){super(...arguments),(0,b.Z)(this,"author",Aa,this)}},Aa=(0,n.Z)(Pa.prototype,"author",[wa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_a=Pa))||_a),Ba=(xa=Eo({mutable:!0}),Sa=Bo.byRef(qa),Ca=Bo.byRef(Ha),xa((Da=class extends To{constructor(){super(...arguments),(0,b.Z)(this,"presentation",ka,this),(0,b.Z)(this,"story",Ia,this)}convertToDisplay(){this.presentation.explore.version=1,this.story.author||(this.story.author=yi.account.getDefaultShareAuthor())}revertFromDisplay(){1===this.presentation.explore.version&&(this.presentation=null)}},ka=(0,n.Z)(Da.prototype,"presentation",[Sa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ia=(0,n.Z)(Da.prototype,"story",[Ca],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.Z)(Da.prototype,"convertToDisplay",[jo],Object.getOwnPropertyDescriptor(Da.prototype,"convertToDisplay"),Da.prototype),(0,n.Z)(Da.prototype,"revertFromDisplay",[jo],Object.getOwnPropertyDescriptor(Da.prototype,"revertFromDisplay"),Da.prototype),Oa=Da))||Oa),Wa=(Ta=Bo.byRef(Ba),Eo((ja=class extends To{constructor(){super(...arguments),(0,b.Z)(this,"payload",Ra,this)}},Ra=(0,n.Z)(ja.prototype,"payload",[Ta],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ea=ja))||Ea),Ja=(Za=nr.byVal,Na=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"name",Fa,this)}},Fa=(0,n.Z)(Na.prototype,"name",[Za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Na),Va=(La=nr.byRef(Ja),$a=class extends qr{constructor(){super(...arguments),(0,b.Z)(this,"payload",Ma,this)}},Ma=(0,n.Z)($a.prototype,"payload",[La],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$a);var Ga=r(93155);const Xa=function(){var e,t,r,i,s,o;let a=(e=class extends Br{constructor(){super(...arguments),(0,b.Z)(this,"albumCoverDirty",t,this),(0,b.Z)(this,"_coverAsset",r,this),(0,b.Z)(this,"_coverFallbackAsset",i,this),(0,b.Z)(this,"_coverPromise",s,this),(0,b.Z)(this,"_defaultAssetOptions",o,this)}_getAttributesMiddleware(){return null}_createAttributes(e){var t;return"collection"===e.subtype?null!=this._attributes?(_o.start("@@REINIT"),t=this._attributes.fromJSON(e),_o.end("@@REINIT"),t):new Wa(e,this._getAttributesMiddleware()):super._createAttributes(e)}setAttributes(e){return super.setAttributes(e),null==this._defaultAssetOptions&&(this._defaultAssetOptions=this._createDefaultAssetOptions()),this.albumCoverDirty=!0,null==this.cachedAssets&&(this.cachedAssets={}),null!=this.cachedAssetCountPromises?this.cachedAssetCountPromises:this.cachedAssetCountPromises={}}_createDefaultAssetOptions(){return null}setDefaultAssetOptions(e){this._defaultAssetOptions=e}get assets(){return this.getAssets(this._defaultAssetOptions)}set assets(e){return this._assets=e}hasAssetLoaded(e){return null!=this.assets.get(e)}get albumCover(){var e;return null!=(e=this._coverAsset)?e:this._coverFallbackAsset}isFallbackCover(){return null==this._coverAsset&&null!=this._coverFallbackAsset}get filtersWereConverted(){return null!=this.attributes.migratedToUnfilteredAlbum}get migratedToUnfilteredAlbumId(){var e;return null!=(e=this.attributes.migratedToUnfilteredAlbum)?e.id:void 0}getUserSetCoverId(){var e;return null!=(e=this.attributes.payload.cover)?e.id:void 0}get journalHero(){return this._coverAsset}getSpace(){return null}_setCover(e){return this._coverAsset=e,this._coverFallbackAsset=null,this.albumCoverDirty=!1}isLoadingCover(){return null!=this._coverPromise}isCoverLoaded(){return!this.albumCoverDirty}hasCover(){return null!=this.getAttribute("payload").cover}loadAlbumCoverP(){var e,t;return this.albumCoverDirty?null!=this._coverPromise?this._coverPromise:(null!=(t=this.linkHref("/rels/cover_asset"))?(e=new this.coverClass(t),this._coverPromise=e.initializedP().done((e=>this._setCover(e)))):this._coverPromise=this.getOldestAssetP().done((e=>(this._setCover(null),this._coverFallbackAsset=e))),this._coverPromise.fail((()=>this._setCover(null))).always((()=>this._coverPromise=null))):Ga.Deferred().resolve()}getAssets(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,n,i;return n=Rn()(e),(i=null!=(r=this.cachedAssets)[n]?r[n]:r[n]=new this.assetListClass(`${this.href}/assets`,e)).parentAlbum=this,t&&i.reset(),i}markAssetsDirty(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t,r,n,i;for(r in e&&(this.albumCoverDirty=!0),this.cachedAssetCountPromises={},this.assets.markDirty(),i=[],n=this.cachedAssets)t=n[r],i.push(t.markDirty());return i}markAssetsExceptDefaultDirty(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t,r,n,i,s;for(n in e&&(this.albumCoverDirty=!0),this.cachedAssetCountPromises={},r=Rn()(this._defaultAssetOptions),s=[],i=this.cachedAssets)t=i[n],n!==r?s.push(t.markDirty()):s.push(void 0);return s}markCustomOrderedAssetsDirty(e){var t,r,n,i,s;for(n in r=Rn()(this._defaultAssetOptions),s=[],i=this.cachedAssets)t=i[n],n===r&&e||("-"===t.options.order_after?s.push(t.markDirty()):s.push(void 0));return s}markFilteredAssetsDirty(){var e,t,r,n,i;for(t in this.cachedAssetCountPromises={},!0===(null!=(r=this.assets)?r.options.album_filters:void 0)&&this.assets.markDirty(),i=[],n=this.cachedAssets)!0===(e=n[t]).options.album_filters?i.push(e.markDirty()):i.push(void 0);return i}toString(){return this.getName()}getName(e){var t;return t=this.attributes.payload.name,null!=e&&t.length>e&&(t=t.substr(0,e)),t}setPayloadStory(e){var t,r;return r=(null!=(t=this.attributes.payload)?t.story:void 0)||{},null==this._pooledStorySettings&&(this._pooledStorySettings={}),this._pooledStorySettings=Ga.extend(r,this._pooledStorySettings,e),null!=this._setPlayloadStoryTimeout&&clearTimeout(this._setPlayloadStoryTimeout),this._setPlayloadStoryTimeout=setTimeout((()=>(this._setPayloadStory(),this._setPlayloadStoryTimeout=null)),50)}_setPayloadStory(){return this.updateAttributesP("setPayloadStory",{payload:{story:this._pooledStorySettings}}).fail((()=>{var e,t,r,n,i,s,o,a,l,u,c,h,d,p,f;return null!=(e=this.attributes.payload)&&null!=(t=e.story)&&(t.title=null!=(a=this.attributes)&&null!=(l=a._originalSourceJson.payload)&&null!=(u=l.story)?u.title:void 0),null!=(c=this.attributes.payload)&&null!=(h=c.story)&&(h.author=null!=(d=this.attributes)&&null!=(p=d._originalSourceJson.payload)&&null!=(f=p.story)?f.author:void 0),null!=(r=this.attributes.payload)&&null!=(n=r.story)?n.description=null!=(i=this.attributes)&&null!=(s=i._originalSourceJson.payload)&&null!=(o=s.story)?o.description:void 0:void 0})),this._pooledStorySettings=null}getPayloadStory(){var e,t,r,n,i,s,o;return o=null!=(r=null!=(s=null!=(t=this.attributes.payload)?t.story:void 0)?s.title:void 0)?r:this.getName(),e=null!=(n=null!=s?s.author:void 0)?n:"",{title:o,description:null!=(i=null!=s?s.description:void 0)?i:"",author:e}}getPresentationFilters(){var e,t;return null!=(e=null!=(t=this.attributes.payload.presentation)?t.filters:void 0)?e:{}}getPresentationFilterPickedOnly(){return!0===this.getPresentationFilters().pickedOnly}getPresentationFilterRatingAtLeast(){var e;return null!=(e=this.getPresentationFilters().ratingAtLeast)?e:0}hasPresentationFiltersApplied(){return this.getPresentationFilterPickedOnly()||this.getPresentationFilterRatingAtLeast()>0}getPresentationStyleId(){var e,t;return(null!=(e=this.attributes.payload.presentation)&&null!=(t=e.explore)?t.styleId:void 0)||""}get name(){return this.getName()}get title(){var e,t;return(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.title:void 0)||""}hasTitle(){var e,t;return null!=(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.title:void 0)}getShareTitle(){return this.hasTitle()&&this.title.length>0?this.title:this.name}get author(){var e,t;return(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.author:void 0)||""}get showAuthor(){var e,t,r;return!0===(null!=(e=this.attributes.payload)&&null!=(t=e.presentation)&&null!=(r=t.options)?r.showAuthor:void 0)}get showTitle(){var e,t,r;return!0===(null!=(e=this.attributes.payload)&&null!=(t=e.presentation)&&null!=(r=t.options)?r.showTitle:void 0)}hasNonBlankAuthor(){return this.hasAuthor()&&""!==this.author.trim()}get description(){var e,t;return(null!=(e=this.attributes.payload)&&null!=(t=e.story)?t.description:void 0)||""}set title(e){var t,r,n;if(null!=(t=this.attributes.payload)&&null==t.story&&(t.story={}),(null!=(r=this.attributes.payload)?r.story.title:void 0)!==e)return null!=(n=this.attributes.payload)&&(n.story.title=e),this.setPayloadStory({title:e})}set author(e){var t,r,n;if(null!=(t=this.attributes.payload)&&null==t.story&&(t.story={}),(null!=(r=this.attributes.payload)?r.story.author:void 0)!==e)return null!=(n=this.attributes.payload)&&(n.story.author=e),this.setPayloadStory({author:e})}set description(e){var t,r,n;if(null!=(t=this.attributes.payload)&&null==t.story&&(t.story={}),(null!=(r=this.attributes.payload)?r.story.description:void 0)!==e)return null!=(n=this.attributes.payload)&&(n.story.description=e),this.setPayloadStory({description:e})}hasAuthor(){var e;return null!=(null!=(e=this.attributes.payload.story)?e.author:void 0)}getNewestAssetP(){var e;return e={captured_before:st.prototype.MAXIMUM_DATE,embed:"asset",subtype:"image;video",limit:1},this.getAssets(e,!0).firstP()}getOldestAssetP(){var e;return e={captured_after:st.prototype.MINIMUM_DATE,embed:"asset",subtype:"image;video",limit:1},this.getAssets(e,!0).firstP()}getFirstAssetP(){var e;return e={order_after:"-",embed:"asset",subtype:"image;video",limit:1},this.getAssets(e,!0).firstP()}getLastOrderedAssetP(){var e;return e={order_before:"",captured_before:st.prototype.MAXIMUM_DATE,embed:"asset",subtype:"image;video;layout_segment",limit:1},this.getAssets(e,!0).firstP()}getSubtype(){return this.attributes.subtype||""}getParentId(){var e,t;return null!=(e=this.attributes.payload)&&null!=(t=e.parent)?t.id:void 0}getHideInOrganize(){var e;return(null!=(e=this.attributes.payload)?e.hideInOrganize:void 0)||!1}hasDisplaySettings(){return"collection"===this.getSubtype()}},t=(0,n.Z)(e.prototype,"albumCoverDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),r=(0,n.Z)(e.prototype,"_coverAsset",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=(0,n.Z)(e.prototype,"_coverFallbackAsset",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,n.Z)(e.prototype,"_coverPromise",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=(0,n.Z)(e.prototype,"_defaultAssetOptions",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return a.prototype.attributeClass=Va,a.prototype.assetListClass=null,a}.call(void 0);var Ya,Ka,Qa=r(93155);i.Z.is_enabled("asset_store")?Ya=function(){class e extends Qs{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(e),this.isLocal=t,this.albumAssetRelativeUrl=e.links.self.href}get attributes(){return S.Z.recordEvent(this,"attributes"),this._assetsWithOverrides}set attributes(e){var t;return"album_asset"===e.type?(null!=this.asset&&this.disposeLink(this.asset),e.asset.base=e.base,this.isLocal?this._attributes=this._createAttributes(e):this.asset=this.link(Qs.store.aquireItem(e.asset)),this.order=null!=(t=e.payload)?t.order:void 0,this._assetsWithOverrides=Object.create(this.asset.attributes,{base:{value:e.base,enumerable:!0},spaces:{value:e.spaces,enumerable:!0}}),this._storeId=e.id):"asset"===e.type?this.asset.id!==e.id?(console.error("Assignment for mismatched catalog asset and asset"),be.reportFailure("mismatchedCatalogAsset")):this.asset.attributes=e:(console.error(`Do not know how to assign attributes of type ${e.type}`),be.reportFailure("unhandledAttributeTypes")),S.Z.recordChange(this,"attributes",this._attributes)}get storeId(){return this._storeId}refreshP(){var e,t;return null!=this.albumAssetRelativeUrl?(e={embed:"spaces;asset;user"},t=this._linkBase.fullHref(this.albumAssetRelativeUrl)+"?"+Qa.param(e),this.requestP("GET",t).done((e=>this.setAttributes(e)))):super.refreshP()}getOrder(){return this.order||""}setOrder(e){return this.order=e}}return i.Z.is_enabled("asset_store")&&(e.store=Di.instance(e)),e}.call(void 0):(Ka=function(e){return e.asset.base=e.base,e.asset.spaces=e.spaces},Ya=class extends Qs{constructor(e){var t;Ka(e),super(e.asset),this.albumAssetRelativeUrl=e.links.self.href,this.order=null!=(t=e.payload)?t.order:void 0}refreshP(){var e,t;return null!=this.albumAssetRelativeUrl?(e={embed:"spaces;asset;user"},t=this._linkBase.fullHref(this.albumAssetRelativeUrl)+"?"+Qa.param(e),this.requestP("GET",t).done((e=>{var t;return this.order=null!=(t=e.payload)?t.order:void 0,Ka(e),this.setAttributes(e.asset)}))):super.refreshP()}getOrder(){return this.order||""}setOrder(e){return this.order=e}});const el=Ya;var tl=r(93155);const rl=function(){class e extends Ui{modelsByCreatedP(){return this.allP().then((e=>(e.sort((function(e,t){return bo.localeCompare(t.getBestCreatedDateAttribute(),e.getBestCreatedDateAttribute())})),e)))}modelsByCreated(){var e;return(e=this.models.slice(0)).sort((function(e,t){return bo.localeCompare(t.getBestCreatedDateAttribute(),e.getBestCreatedDateAttribute())})),e}modelsByName(){var e;return(e=this.models.slice(0)).sort(bo.localeCompare),e}getCreateHref(){return`${this.href}/${this.createUuid()}`}createP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?(null==t.payload&&(t.payload={}),t.payload.name=e):t={subtype:"collection",payload:{name:e}},"collection"===t.subtype?super.createP(this.getCreateHref(),t).then((e=>(e.convertToDisplay(),e))):super.createP(this.getCreateHref(),t)}createWithAssetsP(e,t,r){var n,i,s;return i=tl.Deferred(),n="string"==typeof t||t instanceof String?{subtype:t}:t,r.length>0&&("string"==typeof r[0]||r[0]instanceof String)?s=!1:(s=!0,r[0]),this.createP(e,n).then((e=>{var t;return t=s?r.map((function(e){return e.id})):r,e.assets.addAssetIdsP(t).done((()=>i.resolve(e))).fail((()=>i.reject("addAssetsToAlbumFailure")))}),(()=>i.reject("albumCreationFailure"))),i.promise()}}return e.prototype.model=Xa,e.prototype.modelName="Album",e}.call(void 0),nl=e=>{let t;const r=(n,i,s,o)=>{const a=t,l=a.length,u=n.toJSON();if(c=o,h=u,JSON.stringify(c)===JSON.stringify(h))return a.splice(0,l);var c,h;const d=e.requestP("POST",e.href,JSON.stringify(n.toJSON(!1)));d.done((()=>{a===t&&(a.splice(0,l),_o.start("@@UPDATE"),n.fromJSON(u),_o.end("@@UPDATE"),a.length>0&&r(n,i,s,u))})),d.fail((()=>{if(a===t){a.splice(0,l),_o.start("@@REVERT"),n.fromJSON(o);for(const e of a){const{action:t,payload:r}=e;n.dispatch(t,...r)}_o.end("@@REVERT"),a.length>0&&r(n,i,s,o)}}))};return(e,n,i,s)=>{if("@"===n[0])"@@INIT"!==n&&"@@REINIT"!==n||(t=[]);else{if(0===t.length){const t=e.toJSON(),o=s();return r(e,n,i,t),o}t.push({action:n,payload:i})}return s()}};var il;const sl=il=function(){var e,t;let r=(e=class extends Ui{constructor(e,r){i.Z.is_enabled("debug_force_show_error_assets")&&"incomplete"===(null!=r?r.exclude:void 0)&&delete r.exclude,super(e,r),(0,b.Z)(this,"haveNonOwnerAssets",t,this),null!=this.options.captured_before&&(this.nextPageLink="prev")}_add(e,t){return null!=e.importedByUser&&(this.haveNonOwnerAssets=!0),super._add(e,t)}_parse(e){var t;return t=super._parse(e),null!=this.options.captured_before&&t.reverse(),t}getTotalAesthetic(e){var t,r,n,s,o,a,l,u;for(u=0,n=0,s=(o=this.models).length;n<s;n++)null!=(null!=(a=(t=o[n]).attributes)&&null!=(l=a.payload)?l.aesthetics:void 0)&&(u+=t.attributes.payload.aesthetics[e]);return r=u/this.models.length,i.Z.is_enabled("debug")&&console.log(`Total ${e} is ${u}, avg ${r.toFixed(1)}`),u}getAestheticStats(){var e,t,r,n,i;for(i={},t=0,r=(n=this.aesthetics).length;t<r;t++)i[e=n[t]]=this.getTotalAesthetic(e);return i}get displayEmpty(){return this.modelsBindable.every((function(e){return e.isLayoutSegment()}))}get displayLength(){return this.modelsBindable.reduce(((e,t)=>t.isLayoutSegment()?e:e+1),0)}getAssetSectionText(e,t){var r,n,i,s;if(null==e)return[null,null];for(n=this.index(e.id),--n;n>=0&&!(i=this.at(n)).isLayoutSegment();)--n;return(null!=i?i.isLayoutSegment():void 0)&&(s=i.title,r=i.description),n<=0&&((null!=s?s.length:void 0)>0||(s=t)),[s,r]}},t=(0,n.Z)(e.prototype,"haveNonOwnerAssets",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,n.Z)(e.prototype,"displayEmpty",[Li.Z],Object.getOwnPropertyDescriptor(e.prototype,"displayEmpty"),e.prototype),(0,n.Z)(e.prototype,"displayLength",[Li.Z],Object.getOwnPropertyDescriptor(e.prototype,"displayLength"),e.prototype),e);return r.prototype.model=Vs,r.prototype.modelName="Asset",r.prototype.aesthetics=["score","balancing","content","dof","emphasis","harmony","lighting","repetition","rot","symmetry","vivid"],r}.call(void 0);il.defaultPayloadForNewAsset=function(e,t){var r,n,s;return n={payload:{userCreated:s=e.toISOString(),userUpdated:s,importSource:{importedOnDevice:null!=t?t:"Lightroom Web {0363f1a98b0c507a237977267358886724194e58198ae5efc58c659238ee8fc3}",importTimestamp:s}}},i.Z.is_enabled("upload_crs_version")&&(r=as.VERSION,n.payload.develop={crsVersion:r}),n},il.defaultPayloadForUpload=function(e,t,r){var n;return(n=il.defaultPayloadForNewAsset(t,r)).payload.importSource.fileSize=e.size,n.payload.importSource.fileName=e.name,n};var ol=[].indexOf;const al=class extends Br{matchesSyncChange(e){var t;if("error"===this.getType())return e.id===this.getSourceId();if(this.getType()!==e.type)return!1;if("asset"===e.type){if("delete"===e.action)return this.isDeleted()&&this.getChangedId()===e.id;if("create"===e.action)return this.isCreated()&&!this.isDeleted()&&this.getChangedId()===e.id;if("update"===e.action)return this.getChangedId()===e.id&&(t=e.revision_id,ol.call(this.attributes.revision_ids,t)>=0)}return!1}isCatalogUpdateError(){return"error"===this.getType()}isStorageExceededError(){return"StorageExceededError"===this.getSubtype()}getType(){return this.attributes.type}getSubtype(){return this.attributes.subtype}isCreated(){return null!=this.attributes.created}isDeleted(){return!0===this.attributes.deleted}getChangedId(){return this.attributes.id}getSourceId(){var e,t;return null!=(e=this.attributes)&&null!=(t=e.source)?t.id:void 0}};var ll,ul,cl;const hl=(ll=xe(500),ul=class extends st{get isSyncing(){return this.pendingRequestCount>0}constructor(e){super(),(0,b.Z)(this,"pendingRequestCount",cl,this),this.href=e,Le.on("requests-idle",(()=>this.assetMap={})),this.pendingRequestCount=0}setAssetFlagJP(e,t){var r;return this._initSyncUpdate(),(r=this._makeAssetPayloadUpdateData(e)).payload.reviews={[`${$.account.id}`]:{flag:t,date:r.updated}},this.assetUpdateQueue.push(r),e.optimisticUpdatePayload(r.payload,r.revision_id),this._doSyncUpdate(),this.syncPromise}_removeExistingAssetUpdate(e,t){var r;return r=function(r){var n;return r.id===e.id&&(null!=(n=r.payload)?n[t]:void 0)},this.assetUpdateQueue=this.assetUpdateQueue.filter((function(e){return!r(e)}))}setAssetRatingJP(e,t){var r;return this._initSyncUpdate(),(r=this._makeAssetPayloadUpdateData(e)).payload.ratings={[`${$.account.id}`]:{rating:t,date:r.updated}},this.assetUpdateQueue.push(r),e.optimisticUpdatePayload(r.payload,r.revision_id),this._doSyncUpdate(),this.syncPromise}flagManyAssetsJP(e,t){var r,n,i;for(n=0,i=e.length;n<i;n++)r=e[n],this.setAssetFlagJP(r,t);return this.syncPromise}deleteManyAssetIdsJP(e){var t,r,n;for(r=0,n=e.length;r<n;r++)t=e[r],this.deleteAssetIdJP(t);return this.syncPromise}restoreManyAssetIdsJP(e){var t,r,n,i;for(r=0,n=e.length;r<n;r++)t=e[r],this.restoreAssetIdJP(t),i={id:t,action:"delete",type:"asset"},this._addExpectedSyncUpdate(i);return this.syncPromise}deleteAssetIdJP(e){var t;return t={id:e,revision_id:`${this.createUuid()}`,action:"delete",type:"asset"},this._addAssetDeleteJP(t)}restoreAssetIdJP(e){var t;return t={id:`${this.createUuid()}`,revision_id:`${this.createUuid()}`,type:"asset",action:"create",restore_from:{id:e}},this._addAssetRestoreJP(t)}_makeAssetPayloadUpdateData(e,t,r){var n,i;return i=(new Date).toISOString(),n={id:e.id,updated:i,revision_id:`${this.createUuid()}`,action:"update",type:"asset",if_match:e.latestRevision(),payload:{userUpdated:i}},this.assetMap[e.id]=e,n}_initSyncUpdate(){if(null==this.assetUpdateQueue)return this.assetUpdateQueue=[],this.assetMap={},this.syncPromise=new Promise(((e,t)=>{this.syncResolve=e,this.syncReject=t}))}_addAssetDeleteJP(e){return this._initSyncUpdate(),this.assetUpdateQueue.push(e),this._doSyncUpdate(),this.syncPromise}_addAssetRestoreJP(e){return this._initSyncUpdate(),this.assetUpdateQueue.push(e),this._doSyncUpdate(),this.syncPromise}_addExpectedSyncUpdate(e){return e._excludeFromRequest=!0,this.assetUpdateQueue.push(e),this.syncPromise}_refreshFailedAssets(e){var t,r,n,i,s;for(s=[],r=0,n=e.length;r<n;r++)"asset"===(t=e[r]).type&&"update"===t.action&&s.push(null!=(i=this.get(t.id))?i.refreshP():void 0);return s}_readSyncForSuccessJP(e,t,r){return new Promise(((n,i)=>{var s,o,a;return o=t,s=!0,r.catch((function(){return s=!1})),a=e=>this.requestP("GET",e).then((e=>{var t,r,l,u,c,h;if(!s)return i("sync requests failed while reading for success");for(r=0,l=(u=(c=new Br(e)).attributes.updates).length;r<l;r++)h=u[r],t=new al(h),o=o.filter((function(e){var r;return(r=t.matchesSyncChange(e))&&t.isStorageExceededError(),!r}));return 0===o.length?n():setTimeout((function(){return a(c.linkHref("next"))}),1e3)})).fail(((e,t,r)=>(i([e,t,r]),this._refreshFailedAssets(o),this.reportOzFailure("syncReadFailure",e,t,r)))),a(e,0)}))}get(e){return this.assetMap[e]}_batchRequested(){return this.successCheckAssetId=this.successCheckP=this.assetUpdateQueue=this.syncResolve=this.syncReject=this.syncPromise=null}_makeBatchSyncRequestJP(e){return new Promise(((t,r)=>this.requestP("POST",this.href,JSON.stringify(e)).done((function(e){return t(e)})).fail((function(){return r()}))))}async _doSyncUpdate(){var e,t,r,n,s,o,a,l,u,c,h,d,p,f,g;for(p=this.syncPromise,u=this.syncResolve,l=this.syncReject,g=(f=this.assetUpdateQueue).filter((function(e){return!e._excludeFromRequest})),this.successCheckP,this._batchRequested(),++this.pendingRequestCount,t=[],r=0;r<g.length;)t.push(g.slice(r,r+100)),r+=100;e=t.shift();try{for(c=await this._makeBatchSyncRequestJP(e),d=new Br(c).linkHref("/rels/future_updates"),this._readSyncForSuccessJP(d,f,p).then((function(){return i.Z.is_enabled("debug")&&console.log("sync complete"),u()})).catch((e=>{let[t]=e;return i.Z.is_enabled("debug")&&console.warn("sync failed"),l([t])})).finally((()=>--this.pendingRequestCount)),h=[];t.length>0;)e=t.shift(),h.push(await this._makeBatchSyncRequestJP(e));return h}catch(t){for(s=0,o=e.length;s<o;s++)n=e[s],null!=(a=this.get(n.id))&&a.refreshP();return l()}}},cl=(0,n.Z)(ul.prototype,"pendingRequestCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,n.Z)(ul.prototype,"_doSyncUpdate",[ll],Object.getOwnPropertyDescriptor(ul.prototype,"_doSyncUpdate"),ul.prototype),ul);var dl=r(93155);const pl=function(){class e extends sl{getTotalCountHref(){var e;return e={},null!=this.options.exclude&&(e.exclude=this.options.exclude),null!=this.options.subtype&&(e.subtype=this.options.subtype),`${this.href}/count?${dl.param(e)}`}debugCreateEmptyAssetP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;return r=dl.Deferred(),this.pageP(0).then((()=>{var n,i,s,o,a;return s={size:1234,name:"DEBUG_LONGFILENAMEFOROVERFLOWTESTING.JPG"},(o=sl.defaultPayloadForUpload(s,e,t)).subtype="image",o.payload.captureDate=e.toISOString(),o.payload.importSource.importedBy=$.account.id,o.payload.importSource.originalWidth=o.payload.importSource.originalHeight=Math.floor(2264*Math.random())+1e3,i=this.createUuid(),n=`${this.href}/${i}`,a=`${n}/revisions/${this.createUuid()}`,this.requestP("PUT",a,JSON.stringify(o)).done((e=>r.resolve(a,i)))})).fail((()=>r.reject())),r.promise()}createNewEmptyAssetP(e,t,r,n){var i;return i=dl.Deferred(),null==n?i.reject():(this.pageP(0).then((()=>{var s,o,a,l;return(a=sl.defaultPayloadForUpload(e,n)).subtype=Qr.ozSubtype(e),a.payload.captureDate="0000-00-00T00:00:00",a.payload.importSource.importedBy=r.id,null!=t&&(a.payload.importSource.sha256=t),o=this.createUuid(),s=`${this.href}/${o}`,l=`${s}/revisions/${this.createUuid()}`,this.requestP("PUT",l,JSON.stringify(a)).done((e=>i.resolve(l,o)))})).fail((()=>i.reject())),i.promise())}async debugCopyAssetAsProxyOnlyJP(e){var t,r,n,i,s,o,a;return e.hasExternalDevelopSettings()?Promise.reject("no support for external develop settings"):((i=e.cloneAttributes().payload).importSource.willNotUploadMaster=!0,(n=We()({},{payload:i},sl.defaultPayloadForNewAsset(new Date))).subtype=e.attributes.subtype,n.captureDate=e.attributes.captureDate,r=this.createUuid(),o=`${t=`${this.href}/${r}`}/revisions/${a=this.createUuid()}`,await this.requestJP("PUT",o,JSON.stringify(n)),s=`${t}/revisions/${a}/proxies/${this.createUuid()}`,await this.requestJP("PUT",`${s}`,JSON.stringify({file_href:e.linkFullPath("/rels/proxy_type/2560")}),{headers:{"X-Generate-Renditions":"all","X-Async-Copy":!0}}),t)}deleteManyP(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n,i,s;for(i=void 0,n=0;n<e.length;)s=e.slice(n,n+=100),i=i?i.pipe((e=>()=>this._deleteManyP(e,t))(s)):this._deleteManyP(s,t);return i.then((()=>{var t,n,i,s,o,a,l,u,c;for(s=[],o=0,l=e.length;o<l;o++)n=e[o],null!=(i=this.index(n))&&s.push(i);for(s.sort((function(e,t){return e-t})),c=0,t=a=0,u=s.length;a<u;t=++a)i=s[t],this._models.splice(i-c++,1);return null!=this.totalCount&&r&&(this.totalCount-=e.length),s.length>0&&this._reindex(),s}))}deleteManyJP(e,t){var r;return r=this._deleteManyJP(e,t),this._deleteMany(e),r}restoreManyJP(e,t){return this._restoreManyJP(e,t)}_deleteManyJP(e,t){return $.catalogContext.catalogUpdates.deleteManyAssetIdsJP(e)}_restoreManyJP(e,t){return $.catalogContext.catalogUpdates.restoreManyAssetIdsJP(e)}_deleteManyP(e,t){return this.requestP("DELETE",this.href,`asset_ids=${e.join("%3B")}`,{contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).fail(((e,r,n)=>{var i;return i=null!=t?`${t}Failure`:"deleteAssetsFailure",this.reportOzFailure(i,e,r,n)}))}}return e.prototype.model=Qs,e.prototype.modelName="CatalogAsset",e}.call(void 0),fl=function(){class e extends Br{setAttributes(e){return super.setAttributes(e),null!=e.author&&(e.author.base=e.base,this.author=new un(e.author)),this}isAuthoredBy(e){var t;return null!=e&&(null!=(t=this.attributes.author)?t.id:void 0)===e.id}getBody(){var e;return(null!=(e=this.attributes.payload)?e.body:void 0)||""}removeP(){return this.requestP("DELETE",this.href)}}return e.prototype.CHAR_LIMIT=1023,e}.call(void 0),gl=function(){class e extends Ui{createP(e,t){var r;return r={payload:{body:e}},this.allP().then((()=>super.createP(this.href+"/"+this.createUuid(),r)))}_add(e,t){return t?(this._unshift(e),this._reindex()):super._add(e)}}return e.prototype.model=fl,e.prototype.modelName="Comment",e}.call(void 0),ml=class extends Br{setAttributes(e){return super.setAttributes(e),null!=e.author&&(this.author=new un(e.author)),this}isAuthoredBy(e){var t;return null!=e&&(null!=(t=this.attributes.author)?t.id:void 0)===e.id}};var yl=r(93155);const vl=function(){class e extends Ui{_parse(e){var t,r,n,s,o,a,l,u;if(s=e.resources,i.Z.is_enabled("lots_of_likes"))for(a=0,u=(n=s).length;a<u;a++)for(r=n[a],o=l=0;l<=7;o=++l)(t=yl.extend(!0,{},r)).id+=o.toString(),s.push(t);return s}}return e.prototype.model=ml,e.prototype.modelName="Like",e}.call(void 0),bl=function(){class e extends to{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{embed:"asset;spaces;user"})}}return e.prototype.model=el,e}.call(void 0);var wl=r(93155),_l=[].indexOf;const Pl=function(){class e extends pl{isOrdered(){return 0===this.length||""!==this.at(0).getOrder()}addAssetsP(e){var t,r;return r=function(){var r,n,i;for(i=[],r=0,n=e.length;r<n;r++)t=e[r],i.push(t.id);return i}(),this._addAssetIdsP(r)}addAssetIdsP(e){return this._addAssetIdsP(e)}addOrderedAssetIdsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doInsertIdsOrderingP(e,t,r)}hasOrdering(e){var t,r,n,i;for(t=r=0,n=e.length;r<n;t=++r)if(e[t].id!==(null!=(i=this.at(t))?i.id:void 0))return!1;return!0}addOrderedAssetsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doOrderingP(e,t,r)}reorderAssetIdsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n,i;return n=function(){var t,r,n;for(n=[],t=0,r=e.length;t<r;t++)i=e[t],n.push(this.get(i));return n}.call(this),this._doOrderingP(n,t,r)}reorderAssetsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doOrderingP(e,t,r)}addAndReorderAssetsP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._doOrderingP(e,t,r)}_doInsertIdsOrderingP(e,t,r){var n,i,s;return!this.finished&&(r||!this.isOrdered()||t>=this.length||-1===t)?this.allP().then((()=>this._doInsertIdsOrderingP(e,t,r))):(-1===t&&(t=this.length),this.isOrdered()&&!r?null!=(i=this._getOrdersForInsert(e.length,t))?this._applyReorderDataP(e,i,[],[]):this._doInsertIdsOrderingP(e,t,!0):null==(s=this._getOrders(e.length+this.length))?(be.reportFailure("albumAssetLex64ReindexFailure"),wl.Deferred().reject()):(n=s.splice(t,e.length),this._applyReorderDataP(e,n,this.models,s)))}_doOrderingP(e,t,r){var n,i,s,o,a,l,u,c,h,d,p,f,g,m,y,v;if(!this.finished&&(r||!this.isOrdered()||t>=this.length))return this.allP().then((()=>this._doOrderingP(e,t,r)));for(-1===t&&(t=this.length),f=0,u=0,d=e.length;u<d;u++)n=e[u],null==this.index(n.id)&&f++;if(this.isOrdered()&&!r){if(null==(y=this._getOrdersForInsert(e.length,t)))return this._doOrderingP(e,t,!0);i=e}else{if(null==(y=this._getOrders(f+this.length)))return be.reportFailure("albumAssetLex64ReindexFailure"),wl.Deferred().reject();for(i=[],l=c=0,v=this.length;c<=v;l=c+=1)l===t&&i.push(...e),l<this.length&&(s=this.models[l],_l.call(e,s)<0&&i.push(s))}for(g=[],m=[],o=[],a=[],l=h=0,p=i.length;h<p;l=++h)n=i[l],null!=this.index(n.id)?(o.push(n),a.push(y[l])):(g.push(n),m.push(y[l]));return this._applyReorderDataP(g,m,o,a)}_getOrdersForInsert(e,t){var r,n;if(!(t-1>=0&&t-1<this.length&&""===(n=this.at(t-1).getOrder())||t<this.length&&""===(r=this.at(t).getOrder())))return this._getOrders(e,n,r)}_getOrders(e,t,r){var n,i,s,o,a;if(!y.doRandomFailure("getLex64Orders")){if(1===e)return null!=(s=null!=t&&null!=r?qe.insertBetween(t,r,"middle"):null!=t?qe.insertAfter(t,"middle"):null!=r?qe.insertBefore(r,"middle"):qe.MIDPOINT)?[s]:void 0;for(i=null!=t?t:null!=r?qe.insertBefore(r,"middle"):qe.MIDPOINT,o=[],n=1,a=e;n<=a;n+=1){if(null==(s=null!=r?qe.insertBetween(i,r,"low"):qe.insertAfter(i,"low")))return;o.push(s),i=s}return o}}_applyReorderDataP(e,t,r,n){var s,o,a,l,u,c,h,d,p,f,g,m,y,v,b,w,_,P,A,x;if(a=wl.Deferred(),i.Z.is_enabled("debug_verbose")&&(console.log("applying reorder"),console.log(`current order: ${function(){var e,t,r,n;for(n=[],e=0,t=(r=this.models).length;e<t;e++)s=r[e],n.push(s.getOrder());return n}.call(this).join(" ")}`),console.log(`new asset orders: ${t.join(" ")}`),console.log(`existing asset orders: ${n.join(" ")}`)),x=(new Date).toISOString(),v=!0,P=[],e.length>0)if(y=[],"string"==typeof(u=e[0])||u instanceof String)v=!1,(y=e).length<=5?(_=this._addAssetIdsP(y,t,x).then((()=>new bl(this.href,y).loadP())).then((e=>{var t,r;for(r in t=e.assets)s=t[r],this._add(s);return a.notify("optimistically-applied"),e.error_count>0&&(be.reportFailure("assetInsertFailure"),i.Z.is_enabled("debug")&&console.log(`${e.error_count} failures inserting ${y.length} assets`,e.errors)),this._sortByOrder()})),P.push(_)):(v=!1,P.push(this._addAssetIdsP(y,t,x)));else{for(c=h=0,f=e.length;h<f;c=++h)(s=e[c]).setOrder(t[c]),this._add(s),y.push(s.id);a.notify("optimistically-applied"),P.push(this._addAssetIdsP(y,t,x))}if(r.length>0){for(c=d=0,g=r.length;d<g;c=++d)(s=r[c]).order=n[c];o=r.map((function(e){return{id:e.id,payload:{userUpdated:x,order:e.order}}})),r.length>10?P.push(this._debouncedBulkUpdateAttributesJP("updateOrder",o)):P.push(this._bulkUpdateAttributesP(o))}if(v?this._sortByOrder():this.markDirty(),i.Z.is_enabled("debug")){for(b={},w=0,l=0,p=0,m=(A=this.models).length;p<m;p++)null==(s=A[p]).order?i.Z.is_enabled("debug_verbose")&&console.error("Asset with null order (this is legal at the end)",s):s.order<null?(console.error("Asset out of order",s),++w):b.hasOwnProperty(s.order)&&(console.error("Duplicate asset order",s.order,s),++l),b[s.order]=!0;w>0&&be.report("albumAssetOutOfOrder",{count:w}),l>0&&be.report("albumAssetDuplicateOrder",{count:l})}return wl.when(...P).then(a.resolve).fail(a.reject),a.promise()}_sortByOrder(){return this.modelsBindable.sort((function(e,t){var r,n,i,s,o,a;return(i=e.getOrder())!==(a=t.getOrder())?""===i?1:""===a?-1:i>a?1:-1:(r=e.payload().captureDate)!==(s=t.payload().captureDate)?r>s?1:-1:(n=e.attributes.created)>(o=t.attributes.created)?1:n<o?-1:0})),this._reindex()}deleteAssetsP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;return r=e.map((function(e){return e.id})),this.deleteAssetIdsP(r,t)}deleteAssetIdsP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,n,i,s;for(i=0,s=e.length;i<s;i++)r=e[i],null!=(n=this.index(r))&&this._delete(n);return null!=t?t.then((()=>this.deleteManyP(e,"removeAssetsFromAlbum",!1))):this.deleteManyP(e,"removeAssetsFromAlbum",!1)}async _getOrdersForAppendJP(e){var t;if(null!=this.parentAlbum){try{t=await this.parentAlbum.getLastOrderedAssetP()}catch(e){}if(null!=t&&""!==t.getOrder())return this._getOrders(e.length,t.getOrder())}}async _addAssetIdsV2JP(e,t,r){var n,i,s,o,a,l;for(null==t&&(t=await this._getOrdersForAppendJP(e)),null==r&&(r=(new Date).toISOString()),l=[],i=o=0,a=(s=t?e.map((function(e,r){return[e,t[r]]})):e.map((function(e){return[e]}))).length-1;o<=a;i=o+=50)n=s.slice(i,i+50),l.push(await this._doAddAssetIdsV2JP(n,r));return l}_addAssetIdsP(){var e,t;return t=this._addAssetIdsV2JP(...arguments),e=wl.Deferred(),t.then((t=>e.resolve(...null!=t?t:[])),(t=>e.reject(...null!=t?t:[]))),e}_doAddAssetIdsP(e,t,r){var n,i;return i=wl.Deferred(),n=t&&t.length===e.length?e.map((function(e,n){return{id:e,payload:{userCreated:r,userUpdated:r,order:t[n]}}})):e.map((function(e){return{id:e,payload:{userCreated:r,userUpdated:r}}})),this.requestP("PUT",this.href,JSON.stringify({resources:n})).always(((e,t)=>t>=200&&t<300||null!=e.errors&&403===t?i.resolve(e,t):i.reject(e,t))),i.promise()}_doAddAssetIdsV2JP(e,t){return this.safeToJSPromise(this._doAddAssetIdsV2P(e,t))}_doAddAssetIdsV2P(e,t){var r,n;return n=wl.Deferred(),r=e.map((function(e){var r,n,i;return[n,i]=e,r={id:n,payload:{userCreated:t,userUpdated:t}},null!=i&&(r.payload.order=i),r})),this.requestP("PUT",this.href,JSON.stringify({resources:r})).always(((e,t)=>t>=200&&t<300||null!=e.errors&&403===t?n.resolve(e,t):n.reject(e,t))),n.promise()}getTotalCountHref(){var e;return!0===this.options.album_filters?null:(e={},null!=this.options.exclude&&(e.exclude=this.options.exclude),null!=this.options.subtype&&(e.subtype=this.options.subtype),`${this.href}/count?${wl.param(e)}`)}_deleteManyP(e,t){return this.requestP("DELETE",this.href,`asset_ids=${e.join("%3B")}`,{contentType:"application/x-www-form-urlencoded;charset=UTF-8"}).fail(((e,r,n)=>{var i;return i=null!=t?`${t}Failure`:"deleteAssetsFailure",this.reportOzFailure(i,e,r,n)}))}_debouncedBulkUpdateAttributesJP(e,t){var r,n;return null==(r=this.debouncedRequests)[e]&&(r[e]={}),this.debouncedRequests[e].assetData=t,n=()=>(null!=this.debouncedRequests[e].timeout&&clearTimeout(this.debouncedRequests[e].timeout),this.debouncedRequests[e].timeout=setTimeout((()=>this._bulkUpdateAttributesP(this.debouncedRequests[e].assetData).done((()=>(this.debouncedRequests[e].resolve(),this.debouncedRequests[e]=null))).fail((()=>this.debouncedRequests[e].reject()))),5e3)),null!=this.debouncedRequests[e].promise?n():this.debouncedRequests[e].promise=new Promise(((t,r)=>(this.debouncedRequests[e].resolve=t,this.debouncedRequests[e].reject=r,n()))),this.debouncedRequests[e].promise}_bulkUpdateAttributesP(e){var t;return t={resources:e},this.requestP("POST",this.href,JSON.stringify(t)).then((()=>{var e,r,n,i,s,o,a;for(a=[],r=0,n=(i=t.resources).length;r<n;r++)null!=(null!=(s=(e=i[r]).payload)?s.order:void 0)?a.push(null!=(o=this.get(e.id))?o.setOrder(e.payload.order):void 0):a.push(void 0);return a}))}getReviewedAssetsP(e,t){return null!=this.proofingAssetsDeferred?this.proofingAssetsDeferred:this.proofingAssetsDeferred=this.allP().then((r=>{var n,i,s,o,a,l,u,c;for(i=[],this.proofingClientIdList=new Set,this.proofingClientList=new Set,this.selectedAssetsForFiltering=new Set,this.commentedAssetsForFiltering=new Set,this.selectedPromises=[],this.commentedPromises=[],c=r=>{var n,s;return n=r.getLikesHref(e),(s=new vl(n)).allP().then((()=>{var e,n,o,a,l;for(l=[],n=0,o=(a=s.modelsBindable.base).length;n<o;n++)e=a[n].author,this.proofingClientIdList.has(e.id)||this.proofingClientList.add(e),this.proofingClientIdList.add(e.id),e.id===t&&"all_clients"!==t?(this.selectedAssetsForFiltering.add(r),l.push(i.push(r))):l.push(void 0);return l}))},u=r=>{var n,s;return n=r.getCommentsHref(e),(s=new gl(n)).allP().then((()=>{var e,n,o,a,l;for(l=[],n=0,o=(a=s.modelsBindable.base).length;n<o;n++)e=a[n].author,this.proofingClientIdList.has(e.id)||this.proofingClientList.add(e),this.proofingClientIdList.add(e.id),e.id===t&&"all_clients"!==t?(this.commentedAssetsForFiltering.add(r),l.push(i.push(r))):l.push(void 0);return l}))},o=0,a=r.length;o<a;o++)n=r[o],t?(n.getLikesCount(e)>0&&("all_clients"===t&&(this.selectedAssetsForFiltering.add(n),i.push(n)),this.selectedPromises.push(c(n))),n.getCommentCount(e)>0&&("all_clients"===t&&(this.commentedAssetsForFiltering.add(n),i.push(n)),this.commentedPromises.push(u(n)))):(l=n.getLikesCount(e),n.isLikedByUser(e)&&(l-=1),this.reviewSelectedCount+=l,s=n.getCommentCount(e),(l>0||s>0)&&i.push(n));return this.selectAndCommentPromises=this.selectedPromises.concat(this.commentedPromises),wl.when(...this.selectAndCommentPromises).always((()=>this.proofingAssetsDeferred=null)).then((function(){return i.sort((function(t,r){return r.getLikesCount(e)-t.getLikesCount(e)}))}))}))}async deleteRedundantLayoutSegmentsJP(){var e,t,r,n,i,s;for(r=new Set,i=null,t=0,n=(s=this.models).length;t<n;t++)(e=s[t]).isLayoutSegment()?(null!=i&&(i.layoutSegmentHasText?e.layoutSegmentHasText||r.add(e.id):r.add(i.id)),i=e):i=null;if(r.size>0)return await this.deleteAssetIdsP(Array.from(r))}async deleteAllLayoutSegmentsJP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,r,n,i,s,o;for(i=[],r=n=0,s=(o=this.models).length;n<s;r=++n)t=o[r],e&&0===r||t.isLayoutSegment()&&i.push(t.id);if(i.length>0)return await this.deleteAssetIdsP(i)}validateLayoutSegmentsJP(){var e,t,r,n,i,s;for(s=[],t=r=0,n=(i=this.models).length;r<n;t=++r)(e=i[t]).isLayoutSegment()?s.push(e.migrateNameToTitleP()):s.push(void 0);return s}}return e.prototype.model=el,e.prototype.modelName="CatalogAlbumAsset",e.prototype.debouncedRequests={},e}.call(void 0),Al=class extends Xa{setAttributes(e){var t;return this.order=null!=(t=e.payload)?t.order:void 0,super.setAttributes(e)}markAssetsDirty(){return super.markAssetsDirty()}getOrder(){return this.order||""}_getAssetsLink(){return`${this.linkHref("self")}/assets`}_refreshP(e){return e=e||`${this.href}?embed=spaces;asset`,super._refreshP(e)}};var xl=[].indexOf;const Sl=function(){class e extends Al{_createDefaultAssetOptions(){return{embed:"spaces;asset",order_after:"-",subtype:"image;video",exclude:"incomplete"}}removeManyAssetsP(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var r,n,i,s,o;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.assets.deleteAssetsP(e,t):(n=e.length>0&&("string"==typeof e[0]||e[0]instanceof String)?e:e.map((function(e){return e.id})),o=null!=(r=null!=(s=this.getAttribute("payload").cover)?s.id:void 0)&&xl.call(n,r)>=0,i=this.assets.deleteManyP(e,"removeAssetsFromAlbum"),o?i.then((()=>this.deleteAlbumCoverP())):i)}isShared(){return!0}}return e.prototype.assetListClass=Pl,e}.call(void 0);var Cl=r(93155);const Ol=function(){var e,t,r,s;let o=(e=class extends Ui{constructor(e){super(),(0,b.Z)(this,"initialized",t,this),(0,b.Z)(this,"requestQueue",r,this),(0,b.Z)(this,"allPProgress",s,this),this.loadAlbumsCallback=e,this.albums=[],this.reset()}_addAssets(e){var t,r,n,s,o;if(i.Z.is_enabled("asset_store"))for(r=0,s=e.length;r<s;r++)t=e[r],this._add(t.aquire());else for(n=0,o=e.length;n<o;n++)t=e[n],this._add(t);return this.totalCount=this.length=this._models.length}reset(){return null==this.albums?this:this._dirty?(super.reset(),this.initialized=!1,this):this}_setupFetchUrls(){var e,t,r,n;for(this.fetchUrls=[],t=0,n=[];t<this.albums.length;)e=Math.min(this.albums.length,t+this.albumsPerFetch),r=this.albums.slice(t,e).map((function(e){return e.id})),this.fetchUrls.push($.catalogContext.href+`/albums/assets?album_ids=${r.join("%2C")}`),n.push(t+=this.albumsPerFetch);return n}_setupNextFetchUrl(){return this.fetchUrl=this.fetchUrls.shift()}_fetchP(){return null==this.fetchUrl?Cl.Deferred().reject().promise():this.fetching?this.fetching:(this.fetching=this.requestP("GET",this.fetchUrl)).always((()=>this.fetching=void 0)).fail(((e,t,r)=>(null!=this.modelName?this.reportOzFailure(`fetchP${this.modelName}Failure`,e,t,r):this.reportOzFailure("fetchPFailure",e,t,r),this._dirty=!0))).done((e=>{var t,r,n,i,s;if(t=this._addFetchedData(e),this.page++,0===t.length?this.fetchUrl=void 0:(n=null!=(i=e.links)&&null!=(s=i[this.nextPageLink||"next"])?s.href:void 0,r=new ht(e.base),this.fetchUrl=r.fullHref(n),null==this.fetchUrl&&this._setupNextFetchUrl()),null==this.fetchUrl)return this.finished=!0,this.totalCount=this._models.length}))}fetchP(){var e;return this.initialized?this.finished?Cl.Deferred().reject().promise():this.fetching?this.fetching.promise():((e=this.fetching=this._fetchP()).fail((()=>this._dirty=!0)).always((()=>this.fetching=void 0)),e):this.loadAlbumsCallback().then((e=>(this.albums=e,this._setupFetchUrls(),this._setupNextFetchUrl(),this.initialized=!0,this.fetchP())))}_addFetchedData(e){var t,r,n,s,o,a,l,u,c,h,d,p;for(o=s=0,u=(n=e.albums).length;s<u;o=++s)if(r=n[o],null!=(t=null!=(d=this.albums)?d.find((function(e){return e.id===r.id})):void 0))for(l=0,c=(p=r.resources).length;l<c;l++)(a=p[l]).base=e.base,h=null!=this.model.store&&i.Z.is_enabled("asset_store")?this.model.store.aquireItem(a,this):new this.model(a,this),t.assets._add(h),o<n.length-1&&(t.assets.finished=!0),this._add(h);return n}_fetchAndAddAllP(e){return null==e?Cl.Deferred().reject().promise():this.requestWithRetryP("GET",e,void 0,void 0,1).fail(((e,t,r)=>(null!=this.modelName?this.reportOzFailure(`fetchP${this.modelName}Failure`,e,t,r):this.reportOzFailure("fetchPFailure",e,t,r),this._dirty=!0))).then((e=>{var t,r,n,s,o;return t=e.albums.reduce((function(e,t){return e+t.resources.length}),0),this.allPProgress+=e.albums.length/this.albums.length*100,i.Z.is_enabled("debug_best_photos")&&console.log(`Adding ${t} assets from ${e.albums.length} albums, ~${this.allPProgress.toFixed(0)}% done`),this._addFetchedData(e),n=null!=(s=e.links)&&null!=(o=s.next)?o.href:void 0,!(r=new ht(e.base).fullHref(n))||this._fetchAndAddAllP(r)}))}_parallelAllP(){var e,t,r;if(!this.initialized)return this.loadAlbumsCallback().then((e=>(this.albums=e,this._setupFetchUrls(),this.initialized=!0,this._parallelAllP())));if(this.finished)return Cl.Deferred().reject().promise();for(this.allPProgress=0,this.requestQueue=new Nn(this.maxParallelFetches),t=e=>()=>this._fetchAndAddAllP(e);this.fetchUrls.length>0;)r=this.fetchUrls.shift(),this.requestQueue.enqueuePromise(t(r));return(e=this.requestQueue.promise()).fail((()=>this._dirty=!0)).done((()=>this.finished=!0)).always((()=>this.requestQueue=null)),e}async allJP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return await this.allP(e)}allP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?this.finished?Cl.Deferred().resolve(this.models.slice(0)).promise():this._parallelAllP().then((()=>this.allP(e))):super.allP()}totalCountP(){var e,t,r,n,i,s;for(t=Cl.Deferred(),i=[],r=0,n=(s=this.albums).length;r<n;r++)e=s[r],i.push(e.assets.totalCountP());return Cl.when(...i).then((()=>{var r,n,i;for(this.totalCount=0,r=0,n=(i=this.albums).length;r<n;r++)e=i[r],this.totalCount+=e.assets.totalCount;return t.resolve(this.totalCount)})).fail((()=>t.reject())),t.promise()}get hasLoadingProgress(){return null!=this.requestQueue}createP(e,t){if(i.Z.is_enabled("debug"))return console.log("createP is unimplemented in this paged list")}_addCreatedP(e){if(i.Z.is_enabled("debug"))return console.log("_addCreatedP is unimplemented in this paged list")}deleteP(e){if(i.Z.is_enabled("debug"))return console.log("deleteP is unimplemented in this paged list")}},t=(0,n.Z)(e.prototype,"initialized",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),r=(0,n.Z)(e.prototype,"requestQueue",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,n.Z)(e.prototype,"allPProgress",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e);return o.prototype.model=el,o.prototype.modelName="CatalogAlbumAsset",o.prototype.albumsPerFetch=10,o.prototype.maxParallelFetches=5,o}.call(void 0),Dl=function(){class e extends rl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r;null==t&&(t={subtype:"topic",order_after:"-"}),super(e,t),r=()=>this.allP(),this.allAssets=new Ol(r)}setParentAlbum(e){return this.parentAlbum=e,this}get assets(){return this.allAssets}addAlbum(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var r,n,i,s,o,a;if(this.get(e.id)&&this._delete(this.index(e.id)),!t)for(t=0,r=0,n=(i=this.models).length;r<n&&!(i[r].getOrder()>e.getOrder());r++)++t;return this._models.splice(t,0,e),this._reindex(t),this.length=this.models.length,"cluster"===(null!=(s=this.parentAlbum)?s.getSubtype():void 0)?null!=(o=this.allAssets)?o.markDirty():void 0:null!=(a=this.allAssets)?a.reinitialize(this.models):void 0}getAssetPosition(e){var t,r,n,i,s,o,a;for(t=n=0,s=this.length;n<s;t=n+=1)for(r=i=0,o=(a=this.at(t)).assets.length;i<o;r=i+=1)if(a.assets.at(r).id===e)return[t,r]}getTopicAlbumContaining(e){var t,r;if([t,r]=this.getAssetPosition(e),t>=0)return this.at(t)}getAssetAt(e,t){var r;return null!=(r=this.at(e))?r.assets.at(t):void 0}getAssetPositionBefore(e){var t,r;return[r,t]=this.getAssetPosition(e),--t<0&&--r,r<0?null:[r,t]}getAssetBefore(e){var t;return(t=this.getAssetPositionBefore(e))?this.getAssetAt(...t):null}getAssetPositionAfter(e){var t,r;return[r,t]=this.getAssetPosition(e),++t>=this.at(r).length&&++r,r>=this.length?null:[r,t]}getAssetAfter(e){var t;return(t=this.getAssetPositionAfter(e))?this.getAssetAt(...t):null}markAssetsDirty(){var e,t,r,n;for(e=0,t=(r=this.models).length;e<t;e++)r[e].assets.markDirty();return null!=(n=this.allAssets)?n.markDirty():void 0}resetAssets(){var e,t,r,n,i;for(t=0,r=(n=this.models).length;t<r;t++)(e=n[t]).assets.reset(e.assets.options);return null!=(i=this.allAssets)?i.reset():void 0}areAssetsDirty(){var e,t;return null!=(e=null!=(t=this.allAssets)?t.isDirty():void 0)&&e}areAllAssetsLoaded(){var e,t;return null!=(e=null!=(t=this.allAssets)?t.finished:void 0)&&e}get totalCount(){var e;return(null!=(e=this.allAssets)?e.finished:void 0)?this.allAssets.length:0}set totalCount(e){}loadAssetsP(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(this.markAssetsDirty(),this.resetAssets()),this.allAssets.allP(e)}}return e.prototype.model=Al,e.prototype.modelName="TopicAlbum",e}.call(void 0),kl=function(){class e extends Dl{getCreateHref(){return`${$.catalogContext.href}/albums/${this.createUuid()}`}}return e.prototype.model=Sl,e.prototype.modelName="CatalogTopicAlbum",e}.call(void 0);var Il,Tl;const El=(Il=class extends Br{constructor(){super(...arguments),(0,b.Z)(this,"user",Tl,this)}setAttributes(e){return super.setAttributes(e),null!=e.user&&(this.user=new un(e.user)),this}_refreshP(e){return e=e||`${this.href}?embed=user`,super._refreshP(e)}getFullName(){return this.attributes.full_name}async _setAbandonedJP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;var t,r,n,s,o,a;try{return(o={payload:{status:"abandoned"}}).payload.userUpdated=(new Date).toISOString(),await this.requestJP("POST",this.href,JSON.stringify(o)),be.report("setStatusAbandoned")}catch(o){n=o,[t,s,a]=n,i.Z.is_enabled("debug")&&Ue._forceFailNextRequest&&(e=2),(r=e<2&&(0===s||s>=500))?be.report("setStatusAbandonedRetry"):this.reportOzFailure("setStatusAbandonedFailure",t,s,a);try{if(r)return this._setAbandonedJP(e+1)}catch(e){}}}async setAbandonedJP(){return await this._setAbandonedJP()}isContributorRole(){return"accepted"===this.attributes.payload.status&&"contributor"===this.attributes.payload.role}isEditorRole(){return"accepted"===this.attributes.payload.status&&"editor"===this.attributes.payload.role}canContribute(){return this.isContributorRole()||this.isEditorRole()}canEdit(){return this.isEditorRole()}get role(){return this.attributes.payload.role}},Tl=(0,n.Z)(Il.prototype,"user",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Il),jl=class extends El{get status(){return this.attributes.payload.status}get userCreated(){return new Date(this.attributes.payload.userCreated)}async setRoleViewerJP(){return await this.updateAttributesP("setUserRoleViewer",{payload:{role:"viewer"}})}async setRoleContributorJP(){return await this.updateAttributesP("setUserRoleContributor",{payload:{role:"contributor"}})}async setRoleEditorJP(){return await this.updateAttributesP("setUserRoleEditor",{payload:{role:"editor"}})}async setStatusRemovedJP(){return await this.updateAttributesP("setUserStatusRemoved",{payload:{status:"removed"}})}};var Rl,Zl,Nl;const Fl=(Rl=class extends Br{constructor(){super(...arguments),(0,b.Z)(this,"user",Zl,this),(0,b.Z)(this,"spaceUser",Nl,this)}setAttributes(e){return super.setAttributes(e),null!=e.user&&(this.user=new un(e.user)),null!=e.space_user&&(this.spaceUser=new jl(e.space_user)),this}_refreshP(e){return e=e||`${this.href}?embed=user`,super._refreshP(e)}get status(){return this.attributes.payload.status}get role(){if(null!=this.attributes.payload.role)return this.attributes.payload.role}async acceptJP(){var e,t;for(e=await this.safeToJSPromise(this.updateAttributesP("inviteRequestAccept",{payload:{status:"approved",role:"viewer"}})),t=1e3;t<64e3&&(await this.refreshP(),null==this.attributes.space_user);)t*=2;return e}async declineJP(){return await this.updateAttributesP("inviteRequestDecline",{payload:{status:"rejected"}})}async setRoleViewerJP(){return await this.updateAttributesP("inviteRoleViewer",{payload:{role:"viewer"}})}async setRoleContributorJP(){return await this.updateAttributesP("inviteRoleContributor",{payload:{role:"contributor"}})}async setRoleEditorJP(){return await this.updateAttributesP("inviteRoleEditor",{payload:{role:"editor"}})}isSingleUse(){return"single_use"===this.attributes.subtype}isRequest(){return"request"===this.attributes.subtype}getEmail(){var e;return null!=(e=this.attributes.payload)?e.email:void 0}},Zl=(0,n.Z)(Rl.prototype,"user",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nl=(0,n.Z)(Rl.prototype,"spaceUser",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rl),Ll=function(){class e extends Ui{createP(e){var t;return t={subtype:"single_use",payload:{status:"open",role:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"viewer",email:e}},super.createP(this.getCreateHref(),t)}async createJP(e,t){return await this.createP(e,t)}getCreateHref(){return`${new URL(this.href).pathname}/${this.createUuid()}`}_deleteP(e){var t,r;return r=this.index(e),t=this.at(r).href,this.requestP("DELETE",t).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r)))}async deleteAllJP(){var e,t,r,n,i,s,o;if(this.models.length>0){for(s=[],n=[],this.models.forEach((e=>(n.push(e.id),s.push(this._deleteP(e.id))))),await Promise.all(s),o=[],e=0,i=n.length;e<i;e++)r=n[e],null!=(t=this.index(r))?o.push(this._delete(t)):o.push(void 0);return o}}}return e.prototype.model=Fl,e.prototype.modelName="CatalogSpaceInvite",e}.call(void 0),$l=function(){class e extends Ui{}return e.prototype.model=un,e.prototype.modelName="User",e}.call(void 0),Ml=function(){class e extends $l{}return e.prototype.model=El,e.prototype.modelName="SpaceUser",e}.call(void 0),Ul=function(){class e extends Ml{_deleteP(e){var t,r;return r=this.index(e),t=this.at(r).href,this.requestP("DELETE",t).fail(((e,t,r)=>null!=this.modelName?this.reportOzFailure(`delete${this.modelName}Failure`,e,t,r):this.reportOzFailure("deleteOzResourceFailure",e,t,r)))}async deleteAllJP(){var e,t,r,n,i,s,o;if(this.models.length>0){for(n=[],o=[],this.models.forEach((e=>(o.push(e.id),n.push(this._deleteP(e.id))))),await Promise.all(n),i=[],e=0,r=o.length;e<r;e++)s=o[e],null!=(t=this.index(s))?i.push(this._delete(t)):i.push(void 0);return i}}}return e.prototype.model=jl,e.prototype.modelName="CatalogSpaceUser",e}.call(void 0);var zl,ql,Hl=r(93155);const Bl=(zl=class extends xi{constructor(e){super(),(0,b.Z)(this,"_models",ql,this),this.initializedWithAssetsP=Hl.Deferred(),this._dirty=!0,this.reset(),this.addAssets(e)}setAssets(e){return this._dirty=!0,this.reset(),this.addAssets(e)}addAssets(e){var t,r,n;if(null!=e){for(r=0,n=e.length;r<n;r++)t=e[r],this._add(t);return this.totalCount=e.length,this.initializedWithAssetsP.resolve()}}reset(){return this._dirty?(null!=this._models?this._models.splice(0,this._models.length):this._models=new wt,this.indices={},this.page=0,this.pageSize=100,this.finished=!0,this.length=0,this.totalCount=null,this._dirty=!1,this):this}fetchP(){return this.finished||console.log("Finished is not true in LocalPagedlist"),Hl.Deferred().reject().promise()}async allJP(){return await this.allP()}allP(){return Hl.Deferred().resolve(this.models.slice(0)).promise()}indexP(e){return this.initializedWithAssetsP.then((()=>super.indexP(e)))}get assets(){return this}},ql=(0,n.Z)(zl.prototype,"_models",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zl);var Wl,Jl,Vl,Gl,Xl,Yl=r(93155);Gl=function(e){return e.asset.base=e.base};const Kl=Xl=_(Xs)((Jl=class extends Vs{constructor(e){var t;Gl(e),super(e.asset),(0,b.Z)(this,"hackSpaceContext",Vl,this),this.albumAssetRelativeUrl=e.links.self.href,this.order=null!=(t=e.payload)?t.order:void 0}refreshP(){var e,t;return e={embed:"asset;user"},t=this._linkBase.fullHref(this.albumAssetRelativeUrl)+"?"+Yl.param(e),this.requestP("GET",t).done((e=>{var t;return this.order=null!=(t=e.payload)?t.order:void 0,Gl(e),this.setAttributes(e.asset)}))}setHackSpaceContext(e){this.hackSpaceContext=e}setRatingP(e){return console.error("if you implement this be sure you understand the confusing rating model")}setRatingJP(e){return console.error("if you implement this be sure you understand the confusing rating model")}setFlagP(e){return console.error("if you implement this be sure you understand the confusing review model")}setFlagJP(e){return console.error("if you implement this be sure you understand the confusing review model")}getRating(){var e,t,r;return null==(r=null!=(e=this.hackSpaceContext)&&null!=(t=e.owner)?t.id:void 0)?(console.error("SpaceAsset.getRating ownerAccountId not retrievable"),0):super.getRating(r)}getFlag(){var e,t,r;return null==(r=null!=(e=this.hackSpaceContext)&&null!=(t=e.owner)?t.id:void 0)?(console.error("SpaceAsset.getFlag ownerAccountId not retrievable"),0):super.getFlag(r)}getOrder(){return this.order||""}getReportAbuseHref(){return`/abuse_reports?asset-href=${this.linkFullPath("self")}`}getLikesCount(){var e,t;return i.Z.is_enabled("lots_of_likes")?7*(null!=(e=this.attributes.links["/rels/favorites"])?e.count:void 0):null!=(t=this.attributes.links["/rels/favorites"])?t.count:void 0}getLikesHref(){return this.linkHref("/rels/favorites")}_getLikeUrl(){return this.linkHref("/rels/this_user_favorite")}isLiked(){return this.getLikesCount()>0}isLikedByUser(){return this.isLiked()&&null!=this._getLikeUrl()}likeP(){return this.requestP("PUT",`${this.getLikesHref()}/${this.createUuid()}`,"{}")}unLikeP(){var e;if(null!=(e=this._getLikeUrl()))return this.requestP("DELETE",e,"{}")}getCommentCount(){var e;return null!=(e=this.attributes.links["/rels/comments"])?e.count:void 0}getCommentsHref(){return this.linkHref("/rels/comments")}hasComments(){return this.getCommentCount()>0}},Vl=(0,n.Z)(Jl.prototype,"hackSpaceContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wl=Jl))||Wl;Xl.pollAssetUntilAvailableJP=function(e){var t,r;return r=!1,t=!1,Vs.pollAssetUntilCheckJP(Vs,e,(function(e){return!!e.hasAnyRendition()||(r?t:(r=!0,setTimeout((function(){return t=!0}),5e3),!1))}))};const Ql=function(){var e,t;let r=(e=class extends sl{constructor(){super(...arguments),(0,b.Z)(this,"hackSpaceContext",t,this)}setHackSpaceContext(e){var t,r,n,i,s;if(this.hackSpaceContext!==e){for(this.hackSpaceContext=e,s=[],r=0,n=(i=this.models).length;r<n;r++)t=i[r],s.push(t.setHackSpaceContext(e));return s}}_add(){return(arguments.length<=0?void 0:arguments[0]).setHackSpaceContext(this.hackSpaceContext),super._add(...arguments)}getReviewedAssetLikeCountP(e){return this.allP().then((t=>{var r,n;for(this.reviewSelectedCount=0,r=0,n=t.length;r<n;r++)t[r].isLikedByUser(e)&&(this.reviewSelectedCount+=1);return this.reviewSelectedCount}))}},t=(0,n.Z)(e.prototype,"hackSpaceContext",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return r.prototype.model=Kl,r.prototype.modelName="SpaceAsset",r}.call(void 0),eu=function(){class e extends Xa{setAttributes(e){return super.setAttributes(e)}_createDefaultAssetOptions(){return{embed:"asset",order_after:"-",exclude:"incomplete",subtype:this.hasDisplaySettings()?"image;video;layout_segment":"image;video"}}set assets(e){return this._assets=e}get assets(){return this.getAssets(this._defaultAssetOptions)}getAssets(){var e;return(e=super.getAssets(...arguments)).setHackSpaceContext(this.getAnySpaceHack()),e}_getAssetsLink(){return`${this.linkHref("self")}/assets`}isShared(){return!0}getGalleryLink(){var e;return null!=(e=this.attributes.payload)?e.web_space_href:void 0}getName(e){var t,r;return t=(null!=(r=this.attributes.payload)?r.name:void 0)||"",null!=e&&t.length>e&&(t=t.substr(0,e)),t}getReportAbuseHref(){return`/abuse_reports?album-href=${this.linkFullPath("self")}`}getChildAlbumsLink(){return this.linkHref("/rels/child_albums")}getSpace(){var e,t,r,n,i;if(null==this.spaces)return null;for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("gallery"!==(i=(n=this.spaces.at(t)).getSubType())&&"review"!==i)return n}setSpace(e){return null==this.spaces&&(this.spaces=new Bl([])),this.spaces.addAssets([e]),this.spaces}getReviewSpace(){return null}getAnySpaceHack(){return null!=this.spaces?this.spaces.at(0):null}}return e.prototype.coverClass=Qs,e.prototype.assetListClass=Ql,e}.call(void 0);var tu=r(93155);const ru=function(){class e extends Ui{createManyP(e,t){var r,n;return r=`${e.href}/resources`,n={resources:t},this.requestP("PUT",r,JSON.stringify(n)).done((()=>this.markDirty())).fail(((e,t,r)=>this.reportOzFailure("addSpaceAlbumResourcesFailure",e,t,r)))}createP(e,t){var r,n,i;return n=`${e.href}/resources`,i=`/v2/spaces/${e.id}/albums/${t.id}`,r={resources:[t]},super.createP(n,r,i)}deleteManyP(e,t){var r,n;return n={resource_ids:t.join(";")},r=`${e}/resources?`+tu.param(n),this.requestP("DELETE",r).done((()=>{var e,r,n,i,s;for(s=[],e=0,i=t.length;e<i;e++)r=t[e],null!=(n=this.index(r))?s.push(this._delete(n)):s.push(void 0);return s})).fail(((e,t,r)=>this.reportOzFailure("deleteSpaceAlbumResourcesFailure",e,t,r)))}}return e.prototype.model=eu,e.prototype.modelName="SpaceAlbum",e}.call(void 0);var nu,iu,su,ou,au,lu,uu,cu,hu=r(93155);const du=(nu=class extends Br{constructor(e,t){super(e),(0,b.Z)(this,"albums",iu,this),(0,b.Z)(this,"userAndOwnerRefreshPromise",su,this),(0,b.Z)(this,"owner",ou,this),(0,b.Z)(this,"user",au,this),(0,b.Z)(this,"users",lu,this),(0,b.Z)(this,"inMaintenance",uu,this),(0,b.Z)(this,"inInvalid",cu,this),null==this.users&&(this.users=new Ml(`${this.linkHref("self")}/users?embed=user`))}get author(){var e;return null!=(e=this.attributes.payload.profile_info)?e.author:void 0}get description(){var e;return null!=(e=this.attributes.payload.profile_info)?e.description:void 0}get firstAlbum(){var e;return null!=(e=this.albums)?e.at(0):void 0}setAttributes(e){var t,r,n,i,s,o,a,l,u,c,h;if(super.setAttributes(e),(null!=(u=e.resources)?u.length:void 0)>0){for(r=[],i=0,a=(c=e.resources).length;i<a;i++)"album"===(h=c[i]).type&&(h.base=e.base,(t=new eu(h)).setSpace(this),r.push(t));if(null!=this.albums){for(s=o=0,l=r.length;o<l;s=++o)if(t=r[s],(n=this.albums.at(s)).id!==t.id||n.attributes.updated!==t.attributes.updated){r.length>0&&(this.albums=new Bl(r));break}}else r.length>0&&(this.albums=new Bl(r))}return null==this.albums&&(this.albums=new ru(this.linkHref("/rels/space_resources"))),null!=e.space_user&&(e.space_user.base=e.base,this.user=new El(e.space_user)),null!=e.owner&&(e.owner.base=e.base,this.owner=new un(e.owner)),this}webHref(){return this.linkHref("/rels/web_space")}hasCatalog(){var e;return null!=(null!=(e=this.attributes.links)?e["/rels/catalog"]:void 0)}isOwner(){return this.hasCatalog()}hasLegacyFilters(){return!0!==this.attributes.payload.presentationFilters}getSubType(){return this.attributes.subtype}getSharesHref(){return`${window.location.origin}/shares/${this.id}`}_refreshP(e){return e="shared"===this.getSubType()?e||`${this.href}?embed=owner%3Bspace_user%3Bfirst_resource`:e||`${this.href}?embed=owner%3Bspace_user`,super._refreshP(e).then((()=>{if(this.inMaintenance)return this.inMaintenance=!1})).fail(((e,t,r)=>{if(503===t&&(this.inMaintenance=!0),404===t)return this.isInvalid=!0}))}ensureUserAndOwnerP(){return null!=this.userAndOwnerRefreshPromise?this.userAndOwnerRefreshPromise:null!=this.user&&null!=this.owner||this.inMaintenance||this.isInvalid?hu.Deferred().resolve():(this.userAndOwnerRefreshPromise=this.refreshP(),this.userAndOwnerRefreshPromise.always((()=>this.userAndOwnerRefreshPromise=null)))}ensureUserAndOwnerJP(){return this.safeToJSPromise(this.ensureUserAndOwnerP())}hasDefaultBehanceAvatar(e){return-1!==e.indexOf("no-image")}getAvatarHref(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"large";var t,r,n,i;if(({host:r}=ls),({ownerId:n}=window.SharesConfig),r&&n)return i=e=>e<10?`0${e}`:`${e}`,`${r}/v2/avatars/${n}/${(t=new Date).getFullYear()}${i(t.getMonth()+1)}${i(t.getDate())}000000/${e}`}downloadEnabled(){var e;return!0===this.attributes.payload.download||!0===(null!=(e=this.user)?e.canEdit():void 0)}isPrivate(){return!0===this.attributes.payload.private}isMetadataVisible(){var e;return!0===this.attributes.payload.metadata||!0===(null!=(e=this.user)?e.canEdit():void 0)}isLocationVisible(){var e;return!0===this.attributes.payload.location||!0===(null!=(e=this.user)?e.canEdit():void 0)}isReview(){var e;return"review"===(null!=(e=this.attributes)?e.subtype:void 0)&&!this.isPrivate()}getReviewCount(){var e,t;return null!=(null!=(e=this.attributes.payload)?e.count:void 0)&&(null!=(t=this.attributes.payload)?t.count:void 0)>0?this.attributes.payload.count:null}hasReviewCount(){return this.getReviewCount>0}isGallerySpace(){var e;return"gallery"===(null!=(e=this.attributes)?e.subtype:void 0)}_isCommentsFavoritesDisabled(e){return!(!this.isGallerySpace()||null!=e)||e}isCommentsDisabled(){return this._isCommentsFavoritesDisabled(this.attributes.payload.comments_disabled)}isFavoritesDisabled(){return this._isCommentsFavoritesDisabled(this.attributes.payload.favorites_disabled)}commentsAndLikesEnabled(){return!(!0===this.attributes.payload.comments_disabled||!0===this.attributes.payload.favorites_disabled)}async _ensureUploadPermissionsJP(){var e;return await this.ensureUserAndOwnerJP(),(null!=(e=this.user)?e.canContribute():void 0)||this.isOwner()?null==this.owner?Promise.reject("The owner info must be loaded"):"shared"!==this.getSubType()?Promise.reject("Only shared subtype spaces can be contributed to."):null==this.firstAlbum?Promise.reject("This space has no space album to contribute to."):void 0:Promise.reject("You must have contribute access to the space")}async copyAssetToSpaceJP(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];var n,s,o,a,l,u,c,h,d,p,f,g,m,y,v,b,w,_,P;return await this._ensureUploadPermissionsJP(),e.hasExternalDevelopSettings()&&(l=await e.getDevelopSettingsP()),delete(d=e.cloneAttributes().payload).copy,null!=(f=d.importSource)&&delete f.localAssetId,null!=(g=d.importSource)&&delete g.lrcatStoreProviderId,null!=(m=d.importSource)&&delete m.lrcatImageId,null!=(y=d.importSource)&&delete y.status,0===Object.keys(null!=(v=d.importSource)?v:{}).length&&delete d.importSource,delete d.autoTags,delete d.aesthetics,delete d.bestFrame,delete d.blur,delete d.cropHints,delete d.quality,delete d.changedAtTime,delete d.changedOnDevice,delete d.stacks,delete d.ratings,r.includes("ratings")||0!==e.getRating()&&(d.ratings={},d.ratings[this.owner.id]={rating:e.getRating(),date:(new Date).toISOString()}),delete d.reviews,r.includes("reviews")||"unflagged"!==e.getFlag()&&(d.reviews={},d.reviews[this.owner.id]={flag:e.getFlag(),date:(new Date).toISOString()}),r.includes("location")&&(delete d.location,null!=(null!=(b=d.xmp)?b.iptcCore:void 0)&&(delete d.xmp.iptcCore.CountryCode,delete d.xmp.iptcCore.Location,0===Object.keys(d.xmp.iptcCore).length&&delete d.xmp.iptcCore),null!=(null!=(w=d.xmp)?w.photoshop:void 0)&&(delete d.xmp.photoshop.City,delete d.xmp.photoshop.Country,delete d.xmp.photoshop.State,0===Object.keys(d.xmp.photoshop).length&&delete d.xmp.photoshop)),r.includes("keywords")&&null!=(null!=(_=d.xmp)?_.dc:void 0)&&(delete d.xmp.dc.subject,0===Object.keys(d.xmp.dc).length&&delete d.xmp.dc),(h=We()({},{payload:d},sl.defaultPayloadForNewAsset(t))).subtype=e.attributes.subtype,h.captureDate=e.attributes.captureDate,o=this.createUuid(),s=`/v2/spaces/${this.id}/assets/${o}`,P=this.createUuid(),n=`${this.firstAlbum.href}/assets/${o}/revisions/${P}`,await this.requestJP("PUT",n,JSON.stringify(h)),null!=l&&(i.Z.is_enabled("debug")&&console.log("Copying asset with external develop settings..."),a=`${s}/revisions/${P}/xmp/develop`,await this.requestJP("PUT",a,l,{contentType:"application/rdf+xml"})),e.hasMaster()?(c=`${s}/revisions/${P}/master`,u={"X-Generate-Renditions":"all","X-Async-Copy":!0},e.isPhoto()&&(u["X-Generate-Proxies"]="all"),r.length>0&&(u["X-Redact-Meta"]=r.join(",")),await this.requestJP("PUT",`${c}`,JSON.stringify({file_href:e.linkFullPath("/rels/master")}),{headers:u})):e.isProxyOnly()&&(p=`${s}/revisions/${P}/proxies/${this.createUuid()}`,await this.requestJP("PUT",`${p}`,JSON.stringify({file_href:e.linkFullPath("/rels/proxy_type/2560")}),{headers:{"X-Generate-Renditions":"all","X-Async-Copy":!0}})),await Kl.pollAssetUntilAvailableJP(s),this.firstAlbum.markAssetsDirty(!0)}createNewEmptyAssetP(e,t,r,n){var i;return i=hu.Deferred(),this._ensureUploadPermissionsJP().then((()=>{var s,o,a,l,u,c;return null==n?i.reject("You must provide a batch time for uploads."):((u=sl.defaultPayloadForUpload(e,n)).subtype=Qr.ozSubtype(e),u.payload.captureDate="0000-00-00T00:00:00",u.payload.importSource.importedBy=r.id,null!=t&&(u.payload.importSource.sha256=t),a=this.createUuid(),o=`/v2/spaces/${this.id}/assets/${a}`,c=this.createUuid(),s=`${this.firstAlbum.href}/assets/${a}/revisions/${c}`,l=`${o}/revisions/${c}`,this.requestP("PUT",s,JSON.stringify(u)).then((()=>i.resolve(l,a))).fail(((e,t,r)=>i.reject(e,t,r))))}),(e=>i.reject(e))),i.promise()}getSlideshowEmbedHref(e){return null==e?`${window.location.origin}/embed/shares/${this.id}/slideshow?background_color=%23191919&color=%23cccdcd`:"Light"===e.getPresentationStyleId()?`${window.location.origin}/embed/shares/${this.id}/slideshow?background_color=%23FBFBFB&color=%23707070`:`${window.location.origin}/embed/shares/${this.id}/slideshow?background_color=%232D2D2D&color=%23999999`}getSlideshowEmbedCode(e){return`<div class='lr_embed' style='position: relative; padding-bottom: 50%; height: 0; overflow: hidden;'><iframe id='iframe' src='${this.getSlideshowEmbedHref(e)||""}' frameborder='0'style='width:100%; height:100%; position: absolute; top:0; left:0;' ></iframe></div>`}},iu=(0,n.Z)(nu.prototype,"albums",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),su=(0,n.Z)(nu.prototype,"userAndOwnerRefreshPromise",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ou=(0,n.Z)(nu.prototype,"owner",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),au=(0,n.Z)(nu.prototype,"user",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lu=(0,n.Z)(nu.prototype,"users",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uu=(0,n.Z)(nu.prototype,"inMaintenance",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),cu=(0,n.Z)(nu.prototype,"inInvalid",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nu);var pu,fu,gu,mu,yu,vu;let bu=(pu=nr.byVal,fu=class extends sr{constructor(){super(...arguments),(0,b.Z)(this,"private",gu,this)}},gu=(0,n.Z)(fu.prototype,"private",[pu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fu),wu=(mu=nr.byRef(bu),yu=class extends qr{constructor(){super(...arguments),(0,b.Z)(this,"payload",vu,this)}},vu=(0,n.Z)(yu.prototype,"payload",[mu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yu);var _u=r(93155);const Pu=function(){var e,t;let r=(e=class extends du{constructor(){super(...arguments),(0,b.Z)(this,"invites",t,this)}setAttributes(e){return super.setAttributes(e),null==this.invites&&(this.invites=new Ll(`${this.linkHref("self")}/invites?embed=user`)),null!=this.users?this.users:this.users=new Ul(`${this.linkHref("self")}/users?embed=user`)}async loadAllInvitesAndUsersJP(){var e;return(e=[]).push(this.invites.allJP()),e.push(this.users.allJP()),await Promise.all(e)}hasShortWebHref(){var e;return(null!=(e=this.webHref())?e.length:void 0)<30}pollForShortWebHrefP(){var e,t,r;return e=_u.Deferred(),this.hasShortWebHref()?e.resolve():(r=0,(t=()=>(r++,this.refreshP().done((()=>!this.hasShortWebHref()&&r<5?setTimeout(t,350):this.hasShortWebHref()?e.resolve():(be.reportFailure("pollForShortUrlFailure"),e.reject()))).fail((()=>e.reject()))))()),e.promise()}getFilterFlags(){var e;return(null!=(e=this.attributes.payload.filters)?e.flags:void 0)||[]}enableNewPresentationFiltersP(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.updateAttributesP("enableSpacePresentationFilters",{payload:{presentationFilters:e}})}setDownloadEnabledP(e){return this.downloadEnabled()===e?_u.Deferred().resolve():this.updateAttributesP("setSpaceDownloadEnabled",{payload:{download:e}})}async setAllowInviteRequestsJP(e){if("shared"===this.attributes.subtype)return await this.updateAttributesP("setAllowInviteRequests",{payload:{allowInviteRequests:e}})}get allowInviteRequests(){return!0===this.attributes.payload.allowInviteRequests}isOwner(){return!0}get hideUrl(){return!0===this.attributes.payload.hide_url}async reenableProofingJP(e){return await this.updateAttributesP("reshareAlbum",{payload:e})}async disableProofingJP(e){return await this.updateAttributesP("unshareAlbum",{payload:e})}},t=(0,n.Z)(e.prototype,"invites",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return r.prototype.attributeClass=wu,r}.call(void 0);var Au,xu,Su=r(93155);const Cu=(Au=class extends Bl{constructor(e){super(),(0,b.Z)(this,"_models",xu,this)}reset(){return this._dirty?(this._models=new wt,this.indices={},this.page=0,this.pageSize=100,this.finished=!1,this.length=0,this.totalCount=null,this._dirty=!1,this):this}fetchP(){return this.finished?Su.Deferred().reject().promise():Su.Deferred()}get assets(){return this}},xu=(0,n.Z)(Au.prototype,"_models",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Au);var Ou=r(93155),Du=[].indexOf;const ku=function(){var e,t,r,s,o,a,l,u;let c=(e=class e extends Xa{constructor(){super(...arguments),(0,b.Z)(this,"currentProofingClient",t,this),(0,b.Z)(this,"isProofLoading",r,this),(0,b.Z)(this,"proofingClientList",s,this),(0,b.Z)(this,"selectedAssetsForFiltering",o,this),(0,b.Z)(this,"commentedAssetsForFiltering",a,this),(0,b.Z)(this,"spaces",l,this),(0,b.Z)(this,"reviewAssets",u,this)}_getAttributesMiddleware(){return[nl(this)]}setAttributes(e){var t;if(super.setAttributes(e),"cluster"===this.getSubtype()&&(this.attributes.incomplete=e.incomplete),"cluster"!==(t=this.getSubtype())&&"project"!==t||null!=this.topics||(this.topics=this._createTopics()),this._initSpaces(),i.Z.is_enabled("collaborative_proofing"))return null==this.reviewAssets&&(this.reviewAssets=new Cu),this.reviewAssets.space=this.spaces}markAssetsDirty(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var t;return super.markAssetsDirty(e),null!=(t=this.topics)?t.markAssetsDirty():void 0}_createDefaultAssetOptions(){return{embed:"asset;spaces;user",order_after:"-",subtype:"image;video",exclude:"incomplete"}}_createTopics(){return new kl(this.linkHref("/rels/child_albums")).setParentAlbum(this)}set assets(e){return this._assets=e}get assets(){var e;return this.isCluster()||this.isProjectV1()?null!=(e=this.topics)?e.assets:void 0:this.getAssets(this._defaultAssetOptions)}_initSpaces(){var e,t,r,n,i;if(this.spaces=new wt,null!=this.attributes.spaces){for(n=[],e=0,t=(r=this.attributes.spaces).length;e<t;e++)(i=r[e]).base=this.attributes.base,n.push(this.spaces.push(new Pu(i)));return n}}hasOpenInviteRequests(){var e;return(null!=(e=this.getSpace())?e.invites.length:void 0)>0&&e.invites.models.filter((e=>e.isRequest()&&"open"===e.status)).length>0}isSharePublic(){var e;return null!=(e=this.getSpace())&&!e.isPrivate()}isShared(){var e;return null!=(e=this.getSpace())&&(!e.isPrivate()||!(!e.allowInviteRequests&&e.hideUrl)||null!=e.users&&null!=e.users.modelsBindable.find((e=>"accepted"===e.status))||null!=e.invites&&null!=e.invites.modelsBindable.find((e=>"open"===e.status)))}async isSharedJP(){var e;return!!this.isShared()||null!=(e=this.getSpace())&&(await e.loadAllInvitesAndUsersJP(),this.isShared())}getFilterFlags(){var e,t;return e=[],null!=(t=this.getSpace())&&(e=t.getFilterFlags()),e}getSpace(){var e,t,r,n,i;if(null==this.spaces)return null;for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("gallery"!==(i=(n=this.spaces.at(t)).getSubType())&&"review"!==i)return n}async hasAnyRejectedAssetsJP(){var e;return e={flag:"reject",subtype:"image;video",limit:1},(await this.getAssets(e,!0).pageP(0)).length>0}async canSafelyConvertLegacyShareFiltersJP(){var e,t,r;return null!=(r=this.getSpace())&&r.hasLegacyFilters()?0===(e=this.getFilterFlags()).length||3===e.length?(t=await this.hasAnyRejectedAssetsJP(),Promise.resolve(!t)):1===e.length&&e.includes("pick")||e.includes("pick")&&e.includes("unflagged")?Promise.resolve(!0):Promise.resolve(!1):Promise.resolve(!1)}async safeConvertLegacyShareFiltersJP(){var e,t,r,n;return null!=(r=this.getSpace())&&r.hasLegacyFilters()&&await this.canSafelyConvertLegacyShareFiltersJP()?(1===(t=this.getFilterFlags()).length&&t.includes("pick")?(e=this.updateAttributesP("safeConvertFilters",{presentation:{filters:{pickedOnly:!0}}}),n=r.enableNewPresentationFiltersP(),await Ou.when([e,n]),be.report("albumSafeLegacyFilterConversion",{pickedOnly:!0})):(await r.enableNewPresentationFiltersP(),be.report("albumSafeLegacyFilterConversion")),Promise.resolve()):Promise.reject()}hasPublicReview(){var e,t;return e=!1,null!=(t=this.getReviewSpace())&&(e=!t.isPrivate()),e}getReviewSpace(){var e,t,r,n;if(null==this.spaces)return null;for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("review"===(n=this.spaces.at(t)).getSubType())return n}hasGallerySpace(){var e,t,r;if(null!=this.spaces)for(t=e=0,r=this.spaces.length;e<r;t=e+=1)if("gallery"===this.spaces.at(t).getSubType())return!0}updateAttributeP(e,t,r){var n;return(n={})[t]=r,super.updateAttributeP(e,"payload",n)}renameP(e){return this.updateAttributesP("renameAlbum",{payload:{name:e}})}async setNameJP(e){return await this.renameP(e)}async setStoryTitleJP(e){return await this.updateAttributesP("setAlbumTitle",{payload:{story:{title:e}}})}async deleteStoryTitleJP(){return await this.updateAttributesP("setAlbumTitle",{payload:{story:{title:null}}})}async setStoryAuthorJP(e){return await this.updateAttributesP("setAlbumAuthor",{payload:{story:{author:e}}})}async deleteStoryAuthorJP(){return await this.updateAttributesP("setAlbumAuthor",{payload:{story:{author:null}}})}reparentP(e){return null!=e?this.updateAttributesP("reparentAlbum",{payload:{parent:{id:e}}}):this.updateAttributesP("reparentAlbum",{payload:{parent:null}})}setSlideshowSettingsP(e){var t;return t=this.getSlideshowSettings(),Ou.extend(t,e),this.updateAttributesP("setSlideshowSettings",{payload:{presentation:{slideshow:e}}})}setPresentationSettingsP(e){var t;return t=this.getPresentationSettings(),Ou.extend(!0,t,e),this.updateAttributesP("setPresentationSettings",{payload:{presentation:e}})}setPresentationFilterPickedOnlyP(e){return this.updateAttributesP("setPresentationFilterPickedOnlyP",{payload:{presentation:{filters:{pickedOnly:e}}}}).then((()=>this.markFilteredAssetsDirty()))}setPresentationFilterRatingAtLeastP(e){var t;return t=0===e?"clearPresentationFilterRatingAtLeastP":"setPresentationFilterRatingAtLeastP",this.updateAttributesP(t,{payload:{presentation:{filters:{ratingAtLeast:e}}}}).then((()=>this.markFilteredAssetsDirty()))}clearPresentationFilterSettingsP(){return this.updateAttributesP("clearPresentationFiltersP",{payload:{presentation:{filters:null}}}).then((()=>this.markFilteredAssetsDirty()))}saveCoverSettingsP(e){var t;return t=this.getCoverSettings(),Ou.extend(t,e),this.updateAttributesP("setCoverSettings",{payload:{presentation:{cover:e}}})}resetCoverCropSettingsP(){return this.updateAttributesP("setCoverCropSettings",{payload:{presentation:{cover:{cropHints:{}}}}})}hideInOrganizeP(){return this.updateAttributesP("hideInOrganize",{payload:{hideInOrganize:!0,parent:null}})}showInOrganizeP(){return this.updateAttributesP("hideInOrganize",{payload:{hideInOrganize:!1}})}deleteSpaceP(e){return this.requestP("DELETE",e.href).then((()=>(this.markAssetsDirty(),this.refreshP())))}async createSpaceJP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shared";var r,n,i,s,o,a,l,u,c;if(!["review","shared"].includes(t))throw"This method needs to be updated for the new space subtype";s=this._linkBase.fullHref(`spaces/${this.createUuid()}`),u=(new Date).toISOString(),e.userCreated=u,e.userUpdated=u,o={payload:e,subtype:t,resources:[{id:this.id,type:"album"}]},this.markAssetsDirty();try{i={"If-None-Match":this.id},await this.requestJP("PUT",s,JSON.stringify(o),{headers:i}),await this.refreshP(),a="shared"===t?this.getSpace():this.getReviewSpace();try{return await a.pollForShortWebHrefP()}catch(e){}}catch(e){if(r=e,[n,l,c]=r,412!==l)throw this.reportOzFailure("createSpaceFailure",n,l,c),r;if(await this.refreshP(),null==(a="shared"===t?this.getSpace():this.getReviewSpace()))throw this.reportOzFailure("createSpace412RefreshFailure",n,l,c),r}}createSpaceP(e){var t;return t=Ou.Deferred(),this.createSpaceJP.then((e=>t.resolve(e)),(e=>t.reject(e))),t.promise()}_getAssetsLink(){return this.linkHref("self")+"/assets"}hasAssetsP(e){return e=Ou.extend({limit:1},e),new Pl(this._getAssetsLink(),e).pageP(0).then((e=>e.length>0))}removeManyAssetsP(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,n,s,o,a;return n=e.length>0&&("string"==typeof e[0]||e[0]instanceof String)?e:e.map((function(e){return e.id})),s=t?this.assets.deleteAssetsP(e):this.assets.deleteManyP(n,"removeAssetsFromAlbum"),i.Z.is_enabled("remove_photos_from_display_fix")?(this.assetsIdsRemoved(n,!0),s):(a=null!=(r=null!=(o=this.getAttribute("payload").cover)?o.id:void 0)&&Du.call(n,r)>=0,this.markAssetsDirty(),a?s.then((()=>this.deleteAlbumCoverP())):s)}assetsIdsRemoved(e){var t,r,n,i,s;if((s=null!=(r=null!=(n=this.getAttribute("payload").cover)?n.id:void 0)&&Du.call(e,r)>=0)&&this.deleteAlbumCoverP(),null!=(t=null!=(i=this._coverFallbackAsset)?i.id:void 0)&&Du.call(e,t)>=0||s)return this.markAssetsDirty(!0)}deleteAssetsLocally(e){return this.assets.deleteLocally(e)}coverIsSet(){return null!=this.getAttribute("payload").cover}setAlbumCoverP(e){var t,r;return null!=e?(t={}).id=e:t=null,r=Ou.Deferred().resolve().promise(),Ou.when(this.updateAttributesP("setAlbumCover",{payload:{cover:t}}),r).done((()=>null!=e?i.Z.is_enabled("remove_photos_from_display_fix")?this.assets.getP(t.id).done((e=>this._setCover(e))):this._setCover(this.assets.get(t.id)):this._setCover(null)))}async setAlbumCoverJP(e){return await this.setAlbumCoverP(e)}deleteAlbumCoverP(){return this._setCover(null),this.updateAttributesP("deleteAlbumCover",{payload:{cover:null}})}addAsset(e){var t;return(t=new el(e)).refreshP().done((()=>{if(!(this.assets.index(t.id)>=0))return this.assets._add(t)}))}_refreshP(e){return e=e||`${this.href}?embed=spaces`,super._refreshP(e)}isProjectV1(){var e,t,r,n,i,s;return null!=(null!=(e=this.attributes)&&null!=(t=e.payload)&&null!=(r=t.presentation)?r.portfolio:void 0)||"project"===this.getSubtype()&&1===(null!=(n=this.attributes)&&null!=(i=n.payload)&&null!=(s=i.publishInfo)?s.version:void 0)}isCluster(){return"cluster"===this.getSubtype()}createClustersP(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";var r,n;return r=`${this.href}/clusters`,t.length>0&&(r+=`?${t}`),n={},i.Z.is_enabled("best_photos_trust_oz_ignore_ratings_flags")&&(n={weights:{importance_weights:{rating:[0,0,0,0,0,0],hasTitle:0,hasCaption:0,flags:{pick:0,reject:0,unflagged:0}}}}),this.requestP("POST",r,JSON.stringify(n)).then((function(t,r,n){var s,o;return o=n.getResponseHeader("Location"),s=new e(o),i.Z.is_enabled("debug_best_photos")&&(s.debugClusterRequestId=n.getResponseHeader("x-request-id")),s}))}refreshUntilClusteringCompletesP(e){var t,r,n,s,o;return t=Ou.Deferred(),r=1e3,s=0,o=0,(n=()=>null==e||e()?r*s>=18e4?(be.report("bestPhotosClusterTimeout"),void t.reject("timeout")):this.refreshP().done((()=>(o=0,++s,!0===this.attributes.incomplete||i.Z.is_enabled("best_photos_load_forever")?(i.Z.is_enabled("debug")&&console.log("Still clustering."),setTimeout(n,r)):(i.Z.is_enabled("debug")&&console.log("Clustering complete!"),t.resolve())))).fail((()=>++o<=2?(be.report("bestPhotosClusterRefreshRetry"),setTimeout(n,r)):(be.report("bestPhotosClusterFail"),t.reject("fail")))):t.reject("aborted"))(),t.promise()}loadClustersP(){return this.topics.loadAssetsP(!1,!0)}getReviewedAssetsP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all_clients";var r;return null!=(r=this.getReviewSpace())?(this.isProofLoading=!0,e&&this.assets.markDirty().reset(),this.reviewAssets.markDirty().reset(),this.assets.getReviewedAssetsP(r,t).done((e=>(this.proofingClientList=this.assets.proofingClientList,this.selectedAssetsForFiltering=this.assets.selectedAssetsForFiltering,this.commentedAssetsForFiltering=this.assets.commentedAssetsForFiltering,this.reviewAssets.addAssets(e)))).always((()=>(this.currentProofingClient=t,this.reviewAssets.finished=!0,this.isProofLoading=!1)))):(this.reviewAssets.finished=!0,Ou.Deferred().resolve([]).promise())}splitAtAssetP(e,t,r,n){var i;return"first"===t?(i="left",e=this.assets.at(0).id):i=t,this.createNewLayoutSegmentP(e,i,r,n)}createNewLayoutSegmentP(e,t,r,n){var i,s,o;return s=this.createUuid(),i=`${$.catalogContext.href}/assets/${s}/revisions/${this.createUuid()}`,o={payload:{name:null!=r?r:"",description:null!=n?n:""},subtype:"layout_segment"},this.requestP("PUT",i,JSON.stringify(o)).then((()=>{var r,n;return(r=this.assets.index(e))>=0?(n=r,"right"===t&&n++,this.assets.addOrderedAssetIdsP([s],n)):Ou.Deferred().reject(`Unknown asset id ${e}`)}))}convertToDisplay(){var e;if(0===this.attributes.payload.presentation.explore.version&&this.attributes.dispatch("convertToDisplay"),1===(null!=(e=this.attributes.payload.presentation.slideshow)?e.version:void 0))return this.setSlideshowSettingsP(this.getSlideshowSettings().convertV1Properties().toJSON())}},t=(0,n.Z)(e.prototype,"currentProofingClient",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r=(0,n.Z)(e.prototype,"isProofLoading",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,n.Z)(e.prototype,"proofingClientList",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=(0,n.Z)(e.prototype,"selectedAssetsForFiltering",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=(0,n.Z)(e.prototype,"commentedAssetsForFiltering",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=(0,n.Z)(e.prototype,"spaces",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,n.Z)(e.prototype,"reviewAssets",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),e);return c.prototype.coverClass=Qs,c.prototype.assetListClass=Pl,c}.call(void 0),Iu=function(){class e extends rl{_add(e,t){var r,n,i,s,o;if(t){for(i=0,n=(o=this.models).length-1;i<=n;)if(s=Math.floor(i+(n-i)/2),(r=bo.localeCompare(o[s],e))<0)i=s+1;else{if(!(r>0))break;n=s-1}return this._models.splice(i,0,e),this._reindex(i)}return super._add(e)}deleteP(e){var t,r;if(null!=(r=(t=this.get(e)).getSpace()))this.requestP("DELETE",r.href).fail(((e,t,r)=>this.reportOzFailure("deleteSpaceForAlbumDeleteFailure",e,t,r)));else if(t.isCluster()||t.isProjectV1())return super.deleteP(e,{child_albums:!0});return super.deleteP(e)}getTotalCountHref(){return"topic"===this.options.subtype?`${this.href}/count?subtype=topic`:`${this.href}/count?subtype=collection`}}return e.prototype.model=ku,e.prototype.modelName="CatalogAlbum",e}.call(void 0);var Tu,Eu;const ju=(Tu=class extends Br{constructor(){super(...arguments),(0,b.Z)(this,"albums",Eu,this)}setAttributes(e){return super.setAttributes(e),null!=this.albums?this.albums:this.albums=new ru(this.linkHref("/rels/space_resources"))}addManyResourcesP(e){return this.albums.createManyP(this,e)}addResourceP(e){return this.albums.createP(this,e)}getResourcesP(){return this.albums.reset(),this.albums.allP()}deleteManyResourcesP(e){return this.albums.deleteManyP(this.href,e)}webHref(){return this.linkHref("/rels/web_space")}getLongWebHref(){return`${this._linkBase.hostUrl}/gallery/${this.id}`}getAuthor(){var e,t,r;return null!=(e=null!=(t=this.attributes.payload)&&null!=(r=t.profile_info)?r.author:void 0)?e:""}getDescription(){var e,t,r;return null!=(e=null!=(t=this.attributes.payload)&&null!=(r=t.profile_info)?r.description:void 0)?e:""}},Eu=(0,n.Z)(Tu.prototype,"albums",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tu);var Ru=r(93155);const Zu=function(){class e extends Ui{createNewGallerySpaceP(e){var t,r;return r=`${this.href}/${this.createUuid()}`,t={payload:{download:!1,location:!1,metadata:!1,private:!1,gallery_type:"public_profile",profile_info:{author:e},comments_disabled:!0,favorites_disabled:!0},subtype:this.subtype,resources:[]},this.createP(r,t)}deleteAllGallerySpacesP(){return this.allP().then((e=>{var t,r,n,i,s;for(i=[],t=0,r=e.length;t<r;t++)s=e[t],n=this.deleteP(s.id),i.push(n);return Ru.when(...i)}))}}return e.prototype.model=ju,e.prototype.modelName="CatalogGallerySpace",e.prototype.subtype="gallery",e}.call(void 0),Nu=class extends Vs{setAttributes(e){return super.setAttributes(e),this.name=e.payload.name,this}getName(){return this.name}},Fu=function(){class e extends pl{constructor(e){super(e,{subtype:"person"})}getNameForId(e){var t;return(null!=(t=this.get(e))?t.getName():void 0)||""}}return e.prototype.model=Nu,e.prototype.modelName="CatalogPerson",e}.call(void 0),Lu=class extends Xa{setAttributes(e){var t;return this.order=null!=(t=e.payload)?t.order:void 0,super.setAttributes(e)}getOrder(){return this.order||""}},$u=function(){class e extends rl{constructor(e){super(e,{subtype:"collection_set"})}}return e.prototype.model=Lu,e.prototype.modelName="CollectionSetAlbum",e}.call(void 0),Mu=function(){class e extends Lu{reparentP(e){return null!=e?this.updateAttributesP("reparentFolder",{payload:{parent:{id:e}}}):this.updateAttributesP("reparentFolder",{payload:{parent:null}})}}return e.prototype.assetListClass=Pl,e}.call(void 0),Uu=function(){class e extends $u{}return e.prototype.model=Mu,e.prototype.modelName="CatalogCollectionSetAlbum",e}.call(void 0);var zu,qu,Hu,Bu,Wu,Ju,Vu,Gu,Xu,Yu,Ku,Qu,ec,tc=r(93155);new RegExp("/albums/([0-9a-f]{32})");const rc=(zu=class extends Br{constructor(){super(...arguments),(0,b.Z)(this,"photoCount",qu,this),(0,b.Z)(this,"videoCount",Hu,this),(0,b.Z)(this,"photoExcludedIncompleteCount",Bu,this),(0,b.Z)(this,"videoExcludedIncompleteCount",Wu,this),(0,b.Z)(this,"photoDeletedCount",Ju,this),(0,b.Z)(this,"videoDeletedCount",Vu,this),(0,b.Z)(this,"countsDirty",Gu,this),(0,b.Z)(this,"incompleteCountsDirty",Xu,this),(0,b.Z)(this,"deletedCountsDirty",Yu,this),(0,b.Z)(this,"allPhotosRestoreInProgress",Ku,this),(0,b.Z)(this,"peopleCount",Qu,this),(0,b.Z)(this,"peopleCountDirty",ec,this)}get assetCount(){return this.photoCount+this.videoCount}get assetIncompleteCount(){return this.photoExcludedIncompleteCount+this.videoExcludedIncompleteCount}get assetDeletedCount(){return this.photoDeletedCount+this.videoDeletedCount}get assetDeletedCountsLoaded(){return!this.deletedCountsDirty}get assetIncompleteCountsLoaded(){return!this.incompleteCountsDirty}get assetCountsLoaded(){return!this.countsDirty}get assetPeopleCount(){return this.peopleCount}setAttributes(e){if(super.setAttributes(e),null==this.assets&&(this.assets=new pl(`${this.linkHref("self")}/assets`,{subtype:"image;video"})),null==this.albums&&(this.albums=new Iu(`${this.linkHref("self")}/albums`,{subtype:"collection",embed:"spaces",limit:500})),null==this.collectionSetAlbums&&(this.collectionSetAlbums=new Uu(`${this.linkHref("self")}/albums`)),this.cachedAssets={},this.cachedSearchAssets={},this.catalogUpdates=new hl(this.linkHref("/rels/updates")),null==this.gallerySpaces&&(this.gallerySpaces=new Zu(`${this.linkHref("self")}/spaces`,{subtype:"gallery"})),i.Z.is_enabled("face_detection"))return null==this.persons&&(this.persons=new Fu(`${this.linkHref("self")}/assets`)),this.persons.allP()}getPersonAssets(){return null==this.personAssets&&(this.personAssets=new Fu(`${this.linkHref("self")}/assets`)),this.personAssets}getImageAssets(){return null==this.photoAssets&&(this.photoAssets=new pl(`${this.linkHref("self")}/assets`,{subtype:"image"})),this.photoAssets}getProjectAlbums(){return null!=this.projectAlbums?this.projectAlbums:this.projectAlbums=new Iu(`${this.linkHref("self")}/albums`,{subtype:"project"})}getClusterAlbums(){return new Iu(`${this.linkHref("self")}/albums`,{subtype:"cluster"})}cleanupClusterAlbumsP(){var e;return(e=this.getClusterAlbums()).allP().done((()=>{var t,r,n,s,o,a,l;for(e.models.sort((function(e,t){return t.getOzCreatedDate()-e.getOzCreatedDate()})),t=e.models.slice(5,7),i.Z.is_enabled("debug")&&console.log(`Cleaning up ${t.length} albums`),o=t.map((function(e){return e.id})),r=t=>()=>e.deleteP(t),l=new Nn(1),n=0,a=o.length;n<a;n++)s=o[n],l.enqueuePromise(r(s));return l.promise().done((function(){if(i.Z.is_enabled("debug"))return console.log("Done cleaning up clusters.")}))}))}getName(){return this.attributes.name}getAssets(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r,n,i;return n=Rn()(e),i=null!=(r=this.cachedAssets)[n]?r[n]:r[n]=new pl(`${this.href}/assets`,e),t&&i.reset(),i}getSearchAssets(e,t,r,n){var i,s,o;return o={search:e,filters:t},null!=r&&null!=n&&(o.sortOrderBy=r,o.sortOrderDirection=n),s=Rn()(o),null==(i=this.cachedSearchAssets)[s]&&(i[s]=new po(this,e,t,r,n)),this.cachedSearchAssets[s]}markSearchAssetsDirty(){return this.cachedSearchAssets={}}markAssetsDirty(){var e,t,r,n,i;for(t in null!=(r=this.assets)&&r.markDirty(),this.countsDirty=!0,this.incompleteCountsDirty=!0,this.deletedCountsDirty=!0,this.allPhotosRestoreInProgress=!0,this.cachedSearchAssets={},i=[],n=this.cachedAssets)e=n[t],i.push(e.markDirty());return i}assetUpdated(){return this.trigger("assetUpdated")}allCountsP(){return null!=this.loadingCountsP?this.loadingCountsP:this.countsDirty?this.loadingCountsP=this.requestP("GET",`${this.href}/assets/count?subtype=image%3Bvideo&exclude=incomplete`).then((e=>{var t,r;return this.photoCount=(null!=e&&null!=(t=e.subtype_counts)?t.image:void 0)||0,this.videoCount=(null!=e&&null!=(r=e.subtype_counts)?r.video:void 0)||0,this.countsDirty=!1,this.allPhotosRestoreInProgress=!1,[this.photoCount,this.videoCount]})).always((()=>this.loadingCountsP=void 0)):tc.Deferred().resolve([this.photoCount,this.videoCount])}errorCountsP(){return null!=this.loadingErrorCountsP?this.loadingErrorCountsP:this.incompleteCountsDirty?this.loadingErrorCountsP=this.requestP("GET",`${this.href}/assets/count?subtype=image%3Bvideo&exclude=complete`).then((e=>{var t,r;return this.photoExcludedIncompleteCount=(null!=e&&null!=(t=e.subtype_counts)?t.image:void 0)||0,this.videoExcludedIncompleteCount=(null!=e&&null!=(r=e.subtype_counts)?r.video:void 0)||0,this.incompleteCountsDirty=!1,[this.photoExcludedIncompleteCount,this.videoExcludedIncompleteCount]})).always((()=>this.loadingErrorCountsP=void 0)):tc.Deferred().resolve([this.photoExcludedIncompleteCount,this.videoExcludedIncompleteCount])}deletedCountsP(){return null!=this.loadingDeletedCountsP?this.loadingDeletedCountsP:this.deletedCountsDirty?this.loadingDeletedCountsP=this.requestP("GET",`${this.href}/assets/count?subtype=deleted_image%3Bdeleted_video`).then((e=>{var t,r;return this.photoDeletedCount=(null!=e&&null!=(t=e.subtype_counts)?t.deleted_image:void 0)||0,this.videoDeletedCount=(null!=e&&null!=(r=e.subtype_counts)?r.deleted_video:void 0)||0,this.deletedCountsDirty=!1,[this.photoDeletedCount,this.videoDeletedCount]})).always((()=>this.loadingDeletedCountsP=void 0)):tc.Deferred().resolve([this.photoDeletedCount,this.videoDeletedCount])}peopleCountP(){return null!=this.loadingPeopleCountP?this.loadingPeopleCountP:this.peopleCountDirty?this.loadingPeopleCountP=this.requestP("GET",`${this.href}/assets/count?subtype=person`).then((e=>{var t;return this.peopleCount=(null!=e&&null!=(t=e.subtype_counts)?t.person:void 0)||0,this.peopleCountDirty=!1,this.peopleCount})).always((()=>this.loadingPeopleCountP=void 0)):tc.Deferred().resolve([this.photoExcludedIncompleteCount,this.videoExcludedIncompleteCount])}getConnections(){var e,t;return(null!=(e=this.attributes.payload.settings)&&null!=(t=e.universal)?t.connections:void 0)||{}}addConnectionToSettingsP(e){var t,r,n,i,s,o;return(null!=(n=this.attributes.payload.settings)&&null!=(i=n.universal)&&null!=(s=i.connections)?s[e]:void 0)?tc.Deferred().resolve():(r=(new Date).toISOString(),(o={universal:{connections:{}}}).universal.connections[e]={created:r},t={payload:{settings:o}},this.updateAttributesP("catalogConnection",t))}removeConnectionFromSettingsP(e){var t,r,n,i,s;return(null!=(r=this.attributes.payload.settings)&&null!=(n=r.universal)&&null!=(i=n.connections)?i[e]:void 0)?((s={universal:{connections:{}}}).universal.connections[e]=null,t={payload:{settings:s}},this.updateAttributesP("catalogConnection",t)):tc.Deferred().resolve()}async submitSearchFeedbackJP(e){return await this.requestP("PUT",`${this.href}/feedback`,JSON.stringify(e))}},qu=(0,n.Z)(zu.prototype,"photoCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hu=(0,n.Z)(zu.prototype,"videoCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Bu=(0,n.Z)(zu.prototype,"photoExcludedIncompleteCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wu=(0,n.Z)(zu.prototype,"videoExcludedIncompleteCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ju=(0,n.Z)(zu.prototype,"photoDeletedCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vu=(0,n.Z)(zu.prototype,"videoDeletedCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Gu=(0,n.Z)(zu.prototype,"countsDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xu=(0,n.Z)(zu.prototype,"incompleteCountsDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yu=(0,n.Z)(zu.prototype,"deletedCountsDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ku=(0,n.Z)(zu.prototype,"allPhotosRestoreInProgress",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qu=(0,n.Z)(zu.prototype,"peopleCount",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ec=(0,n.Z)(zu.prototype,"peopleCountDirty",[A.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zu);var nc=r(93155);const ic=function(){class e extends Ui{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/v2/catalogs")}reset(e){return super.reset(nc.extend({role:"any",subtype:"lightroom;X-lightroom"},e))}createCatalogP(){var e,t;return null!=this.creating?this.creating:(t=`/v2/catalogs/${this.createUuid()}`,e={subtype:"lightroom",payload:{name:"lightroom"}},this.creating=this.createP(t,e).always((()=>this.creating=null)))}}return e.prototype.model=rc,e.prototype.modelName="Catalog",e}.call(void 0),sc=new class{getCatalogP(){if(this.catalogDeferred)return this.catalogDeferred.promise;this.catalogDeferred=new C.Z;let e=new ic(`${$.hostOverride}/v2/catalogs`);return e.fetchP().done((()=>{0===e.numLoaded()?this.catalogDeferred.reject("failed to load catalog"):this.catalogDeferred.resolve(e.at(0))})).fail((e=>{a.Z.noticeError(e),this.catalogDeferred.reject("failed to load catalog")})),this.catalogDeferred.promise}getProjectWithSourceAlbumIdForServiceIdP(e,t){return this.getProjectsForServiceIdP(t).then((t=>{let r;for(let n=t.length,i=0;i<n;i++){let n=t[i],s=n.attributes.payload.sourceAlbum,o=n.attributes.payload.publishInfo;if(s&&s.id===e&&!o.deleted){r=n;break}}return r}))}getProjectsP(){return this.getCatalogP().then((e=>e.getProjectAlbums().allP()))}getCollectionsP(){return this.getCatalogP().then((e=>e.albums.allP()))}getCollectionWithIdP(e){return this.getCatalogP().then((t=>t.albums.getP(e)))}getAssetsOfCollectionWithIdP(e){return this.getCollectionWithIdP(e).then((e=>(e.setDefaultAssetOptions({subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"}),e.assets.allP().then((t=>({album:e,assets:t}))))))}getProjectsForServiceIdP(e){return this.getProjectsP().then((t=>t.reduce(((t,r)=>{let n=r.attributes.payload.publishInfo;return n&&n.serviceId===e&&t.push(r),t}),[])))}publishProjectSnapshotOfCollectionWithIdForServiceIdP(e,t){return this.getProjectWithSourceAlbumIdForServiceIdP(e,t).then((r=>r?Promise.reject("source album is currently published"):this.getCatalogP().then((r=>r.albums.getP(e).then((e=>{if("collection"!==e.attributes.subtype)return Promise.reject("source album not of subtype collection");let n=r.getProjectAlbums(),i=[];return e.assets.allP().then((r=>{i=r.map((e=>e.id));let s=(new Date).toISOString(),o={subtype:"project",payload:{sourceAlbum:{id:e.id},publishInfo:{version:2,serviceId:t,created:s,updated:s}}},a=e.attributes.payload.cover;return a&&(o.payload.cover={id:a.id}),n.createP(e.name||e.id,o)})).then((e=>e.assets.addOrderedAssetIdsP(i,0).then((()=>e))))}))))))}republishSourceAlbumSnapshotOfProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>{let t=e.attributes.payload.sourceAlbum;return t?this.getCollectionWithIdP(t.id).then((t=>{let r={subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"};return e.setDefaultAssetOptions(r),t.setDefaultAssetOptions(r),Promise.all([e.assets.allP(),t.assets.allP()]).then((t=>{let r=t[0],n=t[1],i=r.map((e=>e.id)),s=n.map((e=>e.id));return e.removeManyAssetsP(i).then((()=>e.assets.addOrderedAssetIdsP(s,0).then((()=>{let t={payload:{publishInfo:{updated:(new Date).toISOString()}}};return e.updateAttributesP("setPublishInfo",t)}))))}))}),(t=>e)):e}))}getProjectWithIdForServiceIdP(e,t){return this.getProjectsForServiceIdP(t).then((t=>t.find((t=>t.id===e))||Promise.reject("no matching album")))}updateProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>{let t={payload:r};return e.updateAttributesP("setPublishInfo",t)}))}deleteProjectWithIdForServiceIdP(e,t){return this.getCatalogP().then((r=>this.getProjectWithIdForServiceIdP(e,t).then((e=>r.getProjectAlbums().deleteP(e.id)))))}deleteOrphanedProjectWithIdP(e){return this.getCatalogP().then((t=>this.getProjectsP().then((r=>(r.find((t=>t.id===e)),t.getProjectAlbums().deleteP(e))))))}getAssetsOfProjectWithIdForServiceIdP(e,t){return this.getProjectWithIdForServiceIdP(e,t).then((e=>(e.setDefaultAssetOptions({subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"}),e.assets.allP().then((t=>({album:e,assets:t}))))))}updateAssetsOfProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>(e.setDefaultAssetOptions({subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"}),e.assets.allP().then((t=>{let n=r.map((e=>({id:e.id,payload:e.infoOverlay})));return e.assets._bulkUpdateAttributesP(n)})))))}addAssetsToProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>e.assets.addOrderedAssetIdsP(r,0)))}removeAssetsFromProjectWithIdForServiceIdP(e,t,r){return this.getProjectWithIdForServiceIdP(e,t).then((e=>e.removeManyAssetsP(r)))}publishV1SnapshotOfAlbumWithIdForServiceIdP(e,t){return this.getProjectWithSourceAlbumIdForServiceIdP(e,t).then((r=>r?Promise.reject("source album is currently published"):this.getCatalogP().then((r=>r.albums.getP(e).then((e=>{if("collection"!==e.attributes.subtype)return Promise.reject("source album not of subtype collection");let n=r.getProjectAlbums();var i=[];return e.assets.allP().then((r=>{i=r.map((e=>e.id));let s=(new Date).toISOString(),o={subtype:"project",payload:{sourceAlbum:{id:e.id},publishInfo:{version:1,serviceId:t,created:s,updated:s}}};return n.createP(e.name||e.id,o)})).then((t=>{let r={subtype:"topic",payload:{order:"Uzzz",parent:{id:t.id}}},i=e.attributes.payload.cover;return i&&(r.payload.cover={id:i.id}),n.createP(e.name||e.id,r)})).then((e=>e.assets.addOrderedAssetIdsP(i,0).then((()=>e))))}))))))}deleteV1ProjectWithIdForServiceIdP(e,t){return this.getCatalogP().then((r=>this.getProjectWithIdForServiceIdP(e,t).then((e=>e.topics.allP().then((t=>r.getProjectAlbums().deleteP(e.id)))))))}deleteOrphanedTopicsP(){return this.getCatalogP().then((e=>{let t=new Iu(`${e.linkHref("self")}/albums`,{subtype:"topic"});return t.allP().then((e=>{let r=[];e.forEach((e=>{e.attributes.payload.parent||r.push(t.deleteP(e.id))}));let n=r.length;return Promise.all(r).then((function(){return"number of deleted topics without a parent: "+n}))}))}))}};var oc,ac,lc,uc,cc,hc,dc,pc,fc;const{LrSDK:gc}=window,mc=3e3;function yc(){return new Promise(((e,t)=>{let r=new ic(`${$.hostOverride}/v2/catalogs`);r.fetchP().done((()=>{if(0===r.numLoaded())t("failed to load catalog");else{let t=r.at(0),n=new Iu(`${t.linkHref("self")}/albums`,{});e(n)}})).fail((e=>{a.Z.noticeError(e),t("failed to load catalog")}))}))}function vc(e){return e.assets.allP().then((()=>{let t=e.attributes.toJSON();return t.resources=e.assets.models.map((e=>{let t=e.attributes.toJSON();return delete t.base,{asset:t}})),t}))}let bc=(oc=o("debug_projects"),ac=o("debug_projects"),lc=o("debug_projects"),uc=o("debug_projects"),cc=o("debug_projects"),hc=o("debug_projects"),dc=o("debug_projects"),pc=o("debug_projects"),fc=class extends st{initialize(e){try{if(e.features){let t=Object.getOwnPropertyNames(e.features);for(const r of t)i.Z._override(r,e.features[r])}He.Z.token=e.token,He.Z.environment=gc.environment,He.Z.clientId=e.clientId,He.Z.ozHost="prod"===gc.environment?"https://photos.adobe.io":"https://photos-stage.adobe.io",Le.reset(),$.hostOverride=He.Z.ozHost,le.Z.isReady||(le.Z.setGetTokenMethod((()=>this._token)),le.Z.setAuthReady()),st.setAuthHeaders(He.Z.token,He.Z.clientId),$.authErrorCallback=()=>a.Z.report("ozAuthError"),a.Z.reportApiCall("LrCatalog.initialize")}catch(e){a.Z.noticeError(e),console.log("Could not initialize LrCatalog",e)}e.disableAnalytics||(0,it.Z)(He.Z)}getEntitlementStatusP(){return a.Z.reportApiCall("LrCatalog.getEntitlementStatusP"),En.getCurrentP().then((e=>{let t;return e&&(t=e.getStatus()),t||"unknown"}))}isEmptyP(){return new Promise(((e,t)=>{let r=new ic(`${$.hostOverride}/v2/catalogs`);r.fetchP().done((()=>{let t=0===r.numLoaded();a.Z.report("isCatalogEmptyCheck",{value:t?"empty":"not empty"}),e(t)})).fail((t=>{a.Z.report("isCatalogEmptyCheck",{value:"missing"}),e(!0)}))}))}unpublishProjectP(e){return a.Z.reportApiCall("LrCatalog.unpublishProjectP"),yc().then((t=>t.getP(e).then((e=>"topic"===e.attributes.subtype&&e.attributes.payload.parent?t.getP(e.attributes.payload.parent.id).then((e=>{let t=(new Date).toISOString();return e.updateAttributesP("setPublishInfo",{payload:{publishInfo:{updated:t,deleted:!0}}}).then((()=>!0))})):function(e){if("project"!==e.attributes.subtype)return Promise.reject("not a valid project");let t=(new Date).toISOString();return e.updateAttributesP("setPublishInfo",{payload:{publishInfo:{updated:t,deleted:!0}}}).then((()=>!0))}(e)))))}republishProjectP(e){return a.Z.reportApiCall("LrCatalog.republishProjectP"),yc().then((t=>t.getP(e).then((e=>"topic"===e.attributes.subtype&&e.attributes.payload.parent?t.getP(e.attributes.payload.parent.id).then((r=>{let n=r.attributes.payload.sourceAlbum;return n?t.getP(n.id).then((t=>function(e,t){let r={subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"};return e.setDefaultAssetOptions(r),t.setDefaultAssetOptions(r),Promise.all([e.assets.allP(),t.assets.allP()]).then((r=>{let n=r[0],i=r[1],s=n.map((e=>e.id)),o=i.map((e=>e.id)),a=e.attributes.toJSON();return a.resources=t.assets.models.map((e=>{let t=e.attributes.toJSON();return delete t.base,{asset:t}})),e.removeManyAssetsP(s).then((()=>e.assets.addOrderedAssetIdsP(o,0).then((()=>a))))}))}(e,t).then((e=>{let t={payload:{publishInfo:{updated:(new Date).toISOString()}}};return r.updateAttributesP("setPublishInfo",t).then((()=>e))}))),(t=>vc(e))):vc(e)})):function(e,t){if("project"!==t.attributes.subtype)return Promise.reject("not a valid project");let r=t.attributes.payload.sourceAlbum;return r?e.getP(r.id).then((e=>function(e,t){let r={subtype:"image",embed:"asset",order_after:"-",exclude:"incomplete"};return e.setDefaultAssetOptions(r),t.setDefaultAssetOptions(r),Promise.all([e.assets.allP(),t.assets.allP()]).then((r=>{let n=r[0],i=r[1],s=n.map((e=>e.id)),o=i.map((e=>e.id)),a=t.assets.models.map((e=>{let t=e.attributes.toJSON();return delete t.base,{asset:t}}));return e.removeManyAssetsP(s).then((()=>e.assets.addOrderedAssetIdsP(o,0).then((()=>a))))}))}(t,e).then((e=>{let r={payload:{publishInfo:{updated:(new Date).toISOString()}}};return t.updateAttributesP("setPublishInfo",r).then((()=>{let r=t.attributes.toJSON();return r.resources=e,r}))}))),(e=>vc(t))):vc(t)}(t,e)))))}_isRenditionValidP(e){return Qe.Z.requestOzUrlP("HEAD",e).then((e=>!0)).catch((e=>!1))}get2560RenditionRelativeUrlP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.Z.reportApiCall("get2560RenditionRelativeUrlP");var n=t.links["/rels/rendition_type/2560"];if(n&&!n.invalid&&!r)return this._isRenditionValidP(e+n.href).then((r=>r?n.href:this.get2560RenditionRelativeUrlP(e,t,!0)));if(!t.links["/rels/master"]&&!t.links["/rels/proxy_type/2560"])return Promise.reject("no proxy or master file");if(!t.revision_ids||t.revision_ids.length<1)return Promise.reject("no revisions");let i=t.revision_ids[t.revision_ids.length-1],s=t.links["/rels/rendition_create"].href.replace("{revision_id}",i),o=e+s.replace("{rendition_id}","");return new Promise(((r,i)=>{var s=0;let a=e=>{(s+=mc)>=9e4?i("timed out"):setTimeout((()=>{Qe.Z.requestOzUrlP("HEAD",e).then((e=>{r(n.href)})).catch((t=>{a(e)}))}),mc)};Qe.Z.requestOzUrlP("POST",o,null,{"x-generate-renditions":"2560"}).then((r=>{(r=r.responseObject)&&r.links&&r.links["/rels/rendition_type/2560"]?(n=r.links["/rels/rendition_type/2560"],a(e+n.href)):i(`failed request to create rendition for asset id ${t.id}`)})).catch((e=>{i(`failed request to create rendition for asset id ${t.id}`)}))}))}getFullsizeRenditionRelativeUrlP(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.Z.reportApiCall("getFullsizeRenditionRelativeUrlP");let n=t.links["/rels/rendition_type/fullsize"];if(n&&!n.invalid&&!r)return this._isRenditionValidP(e+n.href).then((r=>r?n.href:this.getFullsizeRenditionRelativeUrlP(e,t,!0)));let i=t.links["/rels/master"];if(!i)return Promise.reject("no master file");if(!((t.payload||{}).develop||{}).xmpCameraRaw&&"image/jpeg"===i.content_type)return Promise.resolve(i.href);if(!t.revision_ids||t.revision_ids.length<1)return Promise.reject("no revisions");let s=t.revision_ids[t.revision_ids.length-1],o=t.links["/rels/rendition_create"].href.replace("{revision_id}",s),l=e+o.replace("{rendition_id}","");return new Promise(((r,i)=>{var s=0;let o=e=>{(s+=mc)>=9e4?i("timed out"):setTimeout((()=>{Qe.Z.requestOzUrlP("HEAD",e).then((e=>{r(n.href)})).catch((t=>{o(e)}))}),mc)};Qe.Z.requestOzUrlP("POST",l,null,{"x-generate-renditions":"fullsize"}).then((r=>{(r=r.responseObject)&&r.links&&r.links["/rels/rendition_type/fullsize"]?(n=r.links["/rels/rendition_type/fullsize"],o(e+n.href)):i(`failed request to create rendition for asset id ${t.id}`)})).catch((e=>{i(`failed request to create rendition for asset id ${t.id}`)}))}))}getImageP(e){return a.Z.reportApiCall("LrCatalog.getImageP"),Qe.Z.getOzUrlP(e,"blob").then((e=>e.response))}assetUrlP(e){return a.Z.reportApiCall("LrCatalog.assetUrlP"),new Promise(((t,r)=>{let n=new ic(`${$.hostOverride}/v2/catalogs`);n.fetchP().done((()=>{let r=n.at(0),i=r._linkBase.fullHref(`catalogs/${r.id}/assets/${e}`);t(i)})).fail((e=>{a.Z.noticeError(e),r(e)}))}))}getAssetP(e){return a.Z.reportApiCall("LrCatalog.getAssetP"),new Promise(((t,r)=>{this.requestP("GET",e).done((e=>{t(e)})).fail((e=>{a.Z.noticeError(e),r(e)}))}))}xmpForAssetP(e){return a.Z.reportApiCall("LrCatalog.xmpForAssetP"),new Promise(((t,r)=>{var n,i;let s=null===(n=e.payload)||void 0===n||null===(i=n.develop)||void 0===i?void 0:i.xmpCameraRaw;if(e.links["/rels/xmp"]){let n=`${e.base}${e.links["/rels/xmp"].href}`;this.requestP("GET",n,null,{contentType:null}).done((e=>{t(((e,t)=>{if(!e)return t;if(!t)return e;let n=new DOMParser,i=n.parseFromString(e,"text/xml"),s=i.documentElement.getElementsByTagName("parsererror");if(s&&s.length>0)return void r(s[0].innerText);let o=n.parseFromString(t,"text/xml");if(s=i.documentElement.getElementsByTagName("parsererror"),s&&s.length>0)r(s[0].innerText);else try{let e=i.getElementsByTagName("rdf:Description")[0]||i.getElementsByTagName("Description")[0],t=o.getElementsByTagName("rdf:Description")[0]||o.getElementsByTagName("Description")[0];for(const[r,n]of Object.entries(t.attributes))e.setAttribute(n.nodeName,n.nodeValue);for(;t.firstChild;)e.appendChild(t.firstChild);return(new XMLSerializer).serializeToString(i)}catch(e){throw new Error("Invalid XMP")}})(e,s))})).fail((e=>{a.Z.noticeError(e),r(e)}))}else t(s)}))}async publishProjectSnapshotOfCollectionWithIdP(e){a.Z.reportApiCall("LrCatalog.publishProjectSnapshotOfCollectionWithIdP");let t=await Ke.getProjectManagerP(),r=await t.createProjectFromCollectionWithIdP(e),n=(new Date).toISOString(),i={userUpdated:n,publishInfo:{created:n,updated:n}};return await t.updateProjectWithIdP(r,i),r}async republishSourceAlbumSnapshotOfProjectWithIdP(e){a.Z.reportApiCall("LrCatalog.republishSourceAlbumSnapshotOfProjectWithIdP");let t=await Ke.getProjectManagerP();await t.resetProjectWithIdFromSourceCollectionP(e);let r=(new Date).toISOString(),n={userUpdated:r,publishInfo:{updated:r}};return t.updateProjectWithIdP(e,n)}async getProjectsP(){return a.Z.reportApiCall("LrCatalog.getProjectsP"),(await Ke.getProjectManagerP()).getDeepCopyOfProjectListP()}async getProjectWithIdP(e){return a.Z.reportApiCall("LrCatalog.getProjectWithIdP"),(await Ke.getProjectManagerP()).getDeepCopyOfProjectWithIdP(e)}async getCollectionWithIdP(e){a.Z.reportApiCall("LrCatalog.getCollectionWithIdP");let t=await Ke.getCollectionWithIdP(e);return JSON.parse(JSON.stringify(t))}async getAssetsOfCollectionWithIdP(e){return a.Z.reportApiCall("LrCatalog.getAssetsOfCollectionWithIdP"),Ke.getAssetsOfCollectionWithIdP(e)}async createProjectWithAssetIdsP(e,t){return a.Z.reportApiCall("LrCatalog.createProjectWithAssetIdsP"),(await Ke.getProjectManagerP()).createProjectWithAssetIdsP(e,t)}async createProjectFromCollectionWithIdP(e){return a.Z.reportApiCall("LrCatalog.createProjectFromCollectionWithIdP"),(await Ke.getProjectManagerP()).createProjectFromCollectionWithIdP(e)}async resetProjectWithIdFromSourceCollectionP(e){return a.Z.reportApiCall("LrCatalog.resetProjectWithIdFromSourceCollectionP"),(await Ke.getProjectManagerP()).resetProjectWithIdFromSourceCollectionP(e)}async updateProjectWithIdP(e,t){return a.Z.reportApiCall("LrCatalog.updateProjectWithIdP"),(await Ke.getProjectManagerP()).updateProjectWithIdP(e,t)}async deleteProjectWithIdP(e){return a.Z.reportApiCall("LrCatalog.deleteProjectWithIdP"),(await Ke.getProjectManagerP()).deleteProjectWithIdP(e)}async getAssetsOfProjectWithIdP(e){return a.Z.reportApiCall("LrCatalog.getAssetsOfProjectWithIdP"),(await Ke.getProjectManagerP()).getAssetsOfProjectWithIdP(e)}async getUncachedProjectsP(){return(await Ke.getProjectManagerP()).getUncachedProjectsP()}async getUncachedProjectWithIdP(e){return(await Ke.getProjectManagerP()).getUncachedProjectWithIdP(e)}async deleteProjectWithIdForServiceIdP(e,t){return(await Ke.getProjectManagerForServiceIdP(t)).deleteProjectWithIdP(e)}async deleteChildAlbumsOfProjectWithIdForServiceIdP(e,t){return(await Ke.getProjectManagerForServiceIdP(t)).deleteChildAlbumsOfProjectWithIdP(e)}deleteOrphanedProjectWithIdP(e){return sc.deleteOrphanedProjectWithIdP(e)}publishV1SnapshotOfAlbumWithIdP(e){let t=He.Z.clientId;return sc.publishV1SnapshotOfAlbumWithIdForServiceIdP(e,t).then((e=>e.attributes.toJSON()))}deleteOrphanedTopicsP(){return sc.deleteOrphanedTopicsP()}selfTestP(e){return nt.runP(e)}},(0,n.Z)(fc.prototype,"getUncachedProjectsP",[oc],Object.getOwnPropertyDescriptor(fc.prototype,"getUncachedProjectsP"),fc.prototype),(0,n.Z)(fc.prototype,"getUncachedProjectWithIdP",[ac],Object.getOwnPropertyDescriptor(fc.prototype,"getUncachedProjectWithIdP"),fc.prototype),(0,n.Z)(fc.prototype,"deleteProjectWithIdForServiceIdP",[lc],Object.getOwnPropertyDescriptor(fc.prototype,"deleteProjectWithIdForServiceIdP"),fc.prototype),(0,n.Z)(fc.prototype,"deleteChildAlbumsOfProjectWithIdForServiceIdP",[uc],Object.getOwnPropertyDescriptor(fc.prototype,"deleteChildAlbumsOfProjectWithIdForServiceIdP"),fc.prototype),(0,n.Z)(fc.prototype,"deleteOrphanedProjectWithIdP",[cc],Object.getOwnPropertyDescriptor(fc.prototype,"deleteOrphanedProjectWithIdP"),fc.prototype),(0,n.Z)(fc.prototype,"publishV1SnapshotOfAlbumWithIdP",[hc],Object.getOwnPropertyDescriptor(fc.prototype,"publishV1SnapshotOfAlbumWithIdP"),fc.prototype),(0,n.Z)(fc.prototype,"deleteOrphanedTopicsP",[dc],Object.getOwnPropertyDescriptor(fc.prototype,"deleteOrphanedTopicsP"),fc.prototype),(0,n.Z)(fc.prototype,"selfTestP",[pc],Object.getOwnPropertyDescriptor(fc.prototype,"selfTestP"),fc.prototype),fc);gc.catalog||(gc.catalog=new bc),gc.provide&&gc.provide("catalog",gc.catalog),gc.catalog},260957:(e,t,r)=>{"use strict";r(724479),r(481458);var n=r(562399);const i=new class{constructor(){this.standAloneMode="stand-alone",this.embeddedMode="embedded",this.returnAfterSingleSelect=!1,this.singleSelect=!1,this.showConnectedProjects=!1,this.publishProjects=!1,this.ignorePublishedProjects=!1,this.softImportLimit=1/0,this.allowImportEntireAlbum=!1,this.headerStyle="full",this.mode=this.standAloneMode,this.externalUrlHandler=void 0,this.initialSearch=void 0,this.browseOnlyCollections=!1,this.showConnectedProjects=!1,this.browseProjectId=void 0,this.browseAlbums=!1,this.preferredLanguage=void 0,this.colorStop="dark"}};function s(e,t){return e.createElement(t)}function o(e,t){e.appendChild(t)}var a=r(798501),l=r.n(a),u=r(936544);class c{constructor(){this._index=[],this._regexps=[]}register(e,t){if(e instanceof RegExp)this._regexps.push({name:e,fn:t});else if(Array.isArray(e))for(var r=0,n=e.length;r<n;++r)this.register(e[r],t);else this._index["_"+e]=t}get(e){for(var t=this._regexps,r=0,n=t.length;r<n;++r){var i=t[r];if(i.name.test(e))return i.fn}return this._index["_"+e]}}var h=r(109268);class d extends h.Z{constructor(){super(...arguments),this.exports=new c,this.imports=new c,this.templateImports=new c}getImport(e){return this.imports.get(e)}registerImport(e,t){this.imports.register(e,t)}getTemplateImport(e){return this.templateImports.get(e)}registerTemplateImport(e,t){this.templateImports.register(e,t)}}const p=new d;var f=r(242436);const g=f.Z.makeClassDecorator((function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p;r.exports.register(t,e),Object.defineProperty(e.prototype,"_export",{value:t,enumerable:!1,configurable:!0})}));var m=r(804256),y=r(527596),v=r(632504);r(423702),r(58619),r(892437);const b={};class w extends h.Z{constructor(){super(),Object.defineProperty(this,"_id",{enumerable:!1,value:b.id});var e=b.props;if("object"==typeof e)for(var t in e)e.hasOwnProperty(t)&&(this[t]=this._port.importValue(e[t]))}dispose(){super.dispose(),this._port.disposeImport(this)}callMethod(e,t){this._port.callMethod(this,e,t)}callMethodWithPromise(e,t){return this._port.callMethodWithPromise(this,e,t)}}class _ extends Error{constructor(e,t){super(e),this.remoteStack=t}toString(){return this.message+"\n"+this.remoteStack}}var P=r(317771),A=r(699416);class x{constructor(e){this.value=e}}var S,C,O=r(488542),D=r.n(O),k=r(909102),I=r.n(k);let T=g("Port")((C=class extends h.Z{constructor(e){super(),this.exportedValues={},this.exportedTypes={},this.importedValues={},this.pendingResults={},this.pendingMessages=[],this.importedTypes={},this.register=e,this.loaded=new Promise(((e,t)=>this._loadedPromise={resolve:e,reject:t}))}dispose(){var e=this.importedValues;if(this.importedValues=null,e)for(let t in e)e[t].dispose();if(this.exportedValues)for(let e in this.exportedValues){const t=this.exportedValues[e];t===this||t.selfManaged||t.dispose()}super.dispose()}postMessages(){}handleMessages(e){this.isDisposed||e&&e.forEach(this.handleMessage)}postMessage(e,t){this.pendingMessages.push({type:e,values:t}),this.flushMessagesSoon()}flushMessagesSoon(){var e=this.pendingMessages;this.pendingMessages=[],this.postMessages(e)}handleMessage(e){let{type:t,values:r}=e;switch(t){case"dispose":this.disposeExport(r._id);break;case"callMethod":this.handleCallMethod(r);break;case"result":this.handleResult(r);break;case"error":this.handleError(r);break;case"type":this.handleType(r);break;case"init":this.handleInit(r)}}postInit(){this._postInitPosted||(this._postInitPosted=!0,this.postMessage("init",{workerId:this.exportValue(this)}))}handleInit(e){let{workerId:t}=e;this.main=this.importValue(t),this.postInit(),this._loadedPromise.resolve(this)}handleType(e){let{className:t,methods:r,selfManaged:n}=e;this.getImportType(t,r,n)}getImportType(e,t,r){if(this.importedTypes.hasOwnProperty(e))return this.importedTypes[e];var n=this.register.getImport(e);if(n){var i=n;n=class extends i{}}else{var s=e.split("::"),o=this.register.getTemplateImport(s[0]);o?(n=o(s[1],e),Object.defineProperty(n.prototype,"_import",{enumerable:!1,value:e})):(n=class extends w{},this.register.registerImport(e,n),Object.defineProperty(n.prototype,"_import",{enumerable:!1,value:e}),Object.defineProperty(n.prototype,"_interceptor",{enumerable:!1,value:n}))}if(t&&t.length){var a=n.prototype._interceptor;if(!a)throw new Error("No @Import decorator found for "+e);t.forEach((e=>{let{name:t}=e;Object.defineProperty(a.prototype,t+"Async",{enumerable:!1,value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];this.callMethod(t,r)},configurable:!0}),Object.defineProperty(a.prototype,t,{enumerable:!1,value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.callMethodWithPromise(t,r)},configurable:!0})})),Object.defineProperty(a.prototype,"_export",{enumerable:!1,value:e,configurable:!0}),Object.defineProperty(a.prototype,"_publicMethods",{enumerable:!1,value:t,configurable:!0})}return Object.defineProperty(n.prototype,"selfManaged",{enumerable:!1,value:r}),Object.defineProperty(n.prototype,"_port",{enumerable:!1,value:this}),this.importedTypes[e]=n,n}handleCallMethod(e){let{thisId:t,method:r,args:n,responseId:i}=e;var s=this.importValue(t);if(!s)throw new Error("Invalid this object for call method call.");var o,a=n&&this.importValue(n)||[];try{var l=s[r];if(!l)throw new Error(`No method ${r} detected on ${s._export}.`);if(!s._publicMethods||!I()(s._publicMethods,(e=>{let{name:t}=e;return t===r})))throw new Error(`Method ${r} is not public on ${s._export}.`);if("function"!=typeof l)throw new Error(`Property ${r} on ${s._export} is not a function.`);o=l.apply(s,a)}catch(e){return void(i?this.postMessage("error",{responseId:i,message:e.toString(),stack:e.stack}):console.error(e.toString()+e.stack))}if(i){if(o&&o.then&&"function"==typeof o.then)return void o.then((e=>{this.postMessage("result",{responseId:i,result:this.exportValue(e)})})).catch((e=>{this.postMessage("error",{responseId:i,message:e.toString(),stack:e.stack})}));this.postMessage("result",{responseId:i,result:this.exportValue(o)})}}popResponsePromise(e){var t=this.pendingResults;if(!t.hasOwnProperty(e))throw new Error(`Invalid response id received as result from the other thread: ${e}`);var r=t[e];return delete t[e],r}handleResult(e){let{responseId:t,result:r}=e;var n=this.popResponsePromise(t),i=this.importValue(r);n.resolve(i)}handleError(e){let{responseId:t,message:r,stack:n}=e;var i=this.popResponsePromise(t);console.error(n),i.reject(new _(r,n))}callMethod(e,t,r){this.postMessage("callMethod",{thisId:this.exportValue(e),method:t,args:r?this.exportValue(r):null})}callMethodWithPromise(e,t,r){return new Promise(((n,i)=>{var s=D()("responseId");this.pendingResults[s]={resolve:n,reject:i},this.postMessage("callMethod",{responseId:s,thisId:this.exportValue(e),method:t,args:r?this.exportValue(r):null})}))}exportObject(e){var t=(0,P.Z)(e);return this.exportedValues.hasOwnProperty(t)||(this.exportedValues[t]=e,this.exportedTypes.hasOwnProperty(e._export)||(this.exportedTypes[e._export]=!0,this.postMessage("type",{className:e._export,methods:e._publicMethods,selfManaged:!e.dispose||e.selfManaged}))),{_id:t,_export:e._export}}disposeExport(e){var t=this.exportedValues;if(t.hasOwnProperty(e)){var r=t[e];if(!r||r.selfManaged)return;r.dispose(),r.isDisposed&&delete t[e]}}exportValue(e){if(e){if(this.isOpaqueValue(e))return e;if(Array.isArray(e))return e.map(this.exportValue);if("object"==typeof e){if(e instanceof x)return{_opaqueValue:!0,_wrappedValue:e.value};if(e._import&&e._port===this)return{_import:e._import,_id:e._id};if(e._export)return this.exportObject(e);let t={};for(let r in e)t[r]=this.exportValue(e[r]);return t}}return e}importObject(e){var t=e._id,r=this.importedValues.hasOwnProperty(t)?this.importedValues[t]:null;if(!r){var n=e._export||"BaseImport",i=this.getImportType(n);b.id=e._id,b.props=e._props,Array.isArray(e._ctorArgs)&&e._ctorArgs.length>0?A.Z.Reflect&&A.Z.Reflect.construct?r=A.Z.Reflect.construct(i,e._ctorArgs):(r=Object.create(i.prototype),i.apply(r,e._ctorArgs)):r=new i,this.importedValues[t]=r}return r}disposeImport(e){var t=this.importedValues;t&&(delete t[e._id],e.selfManaged||this.postMessage("dispose",{_id:e._id}))}isOpaqueValue(e){return e instanceof ArrayBuffer||e instanceof Uint8Array||e instanceof Int8Array||A.Z.Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array||A.Z.NSObject&&e instanceof A.Z.NSObject}importValue(e){if(e){if(this.isOpaqueValue(e))return e;if(Array.isArray(e))return e.map(this.importValue);if("object"==typeof e){if(e._opaqueValue)return new x(e._wrappedValue);if(e._export)return this.importObject(e);if(e._import)return this.exportedValues[e._id];let t={};for(let r in e)t[r]=this.importValue(e[r]);return t}}return e}},(0,u.Z)(C.prototype,"postMessages",[v.Z],Object.getOwnPropertyDescriptor(C.prototype,"postMessages"),C.prototype),(0,u.Z)(C.prototype,"flushMessagesSoon",[y.Z],Object.getOwnPropertyDescriptor(C.prototype,"flushMessagesSoon"),C.prototype),(0,u.Z)(C.prototype,"handleMessage",[m.Z],Object.getOwnPropertyDescriptor(C.prototype,"handleMessage"),C.prototype),(0,u.Z)(C.prototype,"exportValue",[m.Z],Object.getOwnPropertyDescriptor(C.prototype,"exportValue"),C.prototype),(0,u.Z)(C.prototype,"importValue",[m.Z],Object.getOwnPropertyDescriptor(C.prototype,"importValue"),C.prototype),S=C))||S;var E=r(3020);class j extends T{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:p)}initiateConnection(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";this.channel=new window.MessageChannel,this.port=this.channel.port1,e.postMessage(JSON.stringify({kind:"torq-message-channel-init",name:r}),t,[this.channel.port2]),this.channel.port1.onmessage=e=>{this.handleChannelMessage(e)}}waitForConnection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";var r=new E.Z,n=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}(window,"message",(e=>{if(/torq-message-channel-init/.test(e.data))try{var i=JSON.parse(e.data);"torq-message-channel-init"===i.kind&&i.name===t&&(this.port=e.ports[0],this.port.onmessage=e=>{this.handleChannelMessage(e)},n(),this.postInit(),r.resolve())}catch(e){}}));return r.promise}handleInit(){super.handleInit(...arguments),this.postInit()}handleChannelMessage(e){try{this.handleMessages(e.data)}catch(e){return void console.error(e)}}postMessages(e){this.port.postMessage(e)}}const R=new d;var Z=r(51435),N=r(909699),F=r.n(N),L=r(25927),$=r.n(L),M=r(398623),U=r.n(M),z=r(495455),q=r.n(z),H=r(176871),B=r.n(H),W=r(386100),J=r.n(W),V=r(713967),G={};G.styleTagTransform=J(),G.setAttributes=q(),G.insert=U().bind(null,"head"),G.domAPI=$(),G.insertStyleElement=B(),F()(V.Z,G);const X=V.Z&&V.Z.locals?V.Z.locals:void 0;var Y=r(286058),K=r(11156),Q=(r(666222),r(780457),r(81581)),ee=r(770119);const te=f.Z.makePropertyDecorator((function(e,t,r){e.hasOwnProperty("_publicMethods")||Object.defineProperty(e,"_publicMethods",{enumerable:!1,value:e._publicMethods?e._publicMethods.slice():[]});for(var n=arguments.length,i=new Array(n>3?n-3:0),s=3;s<n;s++)i[s-3]=arguments[s];e._publicMethods.push({name:t,args:i}),r.value=f.Z.getInitialValue(r)}));var re,ne;let ie=g("StreamDelegate")((ne=class extends h.Z{constructor(e){super(),this.stream=e,e.attach(this)}write(e){this.trigger("data",e)}dispose(){super.dispose(),this.stream&&(this.stream.detach(),this.stream=null)}},(0,u.Z)(ne.prototype,"write",[te],Object.getOwnPropertyDescriptor(ne.prototype,"write"),ne.prototype),re=ne))||re;const{LrSDK:se}=window;class oe extends h.Z{initialize(e){try{if(e.features)for(const[t,r]of Object.entries(e.features))Q.Z._override(t,r);n.Z.token=e.token,n.Z.environment=se.environment,n.Z.clientId=e.clientId,n.Z.ozHost="prod"===se.environment?"https://photos.adobe.io":"https://photos-stage.adobe.io",ee.Z.isReady||(ee.Z.setGetTokenMethod((()=>this._token)),ee.Z.setAuthReady()),this.disableAnalytics=!!e.disableAnalytics,this.disableAnalytics||(0,K.Z)(n.Z),Object.keys(i).forEach((t=>{e.hasOwnProperty(t)&&(i[t]=e[t])})),this._config=e,this._iframes={},this.browseCount=0}catch(e){Y.Z.noticeError(e),console.log("Could not initialize LrImporter",e)}}attachCatalogBrowserP(e){if(Y.Z.reportApiCall("LrImporter.attachCatalogBrowserP"),Y.Z.beginTiming("importerBrowse"),!n.Z.token)return Promise.reject("There must be a valid IMS token");e.textContent="";var t=(0,P.Z)(e);let r;return new Promise(((a,u)=>{var c=`${window.location.protocol}//${window.location.hostname}`+(window.location.port?":"+window.location.port:""),h=new j(R);h.waitForConnection(c,"lr-importer-browser");var d=s(document,"div");d.classList.add(X["lr-importer-container"]);var p=s(document,"iframe"),f={source:c,session:Y.Z.sessionGuid,count:++this.browseCount};return p.src=se.baseURL+`sdk/LrImporter.html?${l().stringify(f)}`,p.id="lrimporter-iframe",e.dataset.importerStatus="loading",r=t=>{e.dataset.importerStatus=t},o(d,p),o(e,d),this._iframes[t]=d,h.loaded.then((()=>{var e=h.main,t={disableAnalytics:this.disableAnalytics,features:this.features};Object.assign(t,n.Z,i),t.externalUrlHandler=!!t.externalUrlHandler,e.initialize(t).then((t=>{t&&(this.streamDelegate=this.link(new ie(t)),this.listenTo(this.streamDelegate,"data",this._handleRemoteMessage),this.on("status-change",r)),a({iframe:d,importer:e})})).catch((e=>{u(e),Y.Z.noticeError(e)}))}))})).then((e=>e.importer.browse().then((e=>(this.stopListening(this.streamDelegate,"data",this._handleRemoteMessage),this.disposeLink(this.streamDelegate),this.off("status-change",r),Y.Z.reportWithTiming("importerBrowse",{api:"LrImporter.attachCatalogBrowserP",value:e?1:0,count:e?e.resources.length:0}),e))))).catch((e=>(console.log("Could not create lr-importer iframe",e),Y.Z.noticeError(e),Promise.reject(e))))}detachCatalogBrowser(e){Y.Z.reportApiCall("LrImporter.detachCatalogBrowser");var t=(0,P.Z)(e);t&&this._iframes[t]?function(e){if(e.remove)e.remove();else{var t=e.parentNode;t&&t.removeChild(e)}}(this._iframes[t]):console.error("No LrImporter found for",e)}browseCatalogInWindowP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxWidth:1920,maxHeight:1080};if(Y.Z.reportApiCall("LrImporter.browseCatalogInWindowP"),Y.Z.beginTiming("importerBrowse"),!n.Z.token)return Promise.reject("There must be a valid IMS token");var t=new j(R);t.waitForConnection(u,"lr-importer-browser");var r=Math.min(e.maxHeight,window.screen.availHeight),s=Math.min(e.maxWidth,window.screen.availWidth),o=window.screen.availTop+window.screen.availHeight/2-r/2,a=window.screen.availLeft+window.screen.availWidth/2-s/2,u=`${window.location.protocol}//${window.location.hostname}`+(window.location.port?":"+window.location.port:""),c=`menubar=yes,resizable=yes,scrollbars=no,status=yes,width=${s},height=${r},top=${o},left=${a}`,h={source:u,session:Y.Z.sessionGuid},d=se.baseURL+`sdk/LrImporter.html?${l().stringify(h)}`,p=window.open(d,"lr_importer_window",c);(p.outerWidth<screen.availWidth||p.outerHeight<screen.availHeight)&&(p.moveTo(0,0),p.resizeTo(screen.availWidth,screen.availHeight));var f=Z.Z.background;return Z.Z.background=!0,new Promise(((e,r)=>{this._windowCloseHandler=t=>{Y.Z.reportWithTiming("importerBrowse",{api:"LrImporter.browseCatalogInWindowP",value:0,count:0}),e(null)},t.loaded.then((()=>{var e=t.main,r={disableAnalytics:this.disableAnalytics,features:this.features};return Object.assign(r,n.Z,i),r.externalUrlHandler=!!r.externalUrlHandler,e.initialize(r).then((t=>(t&&(this.streamDelegate=this.link(new ie(t)),this.listenTo(this.streamDelegate,"data",this._handleRemoteMessage)),e.browse()))).then((e=>(p.close(),Z.Z.background=f,t.dispose(),this.stopListening(this.streamDelegate,"data",this._handleRemoteMessage),this.disposeLink(this.streamDelegate),Y.Z.reportWithTiming("importerBrowse",{api:"LrImporter.browseCatalogInWindowP",value:e?1:0,count:e?e.resources.length:0}),this._windowCloseHandler=void 0,e))).catch((e=>(Y.Z.noticeError(e),this._windowCloseHandler=void 0,Promise.reject(e))))})).then((t=>{e(t)})).catch((e=>{r(e)}))}))}enableFeature(e){Q.Z._override(e,!0)}get softImportLimit(){return i.softImportLimit}set softImportLimit(e){Y.Z.setAttribute("softImportLimit",e),i.softImportLimit=e}set preferredLanguage(e){Y.Z.setAttribute("preferredLanguage",e),i.preferredLanguage=e}get returnAfterSingleSelect(){return i.returnAfterSingleSelect}set returnAfterSingleSelect(e){Y.Z.setAttribute("returnAfterSingleSelect",e),i.returnAfterSingleSelect=e}get singleSelect(){return i.singleSelect}set singleSelect(e){Y.Z.setAttribute("singleSelect",e),i.singleSelect=e}get initialSearch(){return i.initialSearch}set initialSearch(e){Y.Z.setAttribute("initialSearch",!0),i.initialSearch=e}get browseProjectId(){return i.browseProjectId}set browseProjectId(e){Y.Z.setAttribute("browseProjectId",!0),i.browseProjectId=e}get browseOnlyCollections(){return i.browseOnlyCollections}set browseOnlyCollections(e){Y.Z.setAttribute("browseOnlyCollections",e),i.browseOnlyCollections=e}get browseAlbums(){return i.browseAlbums}set browseAlbums(e){Y.Z.setAttribute("browseAlbums",e),i.browseAlbums=e}get showConnectedProjects(){return i.showConnectedProjects}set showConnectedProjects(e){Y.Z.setAttribute("showConnectedProjects",e),i.showConnectedProjects=e}get publishProjects(){return i.publishProjects}set publishProjects(e){Y.Z.setAttribute("publishProjects",e),i.publishProjects=e}get ignorePublishedProjects(){return i.ignorePublishedProjects}set ignorePublishedProjects(e){Y.Z.setAttribute("ignorePublishedProjects",e),i.ignorePublishedProjects=e}get allowImportEntireAlbum(){return i.allowImportEntireAlbum}set allowImportEntireAlbum(e){Y.Z.setAttribute("allowImportEntireAlbum",e),i.allowImportEntireAlbum=e}get headerStyle(){return i.headerStyle}set headerStyle(e){Y.Z.setAttribute("headerStyle",e),i.headerStyle=e}get mode(){return i.mode}set mode(e){Y.Z.setAttribute("mode",e),i.mode=e}get colorStop(){return i.colorStop}set colorStop(e){Y.Z.setAttribute("colorStop",e),i.colorStop=e}_handleRemoteMessage(e){switch(e.name){case"remote-analytics-set-attribute":let t=e.args[0];Y.Z.setAttribute(t.name,t.value);break;case"remote-analytics-report":let r=e.args[0];Y.Z.report(r.action,r.variables);break;case"remote-analytics-notice-error":let n=e.args[0];Y.Z.report("jsError",{message:n.message,errorName:n.name,errorStackTrace:n.stack,url:n.url,automation:Q.Z.is_enabled("automation"),noticed:!0}),Y.Z.noticeError(new Error("LrImporterRemote noticed error"));break;case"remote-status-change":let s={unknown:"loading",partial:"loading",complete:"ready",missing:"missing",empty:"empty",maintenance:"maintenance"};this.trigger("status-change",s[e.args[0]]);break;case"remote-open-url":i.externalUrlHandler(e.args[0]);break;case"remote-log":console.log("REMOTE LOG",e.args[0]);break;case"remote-window-close":this._windowCloseHandler&&this._windowCloseHandler();break;default:console.log("Unknown remote event",e.name)}}}se.importer||(se.importer=new oe),se.provide&&se.provide("importer",se.importer),se.importer},286058:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n,i=r(936544),s=r(229619),o=(r(724479),r(636335)),a=r(109268),l=r(317536),u=o.Z.parseQueryFromUrl(window.location.href),c=u.session,h=u.count||0;const d=new(n=class extends a.Z{constructor(){super(),this.reset()}reset(){this.messages=[],this.timings=[],this.collectors=[],this.attributes={browseCount:h}}addCollector(e){for(const[t,r]of Object.entries(this.attributes))e.setAttribute(t,r);this.collectors.push(e)}_callCollectorMethods(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.collectors.forEach((t=>t[e](...r)))}setAttribute(e,t){this.attributes[e]!==t&&(this._callCollectorMethods("setAttribute",e,t),this.attributes[e]=t)}noticeError(e){e||(e=new Error("Unknown error")),this._callCollectorMethods("noticeError",e)}report(e,t){this._callCollectorMethods("report",e,t)}reportApiCall(e,t){this._callCollectorMethods("reportApiCall",e,t)}beginTiming(e){this.timings[e]=performance.now()}reportWithTiming(e,t){var r=this.timings[e];if(r){var n=performance.now(),i=n-r;this._callCollectorMethods("reportTimed",e,r,n,i,t),delete this.timings[e]}else this.report(e,t)}get sessionGuid(){return c||this.generateGUID()}generateGUID(){return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}getUserGuidP(e){if(!this.guidPromise){let t=("prod"===e.environment?"https://photos.adobe.io":"https://photos-stage.adobe.io")+"/v2/accounts/00000000000000000000000000000000";this.guidPromise=l.Z.getOzUrlP(t).then((e=>`${e.responseObject.wcd_guid}@AdobeID`)).catch((e=>"UnknownUserGuid"))}return this.guidPromise}},(0,i.Z)(n.prototype,"sessionGuid",[s.Z],Object.getOwnPropertyDescriptor(n.prototype,"sessionGuid"),n.prototype),n)},11156:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(286058);class i{constructor(){this.attributes=[],n.Z.addCollector(this)}setAttribute(e,t){console.log(`Analytics Set Atribute ${e}=${t}`),this.attributes[e]=t}noticeError(e){console.error("Analytics Error",e)}report(e,t){console.log("Analytics Action",e,Object.assign({},t,this.attributes))}reportTimed(e,t,r,n,i){console.log("Analytics Timing",e,n,Object.assign({},i,this.attributes))}reportApiCall(e,t){console.log("Analytics API Call",e,Object.assign({},t,this.attributes))}}var s,o=r(936544),a=r(804256),l=r(229619),u=r(22309);const c=new(s=class extends u.Z{register(){"loading"!==document.readyState?setTimeout(this.run,0):document.addEventListener("DOMContentLoaded",this.exec)}exec(){this.run()}},(0,o.Z)(s.prototype,"exec",[a.Z],Object.getOwnPropertyDescriptor(s.prototype,"exec"),s.prototype),s);var h;const d=r(140917).replace("<ORIGIN>",window.location.origin);let p=(h=class{constructor(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;this.iFrame=e,this.messages=[],this.iFrame.addEventListener("load",(e=>{var t;this.isLoaded=!0;var r=new window.MessageChannel;this.port=r.port1;var n=window.location.origin||`${window.location.protocol}//${window.location.host}`;this.iFrame.contentWindow.postMessage(JSON.stringify({kind:"lr-organizer-nr-init"}),n,[r.port2]),null===(t=this.messages)||void 0===t||t.forEach((e=>this._postMessage(e))),this.messages&&delete this.messages}),!1);const i=null===(t=window)||void 0===t||null===(r=t.LrSDK)||void 0===r?void 0:r.environment;n=n.replace("<APPID>","prod"===i?41710945:41710984),this.iFrame.setAttribute("srcdoc",n),"srcdoc"in this.iFrame||this.iFrame.setAttribute("src","javascript: window.frameElement.getAttribute('srcdoc');"),this.iFrame.style.display="none",c.push((()=>{document.body.appendChild(this.iFrame)})),new MessageChannel,this.isLoaded=!1}setCustomAttribute(e,t){this._callRemote("setCustomAttribute",e,t)}addPageAction(e,t){this._callRemote("addPageAction",e,t)}noticeError(e){this._callRemote("noticeError",JSON.stringify(e,["message","arguments","type","name","stack"]))}setErrorHandler(){}_callRemote(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this._postMessage({method:e,args:r},window.location.origin)}_postMessage(e){this.isLoaded?this.port.postMessage(e):this.messages.push(e)}static get instance(){var e=document.getElementById("lr-new-relic-iframe");return e||((e=document.createElement("iframe")).id="lr-new-relic-iframe",e.proxy=new this(e)),e.proxy}},(0,o.Z)(h,"instance",[l.Z],Object.getOwnPropertyDescriptor(h,"instance"),h),h);var f,g=r(81581);let m=(f=class{constructor(){this.newrelic=p.instance,this.newrelic.setErrorHandler(this.errorHandler),n.Z.addCollector(this)}setAttribute(e,t){this.newrelic.setCustomAttribute(e,t)}noticeError(e){this.newrelic.noticeError(e),this.errorHandler(e,!0)}report(e,t){this.newrelic.addPageAction(e,t)}reportTimed(e,t,r,n,i){var s=Object.assign({},i);s.duration=n,this.report(e,s)}reportApiCall(e,t){var r=Object.assign({},t);r.apiName=e,this.report("apiCall",r)}errorHandler(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?this.report("jsError",{message:e.message,errorName:e.name,errorStackTrace:e.stack,url:window.location.toString(),automation:g.Z.is_enabled("automation"),noticed:t}):this.report("jsError",{message:"Unknown error",errorName:"Unknown",url:window.location.toString(),automation:g.Z.is_enabled("automation"),noticed:t}),!1}},(0,o.Z)(f.prototype,"errorHandler",[a.Z],Object.getOwnPropertyDescriptor(f.prototype,"errorHandler"),f.prototype),f);function y(e){g.Z.is_enabled("automation")&&new i,n.Z.getUserGuidP(e).then((e=>{n.Z.setAttribute("guid",e)}),(e=>{})),new m,n.Z.setAttribute("clientId",e.clientId),n.Z.setAttribute("sessionGuid",n.Z.sessionGuid),n.Z.setAttribute("environment",e.environment)}},562399:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=new class{constructor(){this.token=!1,this.environment="prod",this.clientId="PhotoSDK3rdParty1",this.ozHost="https://photos.adobe.io"}}},317536:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(562399),i=r(3020);const s=new class{set session(e){n.Z.token=e.accessToken,n.Z.clientId=e.apiKey,n.Z.ozHost=e.host}getOzUrlP(e,t,r){return this.requestOzUrlP("GET",e,t,void 0,r)}requestOzUrlP(e,t,r,s,o){var a=new i.Z,l=new XMLHttpRequest;if(/^http/.test(t)||(n.Z.ozHost||console.error("Please initialize OzProvider with an ozHost"),t=`${n.Z.ozHost}${t}`),l.open(e,t,!0),l.setRequestHeader("x-api-key",n.Z.clientId),l.setRequestHeader("x-creativesdk-versions","CreativeSDK/0.1.<development>"),l.setRequestHeader("Authorization",`Bearer ${n.Z.token}`),s)for(const[e,t]of Object.entries(s))l.setRequestHeader(e,t);return r&&(l.responseType=r),l.onload=()=>{if(200<=l.status&&l.status<300){var e={response:l.response,contentType:l.getResponseHeader("content-type"),type:l.responseType};if("application/json"===e.contentType||"application/json;charset=utf-8"===e.contentType)try{e.responseObject=JSON.parse(this._trimWhileExpression(l.responseText))}catch(e){return console.log("Failed JSON Parse"),console.log("URL",t),console.log("Response",l.responseText),void a.reject("Failed JSON Parse")}""!==l.responseType&&"text"!==l.responseType||(e.responseText=l.responseText),a.resolve(e)}else a.reject(l.status)},o&&o.then((()=>{l.abort(),a.reject("aborted")})),l.onerror=()=>{var e=`XHR call to Oz failed with status ${l.status}`;a.reject(e),console.error(e)},l.send(),a.promise}_trimWhileExpression(e){return e.replace(/^while\s*\(\s*1\s*\)\s*{\s*}\s*/,"")}}},770119:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});class n{constructor(){n.readyJP=new Promise((e=>{this._readyResolve=e}))}setGetTokenMethod(e){this.getTokenMethod=e}setAuthReady(){this.isReady=!0,this._readyResolve()}getToken(){if(null!=this.getTokenMethod)return this.getTokenMethod()}get readyJP(){return n.readyJP}get signedIn(){return null!=this.getToken()}}n.readyJP=void 0,n.isReady=!1;const i=new n},81581:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n,i,s=r(155398),o=r(936544),a=r(20607),l=r(880511),u=r(330918),c=r.n(u);const h=new(n=class{constructor(){(0,s.Z)(this,"features",i,this);const{features:e}=this;for(const t of c())e.add(t);{var t,r;const e=null!==(t=window.MidwayFeatures)&&void 0!==t?t:null===(r=window.PageResources)||void 0===r?void 0:r.features.enabled_features;if(e)for(const[t,r]of Object.entries(e))this._override(t,r)}}is_enabled(e){return this.features.has(e)}all_enabled(){return Array.from(this.features)}prerelease_enabled(){var e,t;return!0===(null===(e=window)||void 0===e||null===(t=e.PageResources)||void 0===t?void 0:t.features.prerelease)}prerelease_features(){var e,t;return null===(e=window)||void 0===e||null===(t=e.PageResources)||void 0===t?void 0:t.features.prerelease_hash}_override(e,t){"string"!=typeof e||e.length<1||(t?this.features.add(e):this.features.delete(e))}},i=(0,o.Z)(n.prototype,"features",[a.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l.Z}}),n);window.Feature=h;const d=h},878565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n,i,s,o=r(155398),a=r(936544),l=r(229619),u=r(20607),c=r(3020),h=r(109268),d=r(81581),p=r(956508);function f(e,t,r,n){if(0===t.length)return e;var i=t[0],s=t.slice(1),o=`{${i}}`,a=e.split(o).map((e=>f(e,s,r,n))),l=[].concat(a.shift());if(n)var u=r[i];else(u={})[i]=r[i];for(var c of a)l=l.concat(u,c);return n?l.join(""):l}let g=(n=class extends h.Z{constructor(){super(),(0,o.Z)(this,"locale",i,this),(0,o.Z)(this,"translations",s,this),this._readyDeferred=new c.Z,this._isReady=!1,this.watch((()=>this.locale),(e=>{null==e||this._isReady||(this._isReady=!0,this._readyDeferred.resolve())}))}get readyJP(){return this._readyDeferred.promise}get language_display_name(){return this.locale_hash[this.locale]}get language_code(){return this.locale.split("-")[0]}translate(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];var n=e.indexOf("="),i=e.slice(0,n),s=e.slice(n+1),o=this.translations?this.translations[i]:void 0;return o=o||s,i.match(/^\$\$\$/)||console.log(`ZString should start with '$$$': ${e}`),t&&(o=f(o,Object.getOwnPropertyNames(t),t,r)),o}addTextTranslations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("en-US"===this.locale)return;const{translations:r}=this,n="$".repeat(3)+t;if(d.Z.is_enabled("contextual_help"))e.split("\n").forEach((e=>{if(""!==e)try{const[,t,i]=e.match(/^"(.+)=(.+)"(\s+)?$/);t.startsWith(n)&&(r[t]=i.replace(/\\["']/g,(e=>e[1])).replace(/\\n/g,"\n"))}catch{console.log(`Problem loading translation (${e})`)}}));else for(let t of e.split("\n")){const{length:e}=t,i='"'===t.charAt(0)?1:0,s='"'===t.charAt(e-1)?e-1:e;if(t=t.substring(i,s),t.startsWith(n)){const[e,n]=t.split("=");r[e]=n.replace(/\\["']/g,(e=>e[1])).replace(/\\n/g,(e=>"\n"))}}}getLocaleWithUnderscore(){this.locale.replace("-","_")}humanFileSizeValue(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=1024;let n=0;if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1])for(;Math.abs(e)>=r&&n<t;)e/=r,++n;else n=3,e/=Math.pow(r,n);return[e,n]}humanFileSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=[this.translate("$$$/js/zstring/common/bytes=B"),this.translate("$$$/js/zstring/common/kilobytes=KB"),this.translate("$$$/js/zstring/common/megabytes=MB"),this.translate("$$$/js/zstring/common/gigabytes=GB"),this.translate("$$$/js/zstring/common/terabytes=TB")],[i,s]=this.humanFileSizeValue(e,r,n.length);t=s<1?0:t;const o=this.translate("$$$/js/zstring/common/decimal_separator=.");return this.translate("$$$/js/zstring/common/storage_format={number} {unit}",{number:i.toFixed(t).replace(".",o),unit:n[s]})}humanCountValue(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const r=1e3;let n;for(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?n=0:(n=2,e/=Math.pow(r,n));Math.abs(e)>=r&&n<t;)e/=r,++n;return[e,n]}humanCount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=["",this.translate("$$$/js/zstring/common/thousand=K"),this.translate("$$$/js/zstring/common/million=M"),this.translate("$$$/js/zstring/common/billion=B"),this.translate("$$$/js/zstring/common/trillion=T")],[i,s]=this.humanCountValue(e,r,n.length);s<1&&(t=0);const o=this.translate("$$$/js/zstring/common/decimal_separator=."),a=i.toFixed(t).replace(/\.0+$/,"").replace(".",o);return this.translate("$$$/js/zstring/compact_storage_format={count}{units}",{count:a,units:n[s]})}humanDurationValue(e,t){const r=[1e3,60,60,24];let n=0;for(;Math.abs(e)>=r[0]&&n<t;)e/=r[0],r.shift(),++n;return[e,n]}humanDuration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=this.translate("$$$/js/zstring/duration={duration} {unit_string}"),s=[this.translate("$$$/js/zstring/common/milliseconds=ms"),this.translate("$$$/js/zstring/common/seconds=seconds"),this.translate("$$$/js/zstring/common/minutes=minutes"),this.translate("$$$/js/zstring/common/hours=hours"),this.translate("$$$/js/zstring/common/days=days")],o=[this.translate("$$$/js/zstring/common/milliseconds=ms"),this.translate("$$$/js/zstring/common/second=second"),this.translate("$$$/js/zstring/common/minute=minute"),this.translate("$$$/js/zstring/common/hour=hour"),this.translate("$$$/js/zstring/common/day=day")],a=[this.translate("$$$/js/zstring/common/milliseconds_short=ms"),this.translate("$$$/js/zstring/common/seconds_short=sec"),this.translate("$$$/js/zstring/common/minutes_short=min"),this.translate("$$$/js/zstring/common/hours_short=hr")];let l,u;[l,u]=n?this.humanDurationValue(e,a.length):this.humanDurationValue(e,s.length),l=t>0?Math.ceil(l/t)*t:l;const c=l.toFixed(r);let h;return h=n?a[u]:"1"===c?o[u]:s[u],i.replace("{duration}",c).replace("{unit_string}",h)}humanDimensions(e){const t=e[0],r=e[1];return null!=t&&null!=r?`${Math.round(t)} x ${Math.round(r)}`:""}humanNumber(e){const t=this.translate("$$$/js/zstring/common/decimal_separator=."),r=this.translate("$$$/js/zstring/common/thousand_separator=,");return e.toString().replace(".",t).replace(/\B(?=(\d{3})+(?!\d))/g,r)}ok_string(){return this.translate("$$$/zstring/common/ok=OK")}cancel_string(){return this.translate("$$$/zstring/common/cancel=Cancel")}continue_string(){return this.translate("$$$/zstring/common/continue=Continue")}submit_string(){return this.translate("$$$/zstring/common/submit=Submit")}close_string(){return this.translate("$$$/zstring/common/close=Close")}retry_string(){return this.translate("$$$/zstring/common/retry=Retry")}or_cap_string(){return this.translate("$$$/zstring/common/or_caps=OR")}back_string(){return this.translate("$$$/js/zstring/common/back=Back")}on_string(){return this.translate("$$$/js/zstring/common/on=On")}off_string(){return this.translate("$$$/js/zstring/common/off=Off")}next_string(){return this.translate("$$$/js/zstring/common/next=Next")}try_again_string(){return this.translate("$$$/js/zstring/common/try_again=Try Again")}get_started_string(){return this.translate("$$$/js/zstring/common/get_started=Get Started")}get locale_hash(){const e={};for(const t of p.supported){const r=p.display_names[t];r&&(e[t]=r)}return e}},i=(0,a.Z)(n.prototype,"locale",[u.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=(0,a.Z)(n.prototype,"translations",[u.Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.Z)(n.prototype,"locale_hash",[l.Z],Object.getOwnPropertyDescriptor(n.prototype,"locale_hash"),n.prototype),n)},636335:(e,t,r)=>{"use strict";var n;r.d(t,{Z:()=>i}),n=/\+/g;const i={parsePathFromUrl:function(e){return e.split("#")[0].split("?")[0]},parseQueryFromUrl:function(e){var t;return null==(t=e.split("?")[1])?{}:(t=t.split("#")[0],this.parseQuery(t))},parseQuery:function(e){var t,r,i,s,o,a,l;if(0===(null!=e?e:"").length)return{};for(a={},t=0,r=(o=e.split("&")).length;t<r;t++)if(1===(s=(i=o[t]).split("=")).length)a[i]="";else{if(2!==s.length)continue;l=decodeURIComponent(s[1].replace(n," ")),a[s[0]]=l}return a}}},250223:e=>{function t(e,t){var r=e.toString();if(r.length<t){var n=[];n.length=t-r.length+1,r=n.join("0")+r}return r}function r(e,t){return Object.getOwnPropertyNames(t).forEach((function(n){if("object"==typeof t[n])"object"!=typeof e[n]&&(e[n]={}),r(e[n],t[n]);else{var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i)}})),e}function n(e,t,r){e.forEach((function(e){setTimeout((function(){e(t,r)}))}))}var i={prod:"cc-api-data.adobe.io",stage:"cc-api-data-stage.adobe.io",dev:"cc-api-data-dev.adobe.io"},s="/ingest",o={ENVIRONMENT:"prod",ALLOW_NO_TOKEN:!1,ANALYTICS_INGEST_TYPE:"dunamis",ANALYTICS_MAX_QUEUED_EVENTS:50,ANALYTICS_DEBOUNCE:1e4,ANALYTICS_API_KEY:null,ANALYTICS_X_PRODUCT:null,ANALYTICS_X_PRODUCT_LOCATION:void 0,ANALYTICS_PROJECT:null,ANALYTICS_USER_REGION:"UNKNOWN",TIMESTAMP_PROPERTY_NAME:"event.dts_end"},a=["ANALYTICS_API_KEY","ANALYTICS_X_PRODUCT","ANALYTICS_PROJECT"];function l(e,t){e=e||{},t=t||{};var n=e=>{throw this._log(e),new Error("ERROR: "+e)};this._queuedEvents=[],this._queuedCallbacks=[],this._lastSendTime=0,this._isEnabled=!1,this._dependencies=r({},e),e.getAccessToken&&"function"==typeof e.getAccessToken||n("Missing dependency: getAccessToken"),this._options={},Object.keys(o).forEach((e=>{this._options[e]=t[e]||o[e]})),a.forEach((e=>{this._options[e]||n("Missing option: "+e)})),"undefined"==typeof fetch&&n("Ingest requires fetch - if in a node environment, set 'global.fetch = require('node-fetch');'")}l.prototype._log=function(e){var t=this._dependencies.log;t&&t("Ingest :: "+e)},l.prototype._getAgent=function(e,t){this._dependencies.getAgent?this._dependencies.getAgent(e,t):t(null,{})},l.prototype._getAccessToken=function(e){this._dependencies.getAccessToken(e)},l.prototype._clearAccessToken=function(){this._dependencies.clearAccessToken&&this._dependencies.clearAccessToken()},l.prototype._getEnvironment=function(){return i[this._options.ENVIRONMENT]?this._options.ENVIRONMENT:"prod"},l.prototype._getAnalyticsHost=function(){return i[this._getEnvironment()]},l.prototype._formatTimestamp=function(e){var r=e.getFullYear(),n=t(e.getMonth()+1,2),i=t(e.getDate(),2),s=t(e.getHours(),2),o=t(e.getMinutes(),2),a=t(e.getSeconds(),2),l=t(e.getMilliseconds(),3),u=e.getTimezoneOffset(),c=u<0?"+":"-",h=Math.floor(Math.abs(u)/60),d=Math.abs(u)%60;return r+"-"+n+"-"+i+"T"+s+":"+o+":"+a+"."+l+(c+t(h,2)+t(d,2))},l.prototype._updateDebounce=function(e){var t=e&&(e["retry-after"]||e["Retry-After"]),r=0;if(t){var n;try{n=parseInt(t,10)}catch(e){}if(n)r=Math.max(0,n);else{var i=Date.parse(t);if(i){var s=(new Date).valueOf();r=Math.max(0,i-s)/1e3+Math.floor(10*Math.random())}}}this._options.ANALYTICS_DEBOUNCE=Math.max(1e3*r,this._options.ANALYTICS_DEBOUNCE)},l.prototype._queueEvent=function(e){this._queuedEvents.length>=this._options.ANALYTICS_MAX_QUEUED_EVENTS&&this._queuedEvents.shift(),this._queuedEvents.push(e)},l.prototype._requeueEvents=function(e){this._queuedEvents=e.concat(this._queuedEvents),this._queuedEvents=function(e,t){var r=e;if(e&&e.length>t&&t>0){var n=e.length-t;r=e.slice(n,e.length)}return r}(this._queuedEvents,this._options.ANALYTICS_MAX_QUEUED_EVENTS)},l.prototype._sendAnalytics=function(e,t,i){if(i=i||0,t&&this._queuedCallbacks.push(t),!this._isEnabled||0===this._queuedEvents.length){var o=this._queuedCallbacks;return this._queuedCallbacks=[],void(this._isEnabled?n(o,null,0):n(o,new Error("Analytics Disabled")))}var a=this._options.ANALYTICS_DEBOUNCE;if(e&&(a=0,clearTimeout(this._pendingSendAnalyticsTimeout),this._pendingSendAnalyticsTimeout=void 0),this._sendingEvents||this._pendingSendAnalyticsTimeout)e&&(this._fastFollow=!0);else{var l=(new Date).valueOf();if(l-this._lastSendTime<a)this._pendingSendAnalyticsTimeout=setTimeout((()=>{this._pendingSendAnalyticsTimeout=void 0,this._sendAnalytics()}),a);else{this._lastSendTime=l,this._sendingEvents=this._queuedEvents,this._sendingCallbacks=this._queuedCallbacks,this._queuedEvents=[],this._queuedCallbacks=[];var u,c=(u=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)})()+u()+"-"+u()+"-"+u()+"-"+u()+"-"+u()+u()+u(),h="["+c+"] ",d={events:this._sendingEvents},p=e=>{var t=this._queuedEvents?this._queuedEvents.length:0;if(this._sendingEvents){var r=this._sendingEvents.length;e?(this._requeueEvents(this._sendingEvents),this._log(h+"Error sending "+r+" events: "+e)):this._log(h+"Success sending "+r+" events: "+JSON.stringify(this._sendingEvents)),delete this._sendingEvents;var i=this._sendingCallbacks;delete this._sendingCallbacks,e?n(i,e):n(i,null,r)}t>0&&this._sendAnalytics(this._fastFollow),this._fastFollow=!1},f=(e,t)=>{if(this._updateDebounce(t),401===e&&0===i)return this._clearAccessToken(),this._requeueEvents(this._sendingEvents),delete this._sendingEvents,this._queuedCallbacks=this._sendingCallbacks.concat(this._queuedCallbacks),delete this._sendingCallbacks,this._log(h+"Access token is expired. Retry one more time."),void this._sendAnalytics(!0,void 0,i+1);200===e?p():p(new Error("Unexpected Response: "+e))};this._getAccessToken(((e,t)=>{if(e&&!this._options.ALLOW_NO_TOKEN)return void p(e);if(!(t&&0!==t.length||this._options.ALLOW_NO_TOKEN))return void p(new Error("No access token"));var n="https://"+this._getAnalyticsHost();this._log(h+"Sending analytics to "+n+s);const i={"x-api-key":this._options.ANALYTICS_API_KEY,"X-Product":this._options.ANALYTICS_X_PRODUCT,"User-Agent":this._options.ANALYTICS_USER_AGENT||this._options.ANALYTICS_API_KEY,"X-Request-Id":c,"Content-Type":"application/json"};t&&(i.Authorization="Bearer "+t),this._options.ANALYTICS_X_PRODUCT_LOCATION&&(i["X-Product-Location"]=this._options.ANALYTICS_X_PRODUCT_LOCATION),this._getAgent(n,((e,t)=>{const o={method:"POST",headers:i,body:JSON.stringify(d)};t&&t.agent?o.agent=t&&t.agent:r(o,t||{}),fetch(n+s,o).then((e=>{f(e.status,e.headers)}),p)}))}))}}},l.prototype.enable=function(e){this._isEnabled=e,e&&this._sendAnalytics(!0)},l.prototype.postEvent=function(e,t,r){var i=r||{},s="event.dts_start",o="event.coll_dts",a=i.TIMESTAMP_PROPERTY_NAME||this._options.TIMESTAMP_PROPERTY_NAME,l=i.ANALYTICS_PROJECT||this._options.ANALYTICS_PROJECT,u=i.ANALYTICS_INGEST_TYPE||this._options.ANALYTICS_INGEST_TYPE;e[o]&&e[o]instanceof Date&&(e[o]=this._formatTimestamp(e[o])),e[s]&&e[s]instanceof Date&&(e[s]=this._formatTimestamp(e[s])),e[a]||(e[a]=this._formatTimestamp(new Date)),e[a]instanceof Date&&(e[a]=this._formatTimestamp(e[a]));var c={time:e[a],project:l,environment:this._getEnvironment(),ingesttype:u,data:e};e.simulate?(this._log("event sim:"+JSON.stringify(c)),t&&n([t],null,0)):(this._queueEvent(c),this._sendAnalytics(!1,t))},l.prototype.flush=function(e,t){this._sendAnalytics(e,t)},e.exports=l},6461:(e,t,r)=>{"use strict";var n=r(413861),i=r(828118),s=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&s(e,".prototype.")>-1?i(r):r}},828118:(e,t,r)=>{"use strict";var n=r(130995),i=r(413861),s=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(o,s),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=a(n,o,arguments);if(l&&u){var r=l(t,"length");r.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var h=function(){return a(n,s,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},883690:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},s=t||{},a=e.split(i),l=s.decode||r,u=0;u<a.length;u++){var c=a[u],h=c.indexOf("=");if(!(h<0)){var d=c.substr(0,h).trim(),p=c.substr(++h,c.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),null==n[d]&&(n[d]=o(p,l))}}return n},t.q=function(e,t,r){var i=r||{},o=i.encode||n;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var l=e+"="+a;if(null!=i.maxAge){var u=i.maxAge-0;if(isNaN(u))throw new Error("maxAge should be a Number");l+="; Max-Age="+Math.floor(u)}if(i.domain){if(!s.test(i.domain))throw new TypeError("option domain is invalid");l+="; Domain="+i.domain}if(i.path){if(!s.test(i.path))throw new TypeError("option path is invalid");l+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");l+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(l+="; HttpOnly"),i.secure&&(l+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l};var r=decodeURIComponent,n=encodeURIComponent,i=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(t){return e}}},433549:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var s=this;if("function"!=typeof s||n.call(s)!==i)throw new TypeError(t+s);for(var o,a=r.call(arguments,1),l=function(){if(this instanceof o){var t=s.apply(this,a.concat(r.call(arguments)));return Object(t)===t?t:this}return s.apply(e,a.concat(r.call(arguments)))},u=Math.max(0,s.length-a.length),c=[],h=0;h<u;h++)c.push("$"+h);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),s.prototype){var d=function(){};d.prototype=s.prototype,o.prototype=new d,d.prototype=null}return o}},130995:(e,t,r)=>{"use strict";var n=r(433549);e.exports=Function.prototype.bind||n},413861:(e,t,r)=>{"use strict";var n,i=SyntaxError,s=Function,o=TypeError,a=function(e){try{return s('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new o},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,h=r(250519)(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?n:d(Uint8Array),g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":s,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":f,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m=function e(t){var r;if("%AsyncFunction%"===t)r=a("async function () {}");else if("%GeneratorFunction%"===t)r=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=a("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return g[t]=r,r},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=r(130995),b=r(441354),w=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),P=v.call(Function.call,String.prototype.replace),A=v.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,C=function(e){var t=A(e,0,1),r=A(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return P(e,x,(function(e,t,r,i){n[n.length]=r?P(i,S,"$1"):t||e})),n},O=function(e,t){var r,n=e;if(b(y,n)&&(n="%"+(r=y[n])[0]+"%"),b(g,n)){var s=g[n];if(s===p&&(s=m(n)),void 0===s&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:s}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');var r=C(e),n=r.length>0?r[0]:"",s=O("%"+n+"%",t),a=s.name,u=s.value,c=!1,h=s.alias;h&&(n=h[0],_(r,w([0,1],h)));for(var d=1,p=!0;d<r.length;d+=1){var f=r[d],m=A(f,0,1),y=A(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===y||"'"===y||"`"===y)&&m!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==f&&p||(c=!0),b(g,a="%"+(n+="."+f)+"%"))u=g[a];else if(null!=u){if(!(f in u)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=r.length){var v=l(u,f);u=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[f]}else p=b(u,f),u=u[f];p&&!c&&(g[a]=u)}}return u}},441354:(e,t,r)=>{"use strict";var n=r(130995);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},250519:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(181716);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},181716:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},93155:(e,t)=>{var r,n,i;n="undefined"!=typeof window?window:this,i=function(n,i){var s=[],o=s.slice,a=s.concat,l=s.push,u=s.indexOf,c={},h=c.toString,d=c.hasOwnProperty,p={},f=n.document,g="2.1.3",m=function(e,t){return new m.fn.init(e,t)},y=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^-ms-/,b=/-([\da-z])/gi,w=function(e,t){return t.toUpperCase()};function _(e){var t=e.length,r=m.type(e);return"function"!==r&&!m.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e)}m.fn=m.prototype={jquery:g,constructor:m,selector:"",length:0,toArray:function(){return o.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:o.call(this)},pushStack:function(e){var t=m.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return m.each(this,e,t)},map:function(e){return this.pushStack(m.map(this,(function(t,r){return e.call(t,r,t)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:s.sort,splice:s.splice},m.extend=m.fn.extend=function(){var e,t,r,n,i,s,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||m.isFunction(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],o!==(n=e[t])&&(u&&n&&(m.isPlainObject(n)||(i=m.isArray(n)))?(i?(i=!1,s=r&&m.isArray(r)?r:[]):s=r&&m.isPlainObject(r)?r:{},o[t]=m.extend(u,s,n)):void 0!==n&&(o[t]=n));return o},m.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!m.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return!("object"!==m.type(e)||e.nodeType||m.isWindow(e)||e.constructor&&!d.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[h.call(e)]||"object":typeof e},globalEval:function(e){var t,r=eval;(e=m.trim(e))&&(1===e.indexOf("use strict")?((t=f.createElement("script")).text=e,f.head.appendChild(t).parentNode.removeChild(t)):r(e))},camelCase:function(e){return e.replace(v,"ms-").replace(b,w)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var n=0,i=e.length,s=_(e);if(r){if(s)for(;n<i&&!1!==t.apply(e[n],r);n++);else for(n in e)if(!1===t.apply(e[n],r))break}else if(s)for(;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(y,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(_(Object(e))?m.merge(r,"string"==typeof e?[e]:e):l.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:u.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,s=e.length,o=!r;i<s;i++)!t(e[i],i)!==o&&n.push(e[i]);return n},map:function(e,t,r){var n,i=0,s=e.length,o=[];if(_(e))for(;i<s;i++)null!=(n=t(e[i],i,r))&&o.push(n);else for(i in e)null!=(n=t(e[i],i,r))&&o.push(n);return a.apply([],o)},guid:1,proxy:function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),m.isFunction(e))return n=o.call(arguments,2),i=function(){return e.apply(t||this,n.concat(o.call(arguments)))},i.guid=e.guid=e.guid||m.guid++,i},now:Date.now,support:p}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var P=function(e){var t,r,n,i,s,o,a,l,u,c,h,d,p,f,g,m,y,v,b,w="sizzle"+1*new Date,_=e.document,P=0,A=0,x=oe(),S=oe(),C=oe(),O=function(e,t){return e===t&&(h=!0),0},D=1<<31,k={}.hasOwnProperty,I=[],T=I.pop,E=I.push,j=I.push,R=I.slice,Z=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",$=L.replace("w","w#"),M="\\[[\\x20\\t\\r\\n\\f]*("+L+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+F+"*\\]",U=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),q=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),H=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),B=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),W=new RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),J=new RegExp(U),V=new RegExp("^"+$+"$"),G={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,re=new RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),ne=function(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},ie=function(){d()};try{j.apply(I=R.call(_.childNodes),_.childNodes),I[_.childNodes.length].nodeType}catch(e){j={apply:I.length?function(e,t){E.apply(e,R.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function se(e,t,n,i){var s,a,u,c,h,f,y,v,P,A;if((t?t.ownerDocument||t:_)!==p&&d(t),n=n||[],c=(t=t||p).nodeType,"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return n;if(!i&&g){if(11!==c&&(s=Q.exec(e)))if(u=s[1]){if(9===c){if(!(a=t.getElementById(u))||!a.parentNode)return n;if(a.id===u)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(u))&&b(t,a)&&a.id===u)return n.push(a),n}else{if(s[2])return j.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName)return j.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!m||!m.test(e))){if(v=y=w,P=t,A=1!==c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(f=o(e),(y=t.getAttribute("id"))?v=y.replace(te,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",h=f.length;h--;)f[h]=v+me(f[h]);P=ee.test(e)&&fe(t.parentNode)||t,A=f.join(",")}if(A)try{return j.apply(n,P.querySelectorAll(A)),n}catch(e){}finally{y||t.removeAttribute("id")}}}return l(e.replace(q,"$1"),t,n,i)}function oe(){var e=[];return function t(r,i){return e.push(r+" ")>n.cacheLength&&delete t[e.shift()],t[r+" "]=i}}function ae(e){return e[w]=!0,e}function le(e){var t=p.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var r=e.split("|"),i=e.length;i--;)n.attrHandle[r[i]]=t}function ce(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function pe(e){return ae((function(t){return t=+t,ae((function(r,n){for(var i,s=e([],r.length,t),o=s.length;o--;)r[i=s[o]]&&(r[i]=!(n[i]=r[i]))}))}))}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in r=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=se.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:_;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,f=o.documentElement,(i=o.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),g=!s(o),r.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),r.getElementsByTagName=le((function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length})),r.getElementsByClassName=K.test(o.getElementsByClassName),r.getById=le((function(e){return f.appendChild(e).id=w,!o.getElementsByName||!o.getElementsByName(w).length})),r.getById?(n.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}},n.filter.ID=function(e){var t=e.replace(re,ne);return function(e){return e.getAttribute("id")===t}}):(delete n.find.ID,n.filter.ID=function(e){var t=e.replace(re,ne);return function(e){var r=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}}),n.find.TAG=r.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):r.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;r=s[i++];)1===r.nodeType&&n.push(r);return n}return s},n.find.CLASS=r.getElementsByClassName&&function(e,t){if(g)return t.getElementsByClassName(e)},y=[],m=[],(r.qsa=K.test(o.querySelectorAll))&&(le((function(e){f.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+N+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")})),le((function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(r.matchesSelector=K.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){r.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),y.push("!=",U)})),m=m.length&&new RegExp(m.join("|")),y=y.length&&new RegExp(y.join("|")),t=K.test(f.compareDocumentPosition),b=t||K.test(f.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return h=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!r.sortDetached&&t.compareDocumentPosition(e)===n?e===o||e.ownerDocument===_&&b(_,e)?-1:t===o||t.ownerDocument===_&&b(_,t)?1:c?Z(c,e)-Z(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return h=!0,0;var r,n=0,i=e.parentNode,s=t.parentNode,a=[e],l=[t];if(!i||!s)return e===o?-1:t===o?1:i?-1:s?1:c?Z(c,e)-Z(c,t):0;if(i===s)return ce(e,t);for(r=e;r=r.parentNode;)a.unshift(r);for(r=t;r=r.parentNode;)l.unshift(r);for(;a[n]===l[n];)n++;return n?ce(a[n],l[n]):a[n]===_?-1:l[n]===_?1:0},o):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(W,"='$1']"),r.matchesSelector&&g&&(!y||!y.test(t))&&(!m||!m.test(t)))try{var n=v.call(e,t);if(n||r.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=n.attrHandle[t.toLowerCase()],s=i&&k.call(n.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==s?s:r.attributes||!g?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],i=0,s=0;if(h=!r.detectDuplicates,c=!r.sortStable&&e.slice(0),e.sort(O),h){for(;t=e[s++];)t===e[s]&&(i=n.push(s));for(;i--;)e.splice(n[i],1)}return c=null,e},i=se.getText=function(e){var t,r="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=i(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)r+=i(t);return r},n=se.selectors={cacheLength:50,createPseudo:ae,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(re,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&J.test(r)&&(t=o(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=x[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+F+"|$)"))&&x(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,r){return function(n){var i=se.attr(n,e);return null==i?"!="===t:!t||(i+="","="===t?i===r:"!="===t?i!==r:"^="===t?r&&0===i.indexOf(r):"*="===t?r&&i.indexOf(r)>-1:"$="===t?r&&i.slice(-r.length)===r:"~="===t?(" "+i.replace(z," ")+" ").indexOf(r)>-1:"|="===t&&(i===r||i.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,r,n,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,l){var u,c,h,d,p,f,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(m){if(s){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&v){for(p=(u=(c=m[w]||(m[w]={}))[e]||[])[0]===P&&u[1],d=u[0]===P&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[P,p,d];break}}else if(v&&(u=(t[w]||(t[w]={}))[e])&&u[0]===P)d=u[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++d||(v&&((h[w]||(h[w]={}))[e]=[P,d]),h!==t)););return(d-=i)===n||d%n==0&&d/n>=0}}},PSEUDO:function(e,t){var r,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(r=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,r){for(var n,s=i(e,t),o=s.length;o--;)e[n=Z(e,s[o])]=!(r[n]=s[o])})):function(e){return i(e,0,r)}):i}},pseudos:{not:ae((function(e){var t=[],r=[],n=a(e.replace(q,"$1"));return n[w]?ae((function(e,t,r,i){for(var s,o=n(e,null,i,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))})):function(e,i,s){return t[0]=e,n(t,null,s,r),t[0]=null,!r.pop()}})),has:ae((function(e){return function(t){return se(e,t).length>0}})),contains:ae((function(e){return e=e.replace(re,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:ae((function(e){return V.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(re,ne).toLowerCase(),function(t){var r;do{if(r=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(r=r.toLowerCase())===e||0===r.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe((function(){return[0]})),last:pe((function(e,t){return[t-1]})),eq:pe((function(e,t,r){return[r<0?r+t:r]})),even:pe((function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e})),odd:pe((function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e})),lt:pe((function(e,t,r){for(var n=r<0?r+t:r;--n>=0;)e.push(n);return e})),gt:pe((function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e}))}},n.pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=de(t);function ge(){}function me(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function ye(e,t,r){var n=t.dir,i=r&&"parentNode"===n,s=A++;return t.first?function(t,r,s){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,s)}:function(t,r,o){var a,l,u=[P,s];if(o){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,o))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if((a=(l=t[w]||(t[w]={}))[n])&&a[0]===P&&a[1]===s)return u[2]=a[2];if(l[n]=u,u[2]=e(t,r,o))return!0}}}function ve(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function be(e,t,r,n,i){for(var s,o=[],a=0,l=e.length,u=null!=t;a<l;a++)(s=e[a])&&(r&&!r(s,n,i)||(o.push(s),u&&t.push(a)));return o}function we(e,t,r,n,i,s){return n&&!n[w]&&(n=we(n)),i&&!i[w]&&(i=we(i,s)),ae((function(s,o,a,l){var u,c,h,d=[],p=[],f=o.length,g=s||function(e,t,r){for(var n=0,i=t.length;n<i;n++)se(e,t[n],r);return r}(t||"*",a.nodeType?[a]:a,[]),m=!e||!s&&t?g:be(g,d,e,a,l),y=r?i||(s?e:f||n)?[]:o:m;if(r&&r(m,y,a,l),n)for(u=be(y,p),n(u,[],a,l),c=u.length;c--;)(h=u[c])&&(y[p[c]]=!(m[p[c]]=h));if(s){if(i||e){if(i){for(u=[],c=y.length;c--;)(h=y[c])&&u.push(m[c]=h);i(null,y=[],u,l)}for(c=y.length;c--;)(h=y[c])&&(u=i?Z(s,h):d[c])>-1&&(s[u]=!(o[u]=h))}}else y=be(y===o?y.splice(f,y.length):y),i?i(null,o,y,l):j.apply(o,y)}))}function _e(e){for(var t,r,i,s=e.length,o=n.relative[e[0].type],a=o||n.relative[" "],l=o?1:0,c=ye((function(e){return e===t}),a,!0),h=ye((function(e){return Z(t,e)>-1}),a,!0),d=[function(e,r,n){var i=!o&&(n||r!==u)||((t=r).nodeType?c(e,r,n):h(e,r,n));return t=null,i}];l<s;l++)if(r=n.relative[e[l].type])d=[ye(ve(d),r)];else{if((r=n.filter[e[l].type].apply(null,e[l].matches))[w]){for(i=++l;i<s&&!n.relative[e[i].type];i++);return we(l>1&&ve(d),l>1&&me(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(q,"$1"),r,l<i&&_e(e.slice(l,i)),i<s&&_e(e=e.slice(i)),i<s&&me(e))}d.push(r)}return ve(d)}return ge.prototype=n.filters=n.pseudos,n.setFilters=new ge,o=se.tokenize=function(e,t){var r,i,s,o,a,l,u,c=S[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=n.preFilter;a;){for(o in r&&!(i=H.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(s=[])),r=!1,(i=B.exec(a))&&(r=i.shift(),s.push({value:r,type:i[0].replace(q," ")}),a=a.slice(r.length)),n.filter)!(i=G[o].exec(a))||u[o]&&!(i=u[o](i))||(r=i.shift(),s.push({value:r,type:o,matches:i}),a=a.slice(r.length));if(!r)break}return t?a.length:a?se.error(e):S(e,l).slice(0)},a=se.compile=function(e,t){var r,i=[],s=[],a=C[e+" "];if(!a){for(t||(t=o(e)),r=t.length;r--;)(a=_e(t[r]))[w]?i.push(a):s.push(a);a=C(e,function(e,t){var r=t.length>0,i=e.length>0,s=function(s,o,a,l,c){var h,d,f,g=0,m="0",y=s&&[],v=[],b=u,w=s||i&&n.find.TAG("*",c),_=P+=null==b?1:Math.random()||.1,A=w.length;for(c&&(u=o!==p&&o);m!==A&&null!=(h=w[m]);m++){if(i&&h){for(d=0;f=e[d++];)if(f(h,o,a)){l.push(h);break}c&&(P=_)}r&&((h=!f&&h)&&g--,s&&y.push(h))}if(g+=m,r&&m!==g){for(d=0;f=t[d++];)f(y,v,o,a);if(s){if(g>0)for(;m--;)y[m]||v[m]||(v[m]=T.call(l));v=be(v)}j.apply(l,v),c&&!s&&v.length>0&&g+t.length>1&&se.uniqueSort(l)}return c&&(P=_,u=b),y};return r?ae(s):s}(s,i)),a.selector=e}return a},l=se.select=function(e,t,i,s){var l,u,c,h,d,p="function"==typeof e&&e,f=!s&&o(e=p.selector||e);if(i=i||[],1===f.length){if((u=f[0]=f[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&r.getById&&9===t.nodeType&&g&&n.relative[u[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(re,ne),t)||[])[0]))return i;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(l=G.needsContext.test(e)?0:u.length;l--&&(c=u[l],!n.relative[h=c.type]);)if((d=n.find[h])&&(s=d(c.matches[0].replace(re,ne),ee.test(u[0].type)&&fe(t.parentNode)||t))){if(u.splice(l,1),!(e=s.length&&me(u)))return j.apply(i,s),i;break}}return(p||a(e,f))(s,t,!g,i,ee.test(e)&&fe(t.parentNode)||t),i},r.sortStable=w.split("").sort(O).join("")===w,r.detectDuplicates=!!h,d(),r.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("div"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),r.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ue(N,(function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null})),se}(n);m.find=P,m.expr=P.selectors,m.expr[":"]=m.expr.pseudos,m.unique=P.uniqueSort,m.text=P.getText,m.isXMLDoc=P.isXML,m.contains=P.contains;var A=m.expr.match.needsContext,x=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^.[^:#\[\.,]*$/;function C(e,t,r){if(m.isFunction(t))return m.grep(e,(function(e,n){return!!t.call(e,n,e)!==r}));if(t.nodeType)return m.grep(e,(function(e){return e===t!==r}));if("string"==typeof t){if(S.test(t))return m.filter(t,e,r);t=m.filter(t,e)}return m.grep(e,(function(e){return u.call(t,e)>=0!==r}))}m.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?m.find.matchesSelector(n,e)?[n]:[]:m.find.matches(e,m.grep(t,(function(e){return 1===e.nodeType})))},m.fn.extend({find:function(e){var t,r=this.length,n=[],i=this;if("string"!=typeof e)return this.pushStack(m(e).filter((function(){for(t=0;t<r;t++)if(m.contains(i[t],this))return!0})));for(t=0;t<r;t++)m.find(e,i[t],n);return(n=this.pushStack(r>1?m.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&A.test(e)?m(e):e||[],!1).length}});var O,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(m.fn.init=function(e,t){var r,n;if(!e)return this;if("string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!r[1]&&t)return!t||t.jquery?(t||O).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof m?t[0]:t,m.merge(this,m.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),x.test(r[1])&&m.isPlainObject(t))for(r in t)m.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(n=f.getElementById(r[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=f,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):m.isFunction(e)?void 0!==O.ready?O.ready(e):e(m):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))}).prototype=m.fn,O=m(f);var k=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function T(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}m.extend({dir:function(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&m(e).is(r))break;n.push(e)}return n},sibling:function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}}),m.fn.extend({has:function(e){var t=m(e,this),r=t.length;return this.filter((function(){for(var e=0;e<r;e++)if(m.contains(this,t[e]))return!0}))},closest:function(e,t){for(var r,n=0,i=this.length,s=[],o=A.test(e)||"string"!=typeof e?m(e,t||this.context):0;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(o?o.index(r)>-1:1===r.nodeType&&m.find.matchesSelector(r,e))){s.push(r);break}return this.pushStack(s.length>1?m.unique(s):s)},index:function(e){return e?"string"==typeof e?u.call(m(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(m.unique(m.merge(this.get(),m(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m.dir(e,"parentNode")},parentsUntil:function(e,t,r){return m.dir(e,"parentNode",r)},next:function(e){return T(e,"nextSibling")},prev:function(e){return T(e,"previousSibling")},nextAll:function(e){return m.dir(e,"nextSibling")},prevAll:function(e){return m.dir(e,"previousSibling")},nextUntil:function(e,t,r){return m.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return m.dir(e,"previousSibling",r)},siblings:function(e){return m.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return m.sibling(e.firstChild)},contents:function(e){return e.contentDocument||m.merge([],e.childNodes)}},(function(e,t){m.fn[e]=function(r,n){var i=m.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=m.filter(n,i)),this.length>1&&(I[e]||m.unique(i),k.test(e)&&i.reverse()),this.pushStack(i)}}));var E,j=/\S+/g,R={};function Z(){f.removeEventListener("DOMContentLoaded",Z,!1),n.removeEventListener("load",Z,!1),m.ready()}m.Callbacks=function(e){e="string"==typeof e?R[e]||function(e){var t=R[e]={};return m.each(e.match(j)||[],(function(e,r){t[r]=!0})),t}(e):m.extend({},e);var t,r,n,i,s,o,a=[],l=!e.once&&[],u=function(h){for(t=e.memory&&h,r=!0,o=i||0,i=0,s=a.length,n=!0;a&&o<s;o++)if(!1===a[o].apply(h[0],h[1])&&e.stopOnFalse){t=!1;break}n=!1,a&&(l?l.length&&u(l.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function t(r){m.each(r,(function(r,n){var i=m.type(n);"function"===i?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==i&&t(n)}))}(arguments),n?s=a.length:t&&(i=r,u(t))}return this},remove:function(){return a&&m.each(arguments,(function(e,t){for(var r;(r=m.inArray(t,a,r))>-1;)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)})),this},has:function(e){return e?m.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],s=0,this},disable:function(){return a=l=t=void 0,this},disabled:function(){return!a},lock:function(){return l=void 0,t||c.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!a||r&&!l||(t=[e,(t=t||[]).slice?t.slice():t],n?l.push(t):u(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred((function(r){m.each(t,(function(t,s){var o=m.isFunction(e[t])&&e[t];i[s[1]]((function(){var e=o&&o.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[s[0]+"With"](this===n?r.promise():this,o?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?m.extend(e,n):n}},i={};return n.pipe=n.then,m.each(t,(function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add((function(){r=a}),t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?n:this,arguments),this},i[s[0]+"With"]=o.fireWith})),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,r,n,i=0,s=o.call(arguments),a=s.length,l=1!==a||e&&m.isFunction(e.promise)?a:0,u=1===l?e:m.Deferred(),c=function(e,r,n){return function(i){r[e]=this,n[e]=arguments.length>1?o.call(arguments):i,n===t?u.notifyWith(r,n):--l||u.resolveWith(r,n)}};if(a>1)for(t=new Array(a),r=new Array(a),n=new Array(a);i<a;i++)s[i]&&m.isFunction(s[i].promise)?s[i].promise().done(c(i,n,s)).fail(u.reject).progress(c(i,r,t)):--l;return l||u.resolveWith(n,s),u.promise()}}),m.fn.ready=function(e){return m.ready.promise().done(e),this},m.extend({isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){(!0===e?--m.readyWait:m.isReady)||(m.isReady=!0,!0!==e&&--m.readyWait>0||(E.resolveWith(f,[m]),m.fn.triggerHandler&&(m(f).triggerHandler("ready"),m(f).off("ready"))))}}),m.ready.promise=function(e){return E||(E=m.Deferred(),"complete"===f.readyState?setTimeout(m.ready):(f.addEventListener("DOMContentLoaded",Z,!1),n.addEventListener("load",Z,!1))),E.promise(e)},m.ready.promise();var N=m.access=function(e,t,r,n,i,s,o){var a=0,l=e.length,u=null==r;if("object"===m.type(r))for(a in i=!0,r)m.access(e,t,a,r[a],!0,s,o);else if(void 0!==n&&(i=!0,m.isFunction(n)||(o=!0),u&&(o?(t.call(e,n),t=null):(u=t,t=function(e,t,r){return u.call(m(e),r)})),t))for(;a<l;a++)t(e[a],r,o?n:n.call(e[a],a,t(e[a],r)));return i?e:u?t.call(e):l?t(e[0],r):s};function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=m.expando+F.uid++}m.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},F.uid=1,F.accepts=m.acceptData,F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=F.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(n){t[this.expando]=r,m.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var n,i=this.key(e),s=this.cache[i];if("string"==typeof t)s[t]=r;else if(m.isEmptyObject(s))m.extend(this.cache[i],t);else for(n in t)s[n]=t[n];return s},get:function(e,t){var r=this.cache[this.key(e)];return void 0===t?r:r[t]},access:function(e,t,r){var n;return void 0===t||t&&"string"==typeof t&&void 0===r?void 0!==(n=this.get(e,t))?n:this.get(e,m.camelCase(t)):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n,i,s=this.key(e),o=this.cache[s];if(void 0===t)this.cache[s]={};else{m.isArray(t)?n=t.concat(t.map(m.camelCase)):(i=m.camelCase(t),n=t in o?[t,i]:(n=i)in o?[n]:n.match(j)||[]),r=n.length;for(;r--;)delete o[n[r]]}},hasData:function(e){return!m.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var L=new F,$=new F,M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,U=/([A-Z])/g;function z(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace(U,"-$1").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:M.test(r)?m.parseJSON(r):r)}catch(e){}$.set(e,t,r)}else r=void 0;return r}m.extend({hasData:function(e){return $.hasData(e)||L.hasData(e)},data:function(e,t,r){return $.access(e,t,r)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,r){return L.access(e,t,r)},_removeData:function(e,t){L.remove(e,t)}}),m.fn.extend({data:function(e,t){var r,n,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=$.get(s),1===s.nodeType&&!L.get(s,"hasDataAttrs"))){for(r=o.length;r--;)o[r]&&0===(n=o[r].name).indexOf("data-")&&(n=m.camelCase(n.slice(5)),z(s,n,i[n]));L.set(s,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){$.set(this,e)})):N(this,(function(t){var r,n=m.camelCase(e);if(s&&void 0===t)return void 0!==(r=$.get(s,e))||void 0!==(r=$.get(s,n))||void 0!==(r=z(s,n,void 0))?r:void 0;this.each((function(){var r=$.get(this,n);$.set(this,n,t),-1!==e.indexOf("-")&&void 0!==r&&$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),m.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=L.get(e,t),r&&(!n||m.isArray(r)?n=L.access(e,t,m.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=m.queue(e,t),n=r.length,i=r.shift(),s=m._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete s.stop,i.call(e,(function(){m.dequeue(e,t)}),s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return L.get(e,r)||L.access(e,r,{empty:m.Callbacks("once memory").add((function(){L.remove(e,[t+"queue",r])}))})}}),m.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?m.queue(this[0],e):void 0===t?this:this.each((function(){var r=m.queue(this,e,t);m._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&m.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){m.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=m.Deferred(),s=this,o=this.length,a=function(){--n||i.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(r=L.get(s[o],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(a));return a(),i.promise(t)}});var q,H,B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=["Top","Right","Bottom","Left"],J=function(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)},V=/^(?:checkbox|radio)$/i;q=f.createDocumentFragment().appendChild(f.createElement("div")),(H=f.createElement("input")).setAttribute("type","radio"),H.setAttribute("checked","checked"),H.setAttribute("name","t"),q.appendChild(H),p.checkClone=q.cloneNode(!0).cloneNode(!0).lastChild.checked,q.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!q.cloneNode(!0).lastChild.defaultValue;var G="undefined";p.focusinBubbles="onfocusin"in n;var X=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,K=/^(?:focusinfocus|focusoutblur)$/,Q=/^([^.]*)(?:\.(.+)|)$/;function ee(){return!0}function te(){return!1}function re(){try{return f.activeElement}catch(e){}}m.event={global:{},add:function(e,t,r,n,i){var s,o,a,l,u,c,h,d,p,f,g,y=L.get(e);if(y)for(r.handler&&(r=(s=r).handler,i=s.selector),r.guid||(r.guid=m.guid++),(l=y.events)||(l=y.events={}),(o=y.handle)||(o=y.handle=function(t){return typeof m!==G&&m.event.triggered!==t.type?m.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(j)||[""]).length;u--;)p=g=(a=Q.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=m.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=m.event.special[p]||{},c=m.extend({type:p,origType:g,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&m.expr.match.needsContext.test(i),namespace:f.join(".")},s),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,f,o)||e.addEventListener&&e.addEventListener(p,o,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),m.event.global[p]=!0)},remove:function(e,t,r,n,i){var s,o,a,l,u,c,h,d,p,f,g,y=L.hasData(e)&&L.get(e);if(y&&(l=y.events)){for(u=(t=(t||"").match(j)||[""]).length;u--;)if(p=g=(a=Q.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=m.event.special[p]||{},d=l[p=(n?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)c=d[s],!i&&g!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,y.handle)||m.removeEvent(e,p,y.handle),delete l[p])}else for(p in l)m.event.remove(e,p+t[u],r,n,!0);m.isEmptyObject(l)&&(delete y.handle,L.remove(e,"events"))}},trigger:function(e,t,r,i){var s,o,a,l,u,c,h,p=[r||f],g=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(o=a=r=r||f,3!==r.nodeType&&8!==r.nodeType&&!K.test(g+m.event.triggered)&&(g.indexOf(".")>=0&&(y=g.split("."),g=y.shift(),y.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[m.expando]?e:new m.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=y.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:m.makeArray(t,[e]),h=m.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(r,t))){if(!i&&!h.noBubble&&!m.isWindow(r)){for(l=h.delegateType||g,K.test(l+g)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(r.ownerDocument||f)&&p.push(a.defaultView||a.parentWindow||n)}for(s=0;(o=p[s++])&&!e.isPropagationStopped();)e.type=s>1?l:h.bindType||g,(c=(L.get(o,"events")||{})[e.type]&&L.get(o,"handle"))&&c.apply(o,t),(c=u&&o[u])&&c.apply&&m.acceptData(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(p.pop(),t)||!m.acceptData(r)||u&&m.isFunction(r[g])&&!m.isWindow(r)&&((a=r[u])&&(r[u]=null),m.event.triggered=g,r[g](),m.event.triggered=void 0,a&&(r[u]=a)),e.result}},dispatch:function(e){e=m.event.fix(e);var t,r,n,i,s,a=[],l=o.call(arguments),u=(L.get(this,"events")||{})[e.type]||[],c=m.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=m.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,r=0;(s=i.handlers[r++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(n=((m.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,l))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,n,i,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(n=[],r=0;r<a;r++)void 0===n[i=(s=t[r]).selector+" "]&&(n[i]=s.needsContext?m(i,this).index(l)>=0:m.find(i,this,null,[l]).length),n[i]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,n,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=(r=e.target.ownerDocument||f).documentElement,i=r.body,e.pageX=t.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,r,n,i=e.type,s=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=Y.test(i)?this.mouseHooks:X.test(i)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new m.Event(s),t=n.length;t--;)e[r=n[t]]=s[r];return e.target||(e.target=f),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==re()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===re()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&m.nodeName(this,"input"))return this.click(),!1},_default:function(e){return m.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,n){var i=m.extend(new m.Event,r,{type:e,isSimulated:!0,originalEvent:{}});n?m.event.trigger(i,null,t):m.event.dispatch.call(t,i),i.isDefaultPrevented()&&r.preventDefault()}},m.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r,!1)},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ee:te):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={isDefaultPrevented:te,isPropagationStopped:te,isImmediatePropagationStopped:te,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ee,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ee,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ee,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,s=e.handleObj;return i&&(i===n||m.contains(n,i))||(e.type=s.origType,r=s.handler.apply(this,arguments),e.type=t),r}}})),p.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},(function(e,t){var r=function(e){m.event.simulate(t,e.target,m.event.fix(e),!0)};m.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=L.access(n,t);i||n.addEventListener(e,r,!0),L.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=L.access(n,t)-1;i?L.access(n,t,i):(n.removeEventListener(e,r,!0),L.remove(n,t))}}})),m.fn.extend({on:function(e,t,r,n,i){var s,o;if("object"==typeof e){for(o in"string"!=typeof t&&(r=r||t,t=void 0),e)this.on(o,t,r,e[o],i);return this}if(null==r&&null==n?(n=t,r=t=void 0):null==n&&("string"==typeof t?(n=r,r=void 0):(n=r,r=t,t=void 0)),!1===n)n=te;else if(!n)return this;return 1===i&&(s=n,n=function(e){return m().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=m.guid++)),this.each((function(){m.event.add(this,e,n,r,t)}))},one:function(e,t,r,n){return this.on(e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,m(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=te),this.each((function(){m.event.remove(this,e,r,t)}))},trigger:function(e,t){return this.each((function(){m.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var r=this[0];if(r)return m.event.trigger(e,t,r,!0)}});var ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ie=/<([\w:]+)/,se=/<|&#?\w+;/,oe=/<(?:script|style|link)/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,le=/^$|\/(?:java|ecma)script/i,ue=/^true\/(.*)/,ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,he={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){return m.nodeName(e,"table")&&m.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function fe(e){var t=ue.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ge(e,t){for(var r=0,n=e.length;r<n;r++)L.set(e[r],"globalEval",!t||L.get(t[r],"globalEval"))}function me(e,t){var r,n,i,s,o,a,l,u;if(1===t.nodeType){if(L.hasData(e)&&(s=L.access(e),o=L.set(t,s),u=s.events))for(i in delete o.handle,o.events={},u)for(r=0,n=u[i].length;r<n;r++)m.event.add(t,i,u[i][r]);$.hasData(e)&&(a=$.access(e),l=m.extend({},a),$.set(t,l))}}function ye(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&m.nodeName(e,t)?m.merge([e],r):r}he.optgroup=he.option,he.tbody=he.tfoot=he.colgroup=he.caption=he.thead,he.th=he.td,m.extend({clone:function(e,t,r){var n,i,s,o,a,l,u,c=e.cloneNode(!0),h=m.contains(e.ownerDocument,e);if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(o=ye(c),n=0,i=(s=ye(e)).length;n<i;n++)a=s[n],void 0,"input"===(u=(l=o[n]).nodeName.toLowerCase())&&V.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(r)for(s=s||ye(e),o=o||ye(c),n=0,i=s.length;n<i;n++)me(s[n],o[n]);else me(e,c);return(o=ye(c,"script")).length>0&&ge(o,!h&&ye(e,"script")),c},buildFragment:function(e,t,r,n){for(var i,s,o,a,l,u,c=t.createDocumentFragment(),h=[],d=0,p=e.length;d<p;d++)if((i=e[d])||0===i)if("object"===m.type(i))m.merge(h,i.nodeType?[i]:i);else if(se.test(i)){for(s=s||c.appendChild(t.createElement("div")),o=(ie.exec(i)||["",""])[1].toLowerCase(),a=he[o]||he._default,s.innerHTML=a[1]+i.replace(ne,"<$1></$2>")+a[2],u=a[0];u--;)s=s.lastChild;m.merge(h,s.childNodes),(s=c.firstChild).textContent=""}else h.push(t.createTextNode(i));for(c.textContent="",d=0;i=h[d++];)if((!n||-1===m.inArray(i,n))&&(l=m.contains(i.ownerDocument,i),s=ye(c.appendChild(i),"script"),l&&ge(s),r))for(u=0;i=s[u++];)le.test(i.type||"")&&r.push(i);return c},cleanData:function(e){for(var t,r,n,i,s=m.event.special,o=0;void 0!==(r=e[o]);o++){if(m.acceptData(r)&&(i=r[L.expando])&&(t=L.cache[i])){if(t.events)for(n in t.events)s[n]?m.event.remove(r,n):m.removeEvent(r,n,t.handle);L.cache[i]&&delete L.cache[i]}delete $.cache[r[$.expando]]}}}),m.fn.extend({text:function(e){return N(this,(function(e){return void 0===e?m.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return this.domManip(arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||de(this,e).appendChild(e)}))},prepend:function(){return this.domManip(arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=de(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return this.domManip(arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},remove:function(e,t){for(var r,n=e?m.filter(e,this):this,i=0;null!=(r=n[i]);i++)t||1!==r.nodeType||m.cleanData(ye(r)),r.parentNode&&(t&&m.contains(r.ownerDocument,r)&&ge(ye(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(m.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return m.clone(this,e,t)}))},html:function(e){return N(this,(function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!oe.test(e)&&!he[(ie.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ne,"<$1></$2>");try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(m.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,(function(t){e=this.parentNode,m.cleanData(ye(this)),e&&e.replaceChild(t,this)})),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=a.apply([],e);var r,n,i,s,o,l,u=0,c=this.length,h=this,d=c-1,f=e[0],g=m.isFunction(f);if(g||c>1&&"string"==typeof f&&!p.checkClone&&ae.test(f))return this.each((function(r){var n=h.eq(r);g&&(e[0]=f.call(this,r,n.html())),n.domManip(e,t)}));if(c&&(n=(r=m.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===r.childNodes.length&&(r=n),n)){for(s=(i=m.map(ye(r,"script"),pe)).length;u<c;u++)o=r,u!==d&&(o=m.clone(o,!0,!0),s&&m.merge(i,ye(o,"script"))),t.call(this[u],o,u);if(s)for(l=i[i.length-1].ownerDocument,m.map(i,fe),u=0;u<s;u++)o=i[u],le.test(o.type||"")&&!L.access(o,"globalEval")&&m.contains(l,o)&&(o.src?m._evalUrl&&m._evalUrl(o.src):m.globalEval(o.textContent.replace(ce,"")))}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){m.fn[e]=function(e){for(var r,n=[],i=m(e),s=i.length-1,o=0;o<=s;o++)r=o===s?this:this.clone(!0),m(i[o])[t](r),l.apply(n,r.get());return this.pushStack(n)}}));var ve,be={};function we(e,t){var r,i=m(t.createElement(e)).appendTo(t.body),s=n.getDefaultComputedStyle&&(r=n.getDefaultComputedStyle(i[0]))?r.display:m.css(i[0],"display");return i.detach(),s}function _e(e){var t=f,r=be[e];return r||("none"!==(r=we(e,t))&&r||((t=(ve=(ve||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),r=we(e,t),ve.detach()),be[e]=r),r}var Pe=/^margin/,Ae=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),xe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):n.getComputedStyle(e,null)};function Se(e,t,r){var n,i,s,o,a=e.style;return(r=r||xe(e))&&(o=r.getPropertyValue(t)||r[t]),r&&(""!==o||m.contains(e.ownerDocument,e)||(o=m.style(e,t)),Ae.test(o)&&Pe.test(t)&&(n=a.width,i=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=r.width,a.width=n,a.minWidth=i,a.maxWidth=s)),void 0!==o?o+"":o}function Ce(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,r=f.documentElement,i=f.createElement("div"),s=f.createElement("div");function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(i);var o=n.getComputedStyle(s,null);e="1%"!==o.top,t="4px"===o.width,r.removeChild(i)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===s.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(s),n.getComputedStyle&&m.extend(p,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(f.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(n.getComputedStyle(t,null).marginRight),r.removeChild(i),s.removeChild(t),e}}))}(),m.swap=function(e,t,r,n){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];for(s in i=r.apply(e,n||[]),t)e.style[s]=o[s];return i};var Oe=/^(none|table(?!-c[ea]).+)/,De=new RegExp("^("+B+")(.*)$","i"),ke=new RegExp("^([+-])=("+B+")","i"),Ie={position:"absolute",visibility:"hidden",display:"block"},Te={letterSpacing:"0",fontWeight:"400"},Ee=["Webkit","O","Moz","ms"];function je(e,t){if(t in e)return t;for(var r=t[0].toUpperCase()+t.slice(1),n=t,i=Ee.length;i--;)if((t=Ee[i]+r)in e)return t;return n}function Re(e,t,r){var n=De.exec(t);return n?Math.max(0,n[1]-(r||0))+(n[2]||"px"):t}function Ze(e,t,r,n,i){for(var s=r===(n?"border":"content")?4:"width"===t?1:0,o=0;s<4;s+=2)"margin"===r&&(o+=m.css(e,r+W[s],!0,i)),n?("content"===r&&(o-=m.css(e,"padding"+W[s],!0,i)),"margin"!==r&&(o-=m.css(e,"border"+W[s]+"Width",!0,i))):(o+=m.css(e,"padding"+W[s],!0,i),"padding"!==r&&(o+=m.css(e,"border"+W[s]+"Width",!0,i)));return o}function Ne(e,t,r){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=xe(e),o="border-box"===m.css(e,"boxSizing",!1,s);if(i<=0||null==i){if(((i=Se(e,t,s))<0||null==i)&&(i=e.style[t]),Ae.test(i))return i;n=o&&(p.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ze(e,t,r||(o?"border":"content"),n,s)+"px"}function Fe(e,t){for(var r,n,i,s=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(s[o]=L.get(n,"olddisplay"),r=n.style.display,t?(s[o]||"none"!==r||(n.style.display=""),""===n.style.display&&J(n)&&(s[o]=L.access(n,"olddisplay",_e(n.nodeName)))):(i=J(n),"none"===r&&i||L.set(n,"olddisplay",i?r:m.css(n,"display"))));for(o=0;o<a;o++)(n=e[o]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function Le(e,t,r,n,i){return new Le.prototype.init(e,t,r,n,i)}m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Se(e,"opacity");return""===r?"1":r}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,a=m.camelCase(t),l=e.style;if(t=m.cssProps[a]||(m.cssProps[a]=je(l,a)),o=m.cssHooks[t]||m.cssHooks[a],void 0===r)return o&&"get"in o&&void 0!==(i=o.get(e,!1,n))?i:l[t];"string"==(s=typeof r)&&(i=ke.exec(r))&&(r=(i[1]+1)*i[2]+parseFloat(m.css(e,t)),s="number"),null!=r&&r==r&&("number"!==s||m.cssNumber[a]||(r+="px"),p.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(e,r,n))||(l[t]=r))}},css:function(e,t,r,n){var i,s,o,a=m.camelCase(t);return t=m.cssProps[a]||(m.cssProps[a]=je(e.style,a)),(o=m.cssHooks[t]||m.cssHooks[a])&&"get"in o&&(i=o.get(e,!0,r)),void 0===i&&(i=Se(e,t,n)),"normal"===i&&t in Te&&(i=Te[t]),""===r||r?(s=parseFloat(i),!0===r||m.isNumeric(s)?s||0:i):i}}),m.each(["height","width"],(function(e,t){m.cssHooks[t]={get:function(e,r,n){if(r)return Oe.test(m.css(e,"display"))&&0===e.offsetWidth?m.swap(e,Ie,(function(){return Ne(e,t,n)})):Ne(e,t,n)},set:function(e,r,n){var i=n&&xe(e);return Re(0,r,n?Ze(e,t,n,"border-box"===m.css(e,"boxSizing",!1,i),i):0)}}})),m.cssHooks.marginRight=Ce(p.reliableMarginRight,(function(e,t){if(t)return m.swap(e,{display:"inline-block"},Se,[e,"marginRight"])})),m.each({margin:"",padding:"",border:"Width"},(function(e,t){m.cssHooks[e+t]={expand:function(r){for(var n=0,i={},s="string"==typeof r?r.split(" "):[r];n<4;n++)i[e+W[n]+t]=s[n]||s[n-2]||s[0];return i}},Pe.test(e)||(m.cssHooks[e+t].set=Re)})),m.fn.extend({css:function(e,t){return N(this,(function(e,t,r){var n,i,s={},o=0;if(m.isArray(t)){for(n=xe(e),i=t.length;o<i;o++)s[t[o]]=m.css(e,t[o],!1,n);return s}return void 0!==r?m.style(e,t,r):m.css(e,t)}),e,t,arguments.length>1)},show:function(){return Fe(this,!0)},hide:function(){return Fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){J(this)?m(this).show():m(this).hide()}))}}),m.Tween=Le,Le.prototype={constructor:Le,init:function(e,t,r,n,i,s){this.elem=e,this.prop=r,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(m.cssNumber[r]?"":"px")},cur:function(){var e=Le.propHooks[this.prop];return e&&e.get?e.get(this):Le.propHooks._default.get(this)},run:function(e){var t,r=Le.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Le.propHooks._default.set(this),this}},Le.prototype.init.prototype=Le.prototype,Le.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=m.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[m.cssProps[e.prop]]||m.cssHooks[e.prop])?m.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Le.propHooks.scrollTop=Le.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},m.fx=Le.prototype.init,m.fx.step={};var $e,Me,Ue=/^(?:toggle|show|hide)$/,ze=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),qe=/queueHooks$/,He=[function(e,t,r){var n,i,s,o,a,l,u,c=this,h={},d=e.style,p=e.nodeType&&J(e),f=L.get(e,"fxshow");for(n in r.queue||(null==(a=m._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always((function(){c.always((function(){a.unqueued--,m.queue(e,"fx").length||a.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(u=m.css(e,"display"))?L.get(e,"olddisplay")||_e(e.nodeName):u)&&"none"===m.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",c.always((function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}))),t)if(i=t[n],Ue.exec(i)){if(delete t[n],s=s||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!f||void 0===f[n])continue;p=!0}h[n]=f&&f[n]||m.style(e,n)}else u=void 0;if(m.isEmptyObject(h))"inline"===("none"===u?_e(e.nodeName):u)&&(d.display=u);else for(n in f?"hidden"in f&&(p=f.hidden):f=L.access(e,"fxshow",{}),s&&(f.hidden=!p),p?m(e).show():c.done((function(){m(e).hide()})),c.done((function(){var t;for(t in L.remove(e,"fxshow"),h)m.style(e,t,h[t])})),h)o=Ve(p?f[n]:0,n,c),n in f||(f[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}],Be={"*":[function(e,t){var r=this.createTween(e,t),n=r.cur(),i=ze.exec(t),s=i&&i[3]||(m.cssNumber[e]?"":"px"),o=(m.cssNumber[e]||"px"!==s&&+n)&&ze.exec(m.css(r.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+n||1;do{o/=a=a||".5",m.style(r.elem,e,o+s)}while(a!==(a=r.cur()/n)&&1!==a&&--l)}return i&&(o=r.start=+o||+n||0,r.unit=s,r.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),r}]};function We(){return setTimeout((function(){$e=void 0})),$e=m.now()}function Je(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=W[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function Ve(e,t,r){for(var n,i=(Be[t]||[]).concat(Be["*"]),s=0,o=i.length;s<o;s++)if(n=i[s].call(r,t,e))return n}function Ge(e,t,r){var n,i,s=0,o=He.length,a=m.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=$e||We(),r=Math.max(0,u.startTime+u.duration-t),n=1-(r/u.duration||0),s=0,o=u.tweens.length;s<o;s++)u.tweens[s].run(n);return a.notifyWith(e,[u,n,r]),n<1&&o?r:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:$e||We(),duration:r.duration,tweens:[],createTween:function(t,r){var n=m.Tween(e,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var r=0,n=t?u.tweens.length:0;if(i)return this;for(i=!0;r<n;r++)u.tweens[r].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var r,n,i,s,o;for(r in e)if(i=t[n=m.camelCase(r)],s=e[r],m.isArray(s)&&(i=s[1],s=e[r]=s[0]),r!==n&&(e[n]=s,delete e[r]),(o=m.cssHooks[n])&&"expand"in o)for(r in s=o.expand(s),delete e[n],s)r in e||(e[r]=s[r],t[r]=i);else t[n]=i}(c,u.opts.specialEasing);s<o;s++)if(n=He[s].call(u,e,c,u.opts))return n;return m.map(c,Ve,u),m.isFunction(u.opts.start)&&u.opts.start.call(e,u),m.fx.timer(m.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}m.Animation=m.extend(Ge,{tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,n=0,i=e.length;n<i;n++)r=e[n],Be[r]=Be[r]||[],Be[r].unshift(t)},prefilter:function(e,t){t?He.unshift(e):He.push(e)}}),m.speed=function(e,t,r){var n=e&&"object"==typeof e?m.extend({},e):{complete:r||!r&&t||m.isFunction(e)&&e,duration:e,easing:r&&t||t&&!m.isFunction(t)&&t};return n.duration=m.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in m.fx.speeds?m.fx.speeds[n.duration]:m.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m.isFunction(n.old)&&n.old.call(this),n.queue&&m.dequeue(this,n.queue)},n},m.fn.extend({fadeTo:function(e,t,r,n){return this.filter(J).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=m.isEmptyObject(e),s=m.speed(t,r,n),o=function(){var t=Ge(this,m.extend({},e),s);(i||L.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",s=m.timers,o=L.get(this);if(i)o[i]&&o[i].stop&&n(o[i]);else for(i in o)o[i]&&o[i].stop&&qe.test(i)&&n(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(r),t=!1,s.splice(i,1));!t&&r||m.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,r=L.get(this),n=r[e+"queue"],i=r[e+"queueHooks"],s=m.timers,o=n?n.length:0;for(r.finish=!0,m.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish}))}}),m.each(["toggle","show","hide"],(function(e,t){var r=m.fn[t];m.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Je(t,!0),e,n,i)}})),m.each({slideDown:Je("show"),slideUp:Je("hide"),slideToggle:Je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){m.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}})),m.timers=[],m.fx.tick=function(){var e,t=0,r=m.timers;for($e=m.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||m.fx.stop(),$e=void 0},m.fx.timer=function(e){m.timers.push(e),e()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){Me||(Me=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(Me),Me=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(e,t){return e=m.fx&&m.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var n=setTimeout(t,e);r.stop=function(){clearTimeout(n)}}))},function(){var e=f.createElement("input"),t=f.createElement("select"),r=t.appendChild(f.createElement("option"));e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=r.selected,t.disabled=!0,p.optDisabled=!r.disabled,(e=f.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}();var Xe,Ye=m.expr.attrHandle;m.fn.extend({attr:function(e,t){return N(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){m.removeAttr(this,e)}))}}),m.extend({attr:function(e,t,r){var n,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===G?m.prop(e,t,r):(1===s&&m.isXMLDoc(e)||(t=t.toLowerCase(),n=m.attrHooks[t]||(m.expr.match.bool.test(t)?Xe:void 0)),void 0===r?n&&"get"in n&&null!==(i=n.get(e,t))?i:null==(i=m.find.attr(e,t))?void 0:i:null!==r?n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:(e.setAttribute(t,r+""),r):void m.removeAttr(e,t))},removeAttr:function(e,t){var r,n,i=0,s=t&&t.match(j);if(s&&1===e.nodeType)for(;r=s[i++];)n=m.propFix[r]||r,m.expr.match.bool.test(r)&&(e[n]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&m.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),Xe={set:function(e,t,r){return!1===t?m.removeAttr(e,r):e.setAttribute(r,r),r}},m.each(m.expr.match.bool.source.match(/\w+/g),(function(e,t){var r=Ye[t]||m.find.attr;Ye[t]=function(e,t,n){var i,s;return n||(s=Ye[t],Ye[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,Ye[t]=s),i}}));var Ke=/^(?:input|select|textarea|button)$/i;m.fn.extend({prop:function(e,t){return N(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[m.propFix[e]||e]}))}}),m.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,r){var n,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!m.isXMLDoc(e))&&(t=m.propFix[t]||t,i=m.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ke.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),p.optSelected||(m.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){m.propFix[this.toLowerCase()]=this}));var Qe=/[\t\r\n\f]/g;m.fn.extend({addClass:function(e){var t,r,n,i,s,o,a="string"==typeof e&&e,l=0,u=this.length;if(m.isFunction(e))return this.each((function(t){m(this).addClass(e.call(this,t,this.className))}));if(a)for(t=(e||"").match(j)||[];l<u;l++)if(n=1===(r=this[l]).nodeType&&(r.className?(" "+r.className+" ").replace(Qe," "):" ")){for(s=0;i=t[s++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");o=m.trim(n),r.className!==o&&(r.className=o)}return this},removeClass:function(e){var t,r,n,i,s,o,a=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(m.isFunction(e))return this.each((function(t){m(this).removeClass(e.call(this,t,this.className))}));if(a)for(t=(e||"").match(j)||[];l<u;l++)if(n=1===(r=this[l]).nodeType&&(r.className?(" "+r.className+" ").replace(Qe," "):"")){for(s=0;i=t[s++];)for(;n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");o=e?m.trim(n):"",r.className!==o&&(r.className=o)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):m.isFunction(e)?this.each((function(r){m(this).toggleClass(e.call(this,r,this.className,t),t)})):this.each((function(){if("string"===r)for(var t,n=0,i=m(this),s=e.match(j)||[];t=s[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else r!==G&&"boolean"!==r||(this.className&&L.set(this,"__className__",this.className),this.className=this.className||!1===e?"":L.get(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",r=0,n=this.length;r<n;r++)if(1===this[r].nodeType&&(" "+this[r].className+" ").replace(Qe," ").indexOf(t)>=0)return!0;return!1}});var et=/\r/g;m.fn.extend({val:function(e){var t,r,n,i=this[0];return arguments.length?(n=m.isFunction(e),this.each((function(r){var i;1===this.nodeType&&(null==(i=n?e.call(this,r,m(this).val()):e)?i="":"number"==typeof i?i+="":m.isArray(i)&&(i=m.map(i,(function(e){return null==e?"":e+""}))),(t=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=m.valHooks[i.type]||m.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:"string"==typeof(r=i.value)?r.replace(et,""):null==r?"":r:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=m.find.attr(e,"value");return null!=t?t:m.trim(m.text(e))}},select:{get:function(e){for(var t,r,n=e.options,i=e.selectedIndex,s="select-one"===e.type||i<0,o=s?null:[],a=s?i+1:n.length,l=i<0?a:s?i:0;l<a;l++)if(((r=n[l]).selected||l===i)&&(p.optDisabled?!r.disabled:null===r.getAttribute("disabled"))&&(!r.parentNode.disabled||!m.nodeName(r.parentNode,"optgroup"))){if(t=m(r).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var r,n,i=e.options,s=m.makeArray(t),o=i.length;o--;)((n=i[o]).selected=m.inArray(n.value,s)>=0)&&(r=!0);return r||(e.selectedIndex=-1),s}}}}),m.each(["radio","checkbox"],(function(){m.valHooks[this]={set:function(e,t){if(m.isArray(t))return e.checked=m.inArray(m(e).val(),t)>=0}},p.checkOn||(m.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){m.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}})),m.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}});var tt=m.now(),rt=/\?/;m.parseJSON=function(e){return JSON.parse(e+"")},m.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+e),t};var nt=/#.*$/,it=/([?&])_=[^&]*/,st=/^(.*?):[ \t]*([^\r\n]*)$/gm,ot=/^(?:GET|HEAD)$/,at=/^\/\//,lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ut={},ct={},ht="*/".concat("*"),dt=n.location.href,pt=lt.exec(dt.toLowerCase())||[];function ft(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,s=t.toLowerCase().match(j)||[];if(m.isFunction(r))for(;n=s[i++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function gt(e,t,r,n){var i={},s=e===ct;function o(a){var l;return i[a]=!0,m.each(e[a]||[],(function(e,a){var u=a(t,r,n);return"string"!=typeof u||s||i[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)})),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function mt(e,t){var r,n,i=m.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&m.extend(!0,e,n),e}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mt(mt(e,m.ajaxSettings),t):mt(m.ajaxSettings,e)},ajaxPrefilter:ft(ut),ajaxTransport:ft(ct),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,n,i,s,o,a,l,u,c=m.ajaxSetup({},t),h=c.context||c,d=c.context&&(h.nodeType||h.jquery)?m(h):m.event,p=m.Deferred(),f=m.Callbacks("once memory"),g=c.statusCode||{},y={},v={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!s)for(s={};t=st.exec(i);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return b||(e=v[r]=v[r]||e,y[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),P(0,t),this}};if(p.promise(_).complete=f.add,_.success=_.done,_.error=_.fail,c.url=((e||c.url||dt)+"").replace(nt,"").replace(at,pt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=m.trim(c.dataType||"*").toLowerCase().match(j)||[""],null==c.crossDomain&&(a=lt.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===pt[1]&&a[2]===pt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(pt[3]||("http:"===pt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=m.param(c.data,c.traditional)),gt(ut,c,t,_),2===b)return _;for(u in(l=m.event&&c.global)&&0==m.active++&&m.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!ot.test(c.type),n=c.url,c.hasContent||(c.data&&(n=c.url+=(rt.test(n)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=it.test(n)?n.replace(it,"$1_="+tt++):n+(rt.test(n)?"&":"?")+"_="+tt++)),c.ifModified&&(m.lastModified[n]&&_.setRequestHeader("If-Modified-Since",m.lastModified[n]),m.etag[n]&&_.setRequestHeader("If-None-Match",m.etag[n])),(c.data&&c.hasContent&&!1!==c.contentType||t.contentType)&&_.setRequestHeader("Content-Type",c.contentType),_.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+ht+"; q=0.01":""):c.accepts["*"]),c.headers)_.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(h,_,c)||2===b))return _.abort();for(u in w="abort",{success:1,error:1,complete:1})_[u](c[u]);if(r=gt(ct,c,t,_)){_.readyState=1,l&&d.trigger("ajaxSend",[_,c]),c.async&&c.timeout>0&&(o=setTimeout((function(){_.abort("timeout")}),c.timeout));try{b=1,r.send(y,P)}catch(e){if(!(b<2))throw e;P(-1,e)}}else P(-1,"No Transport");function P(e,t,s,a){var u,y,v,w,P,A=t;2!==b&&(b=2,o&&clearTimeout(o),r=void 0,i=a||"",_.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(w=function(e,t,r){for(var n,i,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in a)if(a[i]&&a[i].test(n)){l.unshift(i);break}if(l[0]in r)s=l[0];else{for(i in r){if(!l[0]||e.converters[i+" "+l[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==l[0]&&l.unshift(s),r[s]}(c,_,s)),w=function(e,t,r,n){var i,s,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(r[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(o=u[l+" "+s]||u["* "+s]))for(i in u)if((a=i.split(" "))[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[i]:!0!==u[i]&&(s=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(c,w,_,u),u?(c.ifModified&&((P=_.getResponseHeader("Last-Modified"))&&(m.lastModified[n]=P),(P=_.getResponseHeader("etag"))&&(m.etag[n]=P)),204===e||"HEAD"===c.type?A="nocontent":304===e?A="notmodified":(A=w.state,y=w.data,u=!(v=w.error))):(v=A,!e&&A||(A="error",e<0&&(e=0))),_.status=e,_.statusText=(t||A)+"",u?p.resolveWith(h,[y,A,_]):p.rejectWith(h,[_,A,v]),_.statusCode(g),g=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[_,c,u?y:v]),f.fireWith(h,[_,A]),l&&(d.trigger("ajaxComplete",[_,c]),--m.active||m.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,r){return m.get(e,t,r,"json")},getScript:function(e,t){return m.get(e,void 0,t,"script")}}),m.each(["get","post"],(function(e,t){m[t]=function(e,r,n,i){return m.isFunction(r)&&(i=i||n,n=r,r=void 0),m.ajax({url:e,type:t,dataType:i,data:r,success:n})}})),m._evalUrl=function(e){return m.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},m.fn.extend({wrapAll:function(e){var t;return m.isFunction(e)?this.each((function(t){m(this).wrapAll(e.call(this,t))})):(this[0]&&(t=m(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this)},wrapInner:function(e){return m.isFunction(e)?this.each((function(t){m(this).wrapInner(e.call(this,t))})):this.each((function(){var t=m(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m.isFunction(e);return this.each((function(r){m(this).wrapAll(t?e.call(this,r):e)}))},unwrap:function(){return this.parent().each((function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)})).end()}}),m.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},m.expr.filters.visible=function(e){return!m.expr.filters.hidden(e)};var yt=/%20/g,vt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,_t=/^(?:input|select|textarea|keygen)/i;function Pt(e,t,r,n){var i;if(m.isArray(t))m.each(t,(function(t,i){r||vt.test(e)?n(e,i):Pt(e+"["+("object"==typeof i?t:"")+"]",i,r,n)}));else if(r||"object"!==m.type(t))n(e,t);else for(i in t)Pt(e+"["+i+"]",t[i],r,n)}m.param=function(e,t){var r,n=[],i=function(e,t){t=m.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.jquery&&!m.isPlainObject(e))m.each(e,(function(){i(this.name,this.value)}));else for(r in e)Pt(r,e[r],t,i);return n.join("&").replace(yt,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=m.prop(this,"elements");return e?m.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!m(this).is(":disabled")&&_t.test(this.nodeName)&&!wt.test(e)&&(this.checked||!V.test(e))})).map((function(e,t){var r=m(this).val();return null==r?null:m.isArray(r)?m.map(r,(function(e){return{name:t.name,value:e.replace(bt,"\r\n")}})):{name:t.name,value:r.replace(bt,"\r\n")}})).get()}}),m.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var At=0,xt={},St={0:200,1223:204},Ct=m.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",(function(){for(var e in xt)xt[e]()})),p.cors=!!Ct&&"withCredentials"in Ct,p.ajax=Ct=!!Ct,m.ajaxTransport((function(e){var t;if(p.cors||Ct&&!e.crossDomain)return{send:function(r,n){var i,s=e.xhr(),o=++At;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];for(i in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(i,r[i]);t=function(e){return function(){t&&(delete xt[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?n(s.status,s.statusText):n(St[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xt[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return m.globalEval(e),e}}}),m.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),m.ajaxTransport("script",(function(e){var t,r;if(e.crossDomain)return{send:function(n,i){t=m("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&i("error"===e.type?404:200,e.type)}),f.head.appendChild(t[0])},abort:function(){r&&r()}}}));var Ot=[],Dt=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||m.expando+"_"+tt++;return this[e]=!0,e}}),m.ajaxPrefilter("json jsonp",(function(e,t,r){var i,s,o,a=!1!==e.jsonp&&(Dt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=m.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Dt,"$1"+i):!1!==e.jsonp&&(e.url+=(rt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||m.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=n[i],n[i]=function(){o=arguments},r.always((function(){n[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Ot.push(i)),o&&m.isFunction(s)&&s(o[0]),o=s=void 0})),"script"})),m.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||f;var n=x.exec(e),i=!r&&[];return n?[t.createElement(n[1])]:(n=m.buildFragment([e],t,i),i&&i.length&&m(i).remove(),m.merge([],n.childNodes))};var kt=m.fn.load;m.fn.load=function(e,t,r){if("string"!=typeof e&&kt)return kt.apply(this,arguments);var n,i,s,o=this,a=e.indexOf(" ");return a>=0&&(n=m.trim(e.slice(a)),e=e.slice(0,a)),m.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&m.ajax({url:e,type:i,dataType:"html",data:t}).done((function(e){s=arguments,o.html(n?m("<div>").append(m.parseHTML(e)).find(n):e)})).complete(r&&function(e,t){o.each(r,s||[e.responseText,t,e])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){m.fn[t]=function(e){return this.on(t,e)}})),m.expr.filters.animated=function(e){return m.grep(m.timers,(function(t){return e===t.elem})).length};var It=n.document.documentElement;function Tt(e){return m.isWindow(e)?e:9===e.nodeType&&e.defaultView}m.offset={setOffset:function(e,t,r){var n,i,s,o,a,l,u=m.css(e,"position"),c=m(e),h={};"static"===u&&(e.style.position="relative"),a=c.offset(),s=m.css(e,"top"),l=m.css(e,"left"),("absolute"===u||"fixed"===u)&&(s+l).indexOf("auto")>-1?(o=(n=c.position()).top,i=n.left):(o=parseFloat(s)||0,i=parseFloat(l)||0),m.isFunction(t)&&(t=t.call(e,r,a)),null!=t.top&&(h.top=t.top-a.top+o),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):c.css(h)}},m.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){m.offset.setOffset(this,e,t)}));var t,r,n=this[0],i={top:0,left:0},s=n&&n.ownerDocument;return s?(t=s.documentElement,m.contains(t,n)?(typeof n.getBoundingClientRect!==G&&(i=n.getBoundingClientRect()),r=Tt(s),{top:i.top+r.pageYOffset-t.clientTop,left:i.left+r.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,r=this[0],n={top:0,left:0};return"fixed"===m.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),m.nodeName(e[0],"html")||(n=e.offset()),n.top+=m.css(e[0],"borderTopWidth",!0),n.left+=m.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-m.css(r,"marginTop",!0),left:t.left-n.left-m.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||It;e&&!m.nodeName(e,"html")&&"static"===m.css(e,"position");)e=e.offsetParent;return e||It}))}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var r="pageYOffset"===t;m.fn[e]=function(i){return N(this,(function(e,i,s){var o=Tt(e);if(void 0===s)return o?o[t]:e[i];o?o.scrollTo(r?n.pageXOffset:s,r?s:n.pageYOffset):e[i]=s}),e,i,arguments.length,null)}})),m.each(["top","left"],(function(e,t){m.cssHooks[t]=Ce(p.pixelPosition,(function(e,r){if(r)return r=Se(e,t),Ae.test(r)?m(e).position()[t]+"px":r}))})),m.each({Height:"height",Width:"width"},(function(e,t){m.each({padding:"inner"+e,content:t,"":"outer"+e},(function(r,n){m.fn[n]=function(n,i){var s=arguments.length&&(r||"boolean"!=typeof n),o=r||(!0===n||!0===i?"margin":"border");return N(this,(function(t,r,n){var i;return m.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?m.css(t,r,o):m.style(t,r,n,o)}),t,s?n:void 0,s,null)}}))})),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,void 0===(r=function(){return m}.apply(t,[]))||(e.exports=r);var Et=n.jQuery,jt=n.$;return m.noConflict=function(e){return n.$===m&&(n.$=jt),e&&n.jQuery===m&&(n.jQuery=Et),m},typeof i===G&&(n.jQuery=n.$=m),m},"object"==typeof e.exports?e.exports=n.document?i(n,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(n)},182758:(e,t,r)=>{var n="undefined"!=typeof JSON?JSON:r(421067);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var o,a="boolean"==typeof t.cycles&&t.cycles,l=t.replacer||function(e,t){return t},u=t.cmp&&(o=t.cmp,function(e){return function(t,r){var n={key:t,value:e[t]},i={key:r,value:e[r]};return o(n,i)}}),c=[];return function e(t,o,h,d){var p=r?"\n"+new Array(d+1).join(r):"",f=r?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=l.call(t,o,h))){if("object"!=typeof h||null===h)return n.stringify(h);if(i(h)){for(var g=[],m=0;m<h.length;m++){var y=e(h,m,h[m],d+1)||n.stringify(null);g.push(p+r+y)}return"["+g.join(",")+p+"]"}if(-1!==c.indexOf(h)){if(a)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(h);var v=s(h).sort(u&&u(h));for(g=[],m=0;m<v.length;m++){var b=e(h,o=v[m],h[o],d+1);if(b){var w=n.stringify(o)+f+b;g.push(p+r+w)}}return c.splice(c.indexOf(h),1),"{"+g.join(",")+p+"}"}}({"":e},"",e,0)};var i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},421067:(e,t,r)=>{t.parse=r(259108),t.stringify=r(5502)},259108:e=>{var t,r,n,i,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},o=function(e){throw{name:"SyntaxError",message:e,at:t,text:n}},a=function(e){return e&&e!==r&&o("Expected '"+e+"' instead of '"+r+"'"),r=n.charAt(t),t+=1,r},l=function(){var e,t="";for("-"===r&&(t="-",a("-"));r>="0"&&r<="9";)t+=r,a();if("."===r)for(t+=".";a()&&r>="0"&&r<="9";)t+=r;if("e"===r||"E"===r)for(t+=r,a(),"-"!==r&&"+"!==r||(t+=r,a());r>="0"&&r<="9";)t+=r,a();if(e=+t,isFinite(e))return e;o("Bad number")},u=function(){var e,t,n,i="";if('"'===r)for(;a();){if('"'===r)return a(),i;if("\\"===r)if(a(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(a(),16),isFinite(e));t+=1)n=16*n+e;i+=String.fromCharCode(n)}else{if("string"!=typeof s[r])break;i+=s[r]}else i+=r}o("Bad string")},c=function(){for(;r&&r<=" ";)a()};i=function(){switch(c(),r){case"{":return function(){var e,t={};if("{"===r){if(a("{"),c(),"}"===r)return a("}"),t;for(;r;){if(e=u(),c(),a(":"),Object.hasOwnProperty.call(t,e)&&o('Duplicate key "'+e+'"'),t[e]=i(),c(),"}"===r)return a("}"),t;a(","),c()}}o("Bad object")}();case"[":return function(){var e=[];if("["===r){if(a("["),c(),"]"===r)return a("]"),e;for(;r;){if(e.push(i()),c(),"]"===r)return a("]"),e;a(","),c()}}o("Bad array")}();case'"':return u();case"-":return l();default:return r>="0"&&r<="9"?l():function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}o("Unexpected '"+r+"'")}()}},e.exports=function(e,s){var a;return n=e,t=0,r=" ",a=i(),c(),r&&o("Syntax error"),"function"==typeof s?function e(t,r){var n,i,o=t[r];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(i=e(o,n))?o[n]=i:delete o[n]);return s.call(t,r,o)}({"":a},""):a}},5502:e=>{var t,r,n,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function o(e){return i.lastIndex=0,i.test(e)?'"'+e.replace(i,(function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function a(e,i){var s,l,u,c,h,d=t,p=i[e];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(e)),"function"==typeof n&&(p=n.call(i,e,p)),typeof p){case"string":return o(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(t+=r,h=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,s=0;s<c;s+=1)h[s]=a(s,p)||"null";return u=0===h.length?"[]":t?"[\n"+t+h.join(",\n"+t)+"\n"+d+"]":"["+h.join(",")+"]",t=d,u}if(n&&"object"==typeof n)for(c=n.length,s=0;s<c;s+=1)"string"==typeof(l=n[s])&&(u=a(l,p))&&h.push(o(l)+(t?": ":":")+u);else for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(u=a(l,p))&&h.push(o(l)+(t?": ":":")+u);return u=0===h.length?"{}":t?"{\n"+t+h.join(",\n"+t)+"\n"+d+"}":"{"+h.join(",")+"}",t=d,u}}e.exports=function(e,i,s){var o;if(t="",r="","number"==typeof s)for(o=0;o<s;o+=1)r+=" ";else"string"==typeof s&&(r=s);if(n=i,i&&"function"!=typeof i&&("object"!=typeof i||"number"!=typeof i.length))throw new Error("JSON.stringify");return a("",{"":e})}},920770:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function s(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,o){o=o||{};var a,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*i;case"hours":case"hour":case"hrs":case"hr":case"h":return o*n;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===u&&isFinite(e))return o.long?(a=e,(l=Math.abs(a))>=i?s(a,l,i,"day"):l>=n?s(a,l,n,"hour"):l>=r?s(a,l,r,"minute"):l>=t?s(a,l,t,"second"):a+" ms"):function(e){var s=Math.abs(e);return s>=i?Math.round(e/i)+"d":s>=n?Math.round(e/n)+"h":s>=r?Math.round(e/r)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},269533:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))r.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)n.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},502887:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=n&&i&&"function"==typeof i.get?i.get:null,o=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=a&&l&&"function"==typeof l.get?l.get:null,c=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,g=Object.prototype.toString,m=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,P=RegExp.prototype.test,A=Array.prototype.concat,x=Array.prototype.join,S=Array.prototype.slice,C=Math.floor,O="function"==typeof BigInt?BigInt.prototype.valueOf:null,D=Object.getOwnPropertySymbols,k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,T="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,E=Object.prototype.propertyIsEnumerable,j=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function R(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||P.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-C(-e):C(e);if(n!==e){var i=String(n),s=v.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var Z=r(514632).custom,N=Z&&M(Z)?Z:null;function F(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function L(e){return b.call(String(e),/"/g,"&quot;")}function $(e){return!("[object Array]"!==q(e)||T&&"object"==typeof e&&T in e)}function M(e){if(I)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!k)return!1;try{return k.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,i){var a=r||{};if(z(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!z(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var g=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return B(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return g?R(t,w):w}if("bigint"==typeof t){var P=String(t)+"n";return g?R(t,P):P}var C=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=C&&C>0&&"object"==typeof t)return $(t)?"[Array]":"[Object]";var D,Z=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=x.call(Array(e.indent+1)," ")}return{base:r,prev:x.call(Array(t+1),r)}}(a,n);if(void 0===i)i=[];else if(H(i,t)>=0)return"[Circular]";function U(t,r,s){if(r&&(i=S.call(i)).push(r),s){var o={depth:a.depth};return z(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),e(t,o,n+1,i)}return e(t,a,n+1,i)}if("function"==typeof t){var W=function(e){if(e.name)return e.name;var t=y.call(m.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),K=Y(t,U);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(K.length>0?" { "+x.call(K,", ")+" }":"")}if(M(t)){var Q=I?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(t);return"object"!=typeof t||I?Q:J(Q)}if((D=t)&&"object"==typeof D&&("undefined"!=typeof HTMLElement&&D instanceof HTMLElement||"string"==typeof D.nodeName&&"function"==typeof D.getAttribute)){for(var ee="<"+_.call(String(t.nodeName)),te=t.attributes||[],re=0;re<te.length;re++)ee+=" "+te[re].name+"="+F(L(te[re].value),"double",a);return ee+=">",t.childNodes&&t.childNodes.length&&(ee+="..."),ee+"</"+_.call(String(t.nodeName))+">"}if($(t)){if(0===t.length)return"[]";var ne=Y(t,U);return Z&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(ne)?"["+X(ne,Z)+"]":"[ "+x.call(ne,", ")+" ]"}if(function(e){return!("[object Error]"!==q(e)||T&&"object"==typeof e&&T in e)}(t)){var ie=Y(t,U);return"cause"in t&&!E.call(t,"cause")?"{ ["+String(t)+"] "+x.call(A.call("[cause]: "+U(t.cause),ie),", ")+" }":0===ie.length?"["+String(t)+"]":"{ ["+String(t)+"] "+x.call(ie,", ")+" }"}if("object"==typeof t&&l){if(N&&"function"==typeof t[N])return t[N]();if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!s||!e||"object"!=typeof e)return!1;try{s.call(e);try{u.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var se=[];return o.call(t,(function(e,r){se.push(U(r,t,!0)+" => "+U(e,t))})),G("Map",s.call(t),se,Z)}if(function(e){if(!u||!e||"object"!=typeof e)return!1;try{u.call(e);try{s.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var oe=[];return c.call(t,(function(e){oe.push(U(e,t))})),G("Set",u.call(t),oe,Z)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return V("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return V("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return V("WeakRef");if(function(e){return!("[object Number]"!==q(e)||T&&"object"==typeof e&&T in e)}(t))return J(U(Number(t)));if(function(e){if(!e||"object"!=typeof e||!O)return!1;try{return O.call(e),!0}catch(e){}return!1}(t))return J(U(O.call(t)));if(function(e){return!("[object Boolean]"!==q(e)||T&&"object"==typeof e&&T in e)}(t))return J(f.call(t));if(function(e){return!("[object String]"!==q(e)||T&&"object"==typeof e&&T in e)}(t))return J(U(String(t)));if(!function(e){return!("[object Date]"!==q(e)||T&&"object"==typeof e&&T in e)}(t)&&!function(e){return!("[object RegExp]"!==q(e)||T&&"object"==typeof e&&T in e)}(t)){var ae=Y(t,U),le=j?j(t)===Object.prototype:t instanceof Object||t.constructor===Object,ue=t instanceof Object?"":"null prototype",ce=!le&&T&&Object(t)===t&&T in t?v.call(q(t),8,-1):ue?"Object":"",he=(le||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ce||ue?"["+x.call(A.call([],ce||[],ue||[]),": ")+"] ":"");return 0===ae.length?he+"{}":Z?he+"{"+X(ae,Z)+"}":he+"{ "+x.call(ae,", ")+" }"}return String(t)};var U=Object.prototype.hasOwnProperty||function(e){return e in this};function z(e,t){return U.call(e,t)}function q(e){return g.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function B(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return B(v.call(e,0,t.maxStringLength),t)+n}return F(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,W),"single",t)}function W(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function J(e){return"Object("+e+")"}function V(e){return e+" { ? }"}function G(e,t,r,n){return e+" ("+t+") {"+(n?X(r,n):x.call(r,", "))+"}"}function X(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+x.call(e,","+r)+"\n"+t.prev}function Y(e,t){var r=$(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=z(e,i)?t(e[i],e):""}var s,o="function"==typeof D?D(e):[];if(I){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in e)z(e,l)&&(r&&String(Number(l))===l&&l<e.length||I&&s["$"+l]instanceof Symbol||(P.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof D)for(var u=0;u<o.length;u++)E.call(e,o[u])&&n.push("["+t(o[u])+"]: "+t(e[o[u]],e));return n}},728868:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},798501:(e,t,r)=>{"use strict";var n=r(422890),i=r(421388),s=r(728868);e.exports={formats:s,parse:i,stringify:n}},421388:(e,t,r)=>{"use strict";var n=r(257195),i=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(s),u=a?s.slice(0,a.index):s,c=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var h=0;r.depth>0&&null!==(a=o.exec(s))&&h<r.depth;){if(h+=1,!r.plainObjects&&i.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+s.slice(a.index)+"]"),function(e,t,r,n){for(var i=n?t:l(t,r),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(u,10);r.parseArrays||""!==u?!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=i:o[u]=i:o={0:i}}i=o}return i}(c,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:o.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,u={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=c.split(t.delimiter,h),p=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<d.length;++r)0===d[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[r]?f="utf-8":"utf8=%26%2310003%3B"===d[r]&&(f="iso-8859-1"),p=r,r=d.length);for(r=0;r<d.length;++r)if(r!==p){var g,m,y=d[r],v=y.indexOf("]="),b=-1===v?y.indexOf("="):v+1;-1===b?(g=t.decoder(y,o.decoder,f,"key"),m=t.strictNullHandling?null:""):(g=t.decoder(y.slice(0,b),o.decoder,f,"key"),m=n.maybeMap(l(y.slice(b+1),t),(function(e){return t.decoder(e,o.decoder,f,"value")}))),m&&t.interpretNumericEntities&&"iso-8859-1"===f&&(m=a(m)),y.indexOf("[]=")>-1&&(m=s(m)?[m]:m),i.call(u,g)?u[g]=n.combine(u[g],m):u[g]=m}return u}(e,r):e,h=r.plainObjects?Object.create(null):{},d=Object.keys(c),p=0;p<d.length;++p){var f=d[p],g=u(f,c[f],r,"string"==typeof e);h=n.merge(h,g,r)}return!0===r.allowSparse?h:n.compact(h)}},422890:(e,t,r)=>{"use strict";var n=r(259264),i=r(257195),s=r(728868),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,u=Array.prototype.push,c=function(e,t){u.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,d=s.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,format:d,formatter:s.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,r,s,o,a,u,h,d,f,g,m,y,v,b,w){var _,P=t;if(w.has(t))throw new RangeError("Cyclic object value");if("function"==typeof h?P=h(r,P):P instanceof Date?P=g(P):"comma"===s&&l(P)&&(P=i.maybeMap(P,(function(e){return e instanceof Date?g(e):e}))),null===P){if(o)return u&&!v?u(r,p.encoder,b,"key",m):r;P=""}if("string"==typeof(_=P)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||i.isBuffer(P))return u?[y(v?r:u(r,p.encoder,b,"key",m))+"="+y(u(P,p.encoder,b,"value",m))]:[y(r)+"="+y(String(P))];var A,x=[];if(void 0===P)return x;if("comma"===s&&l(P))A=[{value:P.length>0?P.join(",")||null:void 0}];else if(l(h))A=h;else{var S=Object.keys(P);A=d?S.sort(d):S}for(var C=0;C<A.length;++C){var O=A[C],D="object"==typeof O&&void 0!==O.value?O.value:P[O];if(!a||null!==D){var k=l(P)?"function"==typeof s?s(r,O):r:r+(f?"."+O:"["+O+"]");w.set(t,!0);var I=n();c(x,e(D,k,s,o,a,u,h,d,f,g,m,y,v,b,I))}}return x};e.exports=function(e,t){var r,i=e,u=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=s.default;if(void 0!==e.format){if(!o.call(s.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=s.formatters[r],i=p.filter;return("function"==typeof e.filter||l(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof u.filter?i=(0,u.filter)("",i):l(u.filter)&&(r=u.filter);var h,d=[];if("object"!=typeof i||null===i)return"";h=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var g=a[h];r||(r=Object.keys(i)),u.sort&&r.sort(u.sort);for(var m=n(),y=0;y<r.length;++y){var v=r[y];u.skipNulls&&null===i[v]||c(d,f(i[v],v,g,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.format,u.formatter,u.encodeValuesOnly,u.charset,m))}var b=d.join(u.delimiter),w=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},257195:(e,t,r)=>{"use strict";var n=r(728868),i=Object.prototype.hasOwnProperty,s=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:o,prop:u}),r.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(s(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,s){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",u=0;u<a.length;++u){var c=a.charCodeAt(u);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||s===n.RFC1738&&(40===c||41===c)?l+=a.charAt(u):c<128?l+=o[c]:c<2048?l+=o[192|c>>6]+o[128|63&c]:c<55296||c>=57344?l+=o[224|c>>12]+o[128|c>>6&63]+o[128|63&c]:(u+=1,c=65536+((1023&c)<<10|1023&a.charCodeAt(u)),l+=o[240|c>>18]+o[128|c>>12&63]+o[128|c>>6&63]+o[128|63&c])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(s(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(s(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var o=t;return s(t)&&!s(r)&&(o=a(t,n)),s(t)&&s(r)?(r.forEach((function(r,s){if(i.call(t,s)){var o=t[s];o&&"object"==typeof o&&r&&"object"==typeof r?t[s]=e(o,r,n):t.push(r)}else t[s]=r})),t):Object.keys(r).reduce((function(t,s){var o=r[s];return i.call(t,s)?t[s]=e(t[s],o,n):t[s]=o,t}),o)}}},259264:(e,t,r)=>{"use strict";var n=r(413861),i=r(6461),s=r(502887),o=n("%TypeError%"),a=n("%WeakMap%",!0),l=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),g=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new o("Side channel does not contain "+s(e))},get:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return u(e,n)}else if(l){if(t)return d(t,n)}else if(r)return function(e,t){var r=g(e,t);return r&&r.value}(r,n)},has:function(n){if(a&&n&&("object"==typeof n||"function"==typeof n)){if(e)return h(e,n)}else if(l){if(t)return f(t,n)}else if(r)return function(e,t){return!!g(e,t)}(r,n);return!1},set:function(n,i){a&&n&&("object"==typeof n||"function"==typeof n)?(e||(e=new a),c(e,n,i)):l?(t||(t=new l),p(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=g(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},841325:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(883690),i=r(146445),s=r(269533);const o=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=(0,i.jl)(e,t),new Promise((function(){r.HAS_DOCUMENT_COOKIE=(0,i.Cn)()})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=n.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),(0,i.vQ)(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var n in this.cookies)r[n]=(0,i.vQ)(this.cookies[n],e);return r},e.prototype.set=function(e,t,r){var i;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=s({},this.cookies,((i={})[e]=t,i)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.q(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=s({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=s({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.q(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}()},36907:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(841325).Z},146445:(e,t,r)=>{"use strict";r.d(t,{Cn:()=>i,jl:()=>s,vQ:()=>o});var n=r(883690);function i(){return!0}function s(e,t){return"string"==typeof e?n.Q(e,t):"object"==typeof e&&null!==e?e:{}}function o(e,t){void 0===t&&(t={});var r=function(e){return e&&"j"===e[0]&&":"===e[1]?e.substr(2):e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(r,t.doNotParse))try{return JSON.parse(r)}catch(e){}return e}},837033:()=>{!function(){"use strict";var e,t,r=document,n=Object.defineProperty,i="replace",s=function(e){return e[i](/%2523access_token%253D.*?%2526/gim,"%2526")[i](/%23access_token%3D.*?%26/gim,"%26")[i](/#access_token=.*?&/gim,"&")[i](/information=[^\&]+/,"")[i](/puser=[^\&]+/,"")[i](/fnuser=[^\&]+/,"")[i](/lnuser=[^\&]+/,"")};try{var o="referrer",a=r[o],l=s(a);l!==a&&n(r,o,{configurable:!0,value:l})}catch(e){}e=window,t=function(){function e(e,t){d.add(e,t),h||(h=b(d.drain))}function t(e){var t,r=m(e);return null==e||r!=f&&r!=p||(t=e.then),m(t)==p&&t}function r(){for(var e=0;e<this.chain.length;e++)n(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function n(e,r,n){var i,s;try{!1===r?n.reject(e.msg):(i=!0===r?e.msg:r.call(void 0,e.msg))===n.promise?n.reject(y("Promise-chain cycle")):(s=t(i))?s.call(i,n.resolve,n.reject):n.resolve(i)}catch(e){n.reject(e)}}function i(n){var o,l=this;if(!l.triggered){l.triggered=!0,l.def&&(l=l.def);try{(o=t(n))?e((function(){var e=new a(l);try{o.call(n,(function(){i.apply(e,arguments)}),(function(){s.apply(e,arguments)}))}catch(t){s.call(e,t)}})):(l.msg=n,l.state=1,l.chain.length>0&&e(r,l))}catch(e){s.call(new a(l),e)}}}function s(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(r,n))}function o(e,t,r,n){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then((function(e){r(i,e)}),n)}(i)}function a(e){this.def=e,this.triggered=!1}function l(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function u(t){if(m(t)!=p)throw y(g);if(0!==this.__NPO__)throw y("Not a promise");this.__NPO__=1;var n=new l(this);this.then=function(t,i){var s={success:m(t)!=p||t,failure:m(i)==p&&i};return s.promise=new this.constructor((function(e,t){if(m(e)!=p||m(t)!=p)throw y(g);s.resolve=e,s.reject=t})),n.chain.push(s),0!==n.state&&e(r,n),s.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,(function(e){i.call(n,e)}),(function(e){s.call(n,e)}))}catch(e){s.call(n,e)}}var c,h,d,p="function",f="object",g="Not a "+p,m=function(e){return typeof e},y=TypeError,v=Object.prototype.toString,b="undefined"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;c=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})},d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,r,n;return{add:function(i,s){n=new e(i,s),r?r.next=n:t=n,r=n,n=void 0},drain:function(){var e=t;for(t=r=h=void 0;e;)e.fn.call(e.self),e=e.next}}}();var w=c({},"constructor",u,!1);return u.prototype=w,c(w,"__NPO__",0,!1),c(u,"resolve",(function(e){return e&&m(e)==f&&1===e.__NPO__?e:new this((function(t,r){if(m(t)!=p||m(r)!=p)throw y(g);t(e)}))})),c(u,"reject",(function(e){return new this((function(t,r){if(m(t)!=p||m(r)!=p)throw y(g);r(e)}))})),c(u,"all",(function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(y("Not an array")):0===e.length?t.resolve([]):new t((function(r,n){if(m(r)!=p||m(n)!=p)throw y(g);var i=e.length,s=Array(i),a=0;o(t,e,(function(e,t){s[e]=t,++a===i&&r(s)}),n)}))})),c(u,"race",(function(e){var t=this;return"[object Array]"!=v.call(e)?t.reject(y("Not an array")):new t((function(r,n){if(m(r)!=p||m(n)!=p)throw y(g);o(t,e,(function(e,t){r(t)}),n)}))})),u},"undefined"==typeof Promise&&(e.Promise=t());var u=window,c=u.console.log;function h(e){throw Error(e)}var d,p,f,g,m,y,v,b,w,_=u.__satelliteEmbedCode,P=u.marketingtech,A="digitalData",x=A+".",S="object",C="array",O="function",D="sub-object not ",k=D+S,I=D+C,T=/^(.+?)((?:\[(?:n|\d+)\])+?)$/,E=/n|\d+/g,j=Array.isArray,R=0,Z=P&&P.digitalData&&P.digitalData.debug;if(b=function(e){return typeof e},w=function(e,t){return e.hasOwnProperty(t)},(f=(p=function(e,t){var r,i=this;if(n(i,"_id",{value:++R}),Z&&c(i._id+": CREATED"),n(i,"_pending",{value:{}}),n(i,"_listeners",{value:{}}),e&&i._set(A,e),t)for(r in t)w(t,r)&&i._set(r,t[r])}).prototype)._merge=g=function(e,t,r,n){var i,s,o,a,l;for(i in n=n||"",t)w(t,i)&&(s=e[i],void 0!==(o=t[i])&&null!==o&&(null==s?e[i]=o:(a=j(s)?C:b(s),l=j(o)?C:b(o),a===S||l===S?a===l&&(e[i]=g(s,o,r,n+"  ")):r||(a!==C&&(s=[s]),l===C?s=s.concat(o):s.push(o),e[i]=s))));return e},f._flatten=m=function(e,t,r,n){var i,s,o,a,l,u,c={},h={};for(e=e||this,e=JSON.parse(JSON.stringify(e)),i=0,s=(a=j(e)?e:Object.keys(e)).length;i<s;i++)l=j(e)?i:a[i],o=t?(j(e),t+"."+l):l+"",u=e[l],b(u)===S&&null!==u?c=g(c,m(u,o,r,n),!0):b(u)!==O&&(n?b(n)===S?j(n)?-1!==n.indexOf(o)&&(c[o]=u):n[o]&&(c[o]=u):b(n)===O?n(o)&&(c[o]=u):c[o]=u:c[o]=u);if(!j(e)||!r)return c;for(i=0,s=a.length;i<s;i++)u=e[l=i],b(u)===S&&(h=g(h,u));return c=g(c,m(h,o=t?t+".__collapsed":"__collapsed",r,n),!0),c=g(c,m(y(h,"|","|","|"),o,r,n),!0),c=g(c,m(h,o=t?t+".__joined":"__joined",r,n),!0),g(c,m(y(h,","),o,r,n),!0)},f._collapse=y=function(e,t,r,n){var i,s,o,a={};for(i in t=t||",",r=r||"",n=n||"",e)w(e,i)&&(s=e[i],o=j(s)?C:b(s),a[i]=o===C?r+s.join(t)+n:o===S?y(s,t,r,n):s);return a},f._recurse=v=function(e,t,r,n){var i,s,o,a,l,u;if(e&&b(e)===S)for(i=0,s=(a=j(e)?e:Object.keys(e)).length;i<s;i++)j(e)?(o=i,l=t+"[n]"):l=t+"."+(o=a[i]),u=e[o],r&&r({path:l,property:o,value:u},{path:t,value:e}),u&&b(u)===S&&v(u,l,r,n),n&&n({path:l,property:o,value:u},{path:t,value:e})},f._get=function(e){var t,r,n,i,s,o,a,l,u,h,d=this,p=d;if(Z&&c(d._id+': GET "'+e+'"'),!e||e===A)return d;for(0!==e.indexOf(A)&&(e=x+e),(t=e.split(".")).shift(),s=0,o=t.length;s<o;s++){if(u=s===o-1,i=(r=t[s]).match(T)){if(r=i[1],i=i[2].match(E),p=p[r],!j(p))return;for(a=0,l=i.length;a<l;a++)if(h=a===l-1,p=p[n="n"===(n=i[a])?p.length-1:parseInt(n)],!h&&!j(p))return}else p=p[r];if(!p||u)return p}},f._set=function(e,t){var r,n,i,s,o,a,l,u,d,p,f,g,m,y,_,P=this,C=P,D=[],R=P._pending;if(Z&&c(P._id+': SET "'+e+'" '+JSON.stringify(t)),e||(e=A),0!==e.indexOf(A)&&(e=x+e),e!==A||t!==P){if(R[e]&&(R[e].cancelled=!0,delete R[e]),null!=t&&(b(t)===S||b(t)===O)&&b(t.then)===O){if((n=t.then((function(t){return n.cancelled||P._set(e,t),t}),(function(){n.cancelled||delete R[e]}))).cancelled=!1,R[e]=n,!w(t,"unresolved"))return;r=t,t=t.unresolved,delete r.unresolved}if(e===A){if(b(t)!==S)return;for(l in v(P,A,(function(e){R[e.path]&&(R[e.path].cancelled=!0,delete R[e.path]),D.push(e.path)})),P)w(t,l)&&t[l]&&t[l]!==P[l]&&delete P[l];for(l in t)w(t,l)&&(P[l]=t[l])}else for((p=e.split(".")).shift(),i=0,s=p.length;i<s;i++)if(u=i===s-1,m=(f=p[i]).match(T))for(f=m[1],m=m[2].match(E),C=C[f]=C[f]||[],j(C)||h(I),o=0,a=m.length;o<a;o++)d=o===a-1,g="n"===(g=m[o])?C.length:parseInt(g),d?u?C[g]=t:(C=C[g]=C[g]||{},b(C)!==S&&h(k)):(C=C[g]=C[g]||[],j(C)||h(I));else u?C[f]=t:(C=C[f]=C[f]||{},b(C)!==S&&h(k));if(e===A)D.push(e);else for(y=[],i=0,s=(p=e.split(".")).length;i<s;i++)(m=(f=p[i]).match(T))&&(f=m[1],f+=m=m[2].replace(E,"n")),y.push(f),D.push(y.join("."));for(v(t,e,(function(e){R[e.path]&&(R[e.path].cancelled=!0,delete R[e.path]),-1===D.indexOf(e.path)&&D.push(e.path)})),i=D.length-1;i>=0;i--)_=D[i],P._trigger(_)}},f._unset=f._delete=function(e){return Z&&c(this._id+': DELETE "'+e+'"'),this._set(e,void 0)},f._on=function(e,t){var r;if(""===e)e=A;else if(!e)return!1;0!==e.indexOf(A)&&(e=x+e),(r=this._listeners[e])||(r=this._listeners[e]=[]),r.push(t)},f._off=function(e,t){var r,n;if(""===e)e=A;else if(!e)return!1;return 0!==e.indexOf(A)&&(e=x+e),!!(n=this._listeners[e])&&-1!==(r=n.indexOf(t))&&(n.splice(r,1),!0)},f._trigger=function(e){var t,r,n,i;if(""===e)e=A;else if(!e)return!1;if(0!==e.indexOf(A)&&(e=x+e),!(i=this._listeners[e]))return!1;for(t=0,r=i.length;t<r;t++)if(n=i[t])try{n(this._get(e))}catch(e){}},f._resolved=function(){var e,t=[],r=this._pending;for(e in r)w(r,e)&&t.push(r[e]);return Promise.all(t)},f._snapshot=f._copy=function(){return new p(JSON.parse(JSON.stringify(this)),this._pending)},u.DigitalData=p,!_){if(d=new p,u.digitalData){d._set(A,u.digitalData);try{delete u.digitalData}catch(e){}}n(u,A,{enumerable:!0,get:function(){return d},set:function(e){d._set(A,e)}})}var N=d,F=r.getElementsByTagName("head")[0],L=u.performance,$=decodeURIComponent;function M(e){var t,n,i,s;for(n=0,i=(t=r.cookie?r.cookie.split("; "):[]).length;n<i;n++)if(s=t[n],$(s.substr(0,s.indexOf("=")))===e)return $(s.substr(s.indexOf("=")+1))}var U,z,q,H="at-body-style",B="targetGlobalSettings",W="bodyHidingEnabled",J=M("OptanonConsent"),V=M("OptanonChoice"),G=u.location.search;if(U=P&&P.adobe&&P.adobe.target,z=u[B]=u[B]||{},q=r.getElementById(H),_||!U||W in z&&!z[W]||-1!==G.indexOf("mboxDisable=1")||-1!==r.cookie.indexOf("adobe_optout")||V&&J&&-1!==J.indexOf("C0002:0"))q&&q.parentNode&&q.parentNode.removeChild(q);else{if(!q){(q=r.createElement("style")).id=H,q.innerHTML="body{opacity:0.01 !important}";try{L.mark("targetBodyHide"),F.appendChild(q)}catch(e){}}setTimeout((function(){z[W]=!1;try{F.removeChild(r.getElementById(H))}catch(e){}}),3e3)}function X(e,t){u.addEventListener(e,t)}var Y=encodeURIComponent;function K(e,t,n,i){var s="";t=t||"",s+=i?e+"="+t:Y(e)+"="+Y(t),n.path&&(s+="; path="+n.path),n.expires&&(s+="; expires="+n.expires.toUTCString()),n.domain&&(s+="; domain="+n.domain),n.samesite&&(s+="; samesite="+n.samesite),r.cookie=s}var Q,ee,te,re,ne,ie,se="",oe=[],ae="adobePrivacy:Privacy",le="OptanonChoice",ue=new Date,ce={domain:function(){if(se)return se;var e=u.location.hostname.toLowerCase().split("."),t=[],r="",n=null,i=!1,s="sat_domain";for(r=e.pop(),t.unshift(r);e.length>0;){r=e.pop(),t.unshift(r),(n=new Date).setTime(n.getTime()+1e3);try{K(s,"A",{expires:n,domain:t.join(".")})}catch(e){break}if("A"===M(s)){i=!0,se=t.join(".");break}}return i?se:""}(),path:"/",samesite:"Lax",expires:(ue.setFullYear(ue.getFullYear()+1),ue)};function he(e){var t=JSON.parse(JSON.stringify(e.location));return t.href=s(t.href),t.hash=s(t.hash),t.search=s(t.search),t}Q=function(e){re?e(u._satellite):oe.push(e)},ee=new Promise((function(e){Q(e)})),te=function(){var e,t,r;for(re=!0,e=0,t=oe.length;e<t;e++){r=oe[e];try{r(u._satellite)}catch(e){}}},u.__satelliteLoadedCallback=Q,u.__satelliteLoadedPromise=ee,ie=function(e){r.write('<script src="'+e+'"><\/script>')},X(ae+"Consent",(function(){K(le,1,ce)})),X(ae+"Reject",(function(){K(le,2,ce)})),X(ae+"Custom",(function(){K(le,3,ce)})),X(ae+"Consent",(function(){var e,t=ae+"Consent:DTM";"function"==typeof u.CustomEvent?e=new CustomEvent(t):(e=r.createEvent("CustomEvent")).initCustomEvent(t,!1,!1,void 0),Q((function(){"complete"===r.readyState?r.body.dispatchEvent(e):X("load",(function(){r.body.dispatchEvent(e)}))}))})),_?(ie("//c.evidon.com/geo/country.js"),ie(_),(ne=function(){u._satellite&&u._satellite.initialized?te():setTimeout(ne,100)})()):function(e,t){var n,i,s=r.createElement("script"),o=!1;s.src=e,s.async=!0,t&&(s.onload=s.onreadystatechange=function(e){var r=this.readyState;o||r&&"complete"!==r&&"loaded"!==r||(o=!0,t(e))}),(n=r.getElementsByTagName("script")[0])&&n.parentNode?(i=n.parentNode).insertBefore(s,n):(i=F)?i.appendChild(s):r.body?(i=r.body).appendChild(s):h("no script parent")}(function(e,t){var r,n,i,s,o,a=u.location,l="https://assets.adobedtm.com/",c=l+"launch-",h={globalDev:"EN9a7b3bd7db454856b44f27730f263fa0",globalStage:"EN2731bb0857084837b7142cd2017286bb",globalProd:"EN919758db9a654a17bac7d184b99c4820",ucDev:"ENed7cfab651fa4714a57bf937efb0cd23-development",ucStage:"EN1450794db7d0411a8b3f3b08dd706d00-staging",ucProd:"ENd6b040128459463bad781a5daa85ce0f",videoDev:"EN2d7bf2d8326b4ff1aa5335189a385023-development",videoStage:"EN60e5086def0d48e9ae2195234cb1b389-staging",videoProd:"EN58452fb8d9534cacbb8aeac0c8e15215",minimalDev:"EN876eeadff442464cb438819d695e077d-development",minimalStage:"ENa9d6ac46ca57441784434d28ceb9ddba-staging",minimalProd:"EN08637acac77f4e20b9e413aeb86f610e"};return r=a.hostname,o=function(e){return-1!==r.indexOf(e)},P&&P.adobe&&P.adobe.launch&&(P.adobe.launch.embedCode||P.adobe.launch.environment||P.adobe.launch.property)?(n=P.adobe.launch.embedCode,i=P.adobe.launch.property,s=P.adobe.launch.environment,n?0===n.indexOf("EN")?c+=n:c=l+n:function(e){"video analytics"==e&&(e="video"),"unified checkout"==e&&(e="uc"),"dev"===s?c+=h[e+"Dev"]:"stage"===s?c+=h[e+"Stage"]:"production"===s?c+=h[e+"Prod"]:(c+=h[e+"Prod"],console.warn('marketingtech.adobe.launch.environment invalid. Falling back to "production".'))}(i||"global")):o("localhost.account.adobe.com")||o("prestage1.account.adobe.com")||o("prestage2.account.adobe.com")?c+=h.globalDev:o("stage.account.adobe.com")||o("prod-inactive.account.adobe.com")||o("prod-active.account.adobe.com")?c+=h.globalStage:o("account.adobe.com")?c+=h.globalProd:(o("localhost.")||console.error("unrecognized domain. Please email marketingtech@adobe.com."),c+=h.globalDev),(c+=".min")+".js"}(),te);var de,pe="initialPage.pageInfo.location",fe="message",ge=u.top;function me(e,t){try{e._set(t,he(ge))}catch(r){X(fe,(function(r){r.data.n===pe&&e._set(t,r.data.v)})),ge.postMessage({n:pe},"*")}}u===ge&&(de=he(u),X(fe,(function(e){var t,r=e.origin,n=r.length;((t=function(e){return r.substring(n-e.length,n)===e})(".adobe.com")||t("//adobe.com"))&&e.data.n===pe&&e.source.postMessage({n:pe,v:de},"*")})));var ye=[];u._satellite=u._satellite||{},u._satellite.track=function(e,t){var r;(t=t||{})._beforeSatelliteLoaded=!0,_||((r=t.digitalData=t.digitalData||u.digitalData._snapshot())._set("page.pageInfo.location",he(u)),me(r,"page.topFrameInfo.location")),ye.push([e,t])},u.__satelliteLoadedCallback((function(){var e,t,r;for(e=0,t=ye.length;e<t;e++)r=ye[e],u._satellite.track(r[0],r[1])})),_||(N._set("marketingtech.bootstrap.version","0.19.0"),N._set("initialPage.pageInfo.location",he(u)),me(N,"initialPage.topFrameInfo.location"))}()},768501:(e,t,r)=>{var n=r(28611),i=r(296012),s=r(354790),o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(s(e)+" is not a function")}},278520:(e,t,r)=>{var n=r(28611),i=r(296012),s=n.String,o=n.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw o("Can't set "+s(e)+" as a prototype")}},257735:(e,t,r)=>{var n=r(450530),i=r(393555),s=r(953887),o=n("unscopables"),a=Array.prototype;null==a[o]&&s.f(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},864455:(e,t,r)=>{var n=r(28611),i=r(744915),s=n.String,o=n.TypeError;e.exports=function(e){if(i(e))return e;throw o(s(e)+" is not an object")}},862142:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},776669:(e,t,r)=>{"use strict";var n,i,s,o=r(862142),a=r(663882),l=r(28611),u=r(296012),c=r(744915),h=r(580783),d=r(9651),p=r(354790),f=r(27034),g=r(88799),m=r(953887).f,y=r(915899),v=r(207495),b=r(394929),w=r(450530),_=r(203626),P=l.Int8Array,A=P&&P.prototype,x=l.Uint8ClampedArray,S=x&&x.prototype,C=P&&v(P),O=A&&v(A),D=Object.prototype,k=l.TypeError,I=w("toStringTag"),T=_("TYPED_ARRAY_TAG"),E=_("TYPED_ARRAY_CONSTRUCTOR"),j=o&&!!b&&"Opera"!==d(l.opera),R=!1,Z={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},F=function(e){if(!c(e))return!1;var t=d(e);return h(Z,t)||h(N,t)};for(n in Z)(s=(i=l[n])&&i.prototype)?f(s,E,i):j=!1;for(n in N)(s=(i=l[n])&&i.prototype)&&f(s,E,i);if((!j||!u(C)||C===Function.prototype)&&(C=function(){throw k("Incorrect invocation")},j))for(n in Z)l[n]&&b(l[n],C);if((!j||!O||O===D)&&(O=C.prototype,j))for(n in Z)l[n]&&b(l[n].prototype,O);if(j&&v(S)!==O&&b(S,O),a&&!h(O,I))for(n in R=!0,m(O,I,{get:function(){return c(this)?this[T]:void 0}}),Z)l[n]&&f(l[n],T,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_CONSTRUCTOR:E,TYPED_ARRAY_TAG:R&&T,aTypedArray:function(e){if(F(e))return e;throw k("Target is not a typed array")},aTypedArrayConstructor:function(e){if(u(e)&&(!b||y(C,e)))return e;throw k(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r,n){if(a){if(r)for(var i in Z){var s=l[i];if(s&&h(s.prototype,e))try{delete s.prototype[e]}catch(r){try{s.prototype[e]=t}catch(e){}}}O[e]&&!r||g(O,e,r?t:j&&A[e]||t,n)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(a){if(b){if(r)for(n in Z)if((i=l[n])&&h(i,e))try{delete i[e]}catch(e){}if(C[e]&&!r)return;try{return g(C,e,r?t:j&&C[e]||t)}catch(e){}}for(n in Z)!(i=l[n])||i[e]&&!r||g(i,e,t)}},isView:function(e){if(!c(e))return!1;var t=d(e);return"DataView"===t||h(Z,t)||h(N,t)},isTypedArray:F,TypedArray:C,TypedArrayPrototype:O}},521675:(e,t,r)=>{var n=r(534226),i=r(480797),s=r(870682),o=function(e){return function(t,r,o){var a,l=n(t),u=s(l),c=i(o,u);if(e&&r!=r){for(;u>c;)if((a=l[c++])!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},302912:(e,t,r)=>{var n=r(28611),i=r(480797),s=r(870682),o=r(627218),a=n.Array,l=Math.max;e.exports=function(e,t,r){for(var n=s(e),u=i(t,n),c=i(void 0===r?n:r,n),h=a(l(c-u,0)),d=0;u<c;u++,d++)o(h,d,e[u]);return h.length=d,h}},797985:(e,t,r)=>{var n=r(302912),i=Math.floor,s=function(e,t){var r=e.length,l=i(r/2);return r<8?o(e,t):a(e,s(n(e,0,l),t),s(n(e,l),t),t)},o=function(e,t){for(var r,n,i=e.length,s=1;s<i;){for(n=s,r=e[s];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==s++&&(e[n]=r)}return e},a=function(e,t,r,n){for(var i=t.length,s=r.length,o=0,a=0;o<i||a<s;)e[o+a]=o<i&&a<s?n(t[o],r[a])<=0?t[o++]:r[a++]:o<i?t[o++]:r[a++];return e};e.exports=s},54666:(e,t,r)=>{var n=r(856507),i=n({}.toString),s=n("".slice);e.exports=function(e){return s(i(e),8,-1)}},9651:(e,t,r)=>{var n=r(28611),i=r(639289),s=r(296012),o=r(54666),a=r(450530)("toStringTag"),l=n.Object,u="Arguments"==o(function(){return arguments}());e.exports=i?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=l(e),a))?r:u?o(t):"Object"==(n=o(t))&&s(t.callee)?"Arguments":n}},938021:(e,t,r)=>{var n=r(856507)("".replace),i=String(Error("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,o=s.test(i);e.exports=function(e,t){if(o&&"string"==typeof e)for(;t--;)e=n(e,s,"");return e}},63189:(e,t,r)=>{var n=r(580783),i=r(62133),s=r(65962),o=r(953887);e.exports=function(e,t,r){for(var a=i(t),l=o.f,u=s.f,c=0;c<a.length;c++){var h=a[c];n(e,h)||r&&n(r,h)||l(e,h,u(t,h))}}},7031:(e,t,r)=>{var n=r(132617);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},27034:(e,t,r)=>{var n=r(663882),i=r(953887),s=r(63766);e.exports=n?function(e,t,r){return i.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e}},63766:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},627218:(e,t,r)=>{"use strict";var n=r(213349),i=r(953887),s=r(63766);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,s(0,r)):e[o]=r}},663882:(e,t,r)=>{var n=r(132617);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},627247:(e,t,r)=>{var n=r(28611),i=r(744915),s=n.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},915632:(e,t,r)=>{var n=r(348181).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},262169:(e,t,r)=>{var n=r(348181);e.exports=/MSIE|Trident/.test(n)},348181:(e,t,r)=>{var n=r(431878);e.exports=n("navigator","userAgent")||""},350556:(e,t,r)=>{var n,i,s=r(28611),o=r(348181),a=s.process,l=s.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(i=(n=c.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!i&&o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=+n[1]),e.exports=i},87401:(e,t,r)=>{var n=r(348181).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},745718:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},65576:(e,t,r)=>{var n=r(132617),i=r(63766);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},388851:(e,t,r)=>{var n=r(28611),i=r(65962).f,s=r(27034),o=r(88799),a=r(920074),l=r(63189),u=r(339608);e.exports=function(e,t){var r,c,h,d,p,f=e.target,g=e.global,m=e.stat;if(r=g?n:m?n[f]||a(f,{}):(n[f]||{}).prototype)for(c in t){if(d=t[c],h=e.noTargetGet?(p=i(r,c))&&p.value:r[c],!u(g?c:f+(m?".":"#")+c,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&s(d,"sham",!0),o(r,c,d,e)}}},132617:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},438652:(e,t,r)=>{var n=r(429939),i=Function.prototype,s=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(s):function(){return o.apply(s,arguments)})},429939:(e,t,r)=>{var n=r(132617);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},389075:(e,t,r)=>{var n=r(429939),i=Function.prototype.call;e.exports=n?i.bind(i):function(){return i.apply(i,arguments)}},15954:(e,t,r)=>{var n=r(663882),i=r(580783),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&"something"===function(){}.name,u=a&&(!n||n&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},856507:(e,t,r)=>{var n=r(429939),i=Function.prototype,s=i.bind,o=i.call,a=n&&s.bind(o,o);e.exports=n?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},431878:(e,t,r)=>{var n=r(28611),i=r(296012),s=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(n[e]):n[e]&&n[e][t]}},700757:(e,t,r)=>{var n=r(768501);e.exports=function(e,t){var r=e[t];return null==r?void 0:n(r)}},28611:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n(window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},580783:(e,t,r)=>{var n=r(856507),i=r(977396),s=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},794269:e=>{e.exports={}},97724:(e,t,r)=>{var n=r(431878);e.exports=n("document","documentElement")},130975:(e,t,r)=>{var n=r(663882),i=r(132617),s=r(627247);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},907267:(e,t,r)=>{var n=r(28611),i=r(856507),s=r(132617),o=r(54666),a=n.Object,l=i("".split);e.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?l(e,""):a(e)}:a},581554:(e,t,r)=>{var n=r(296012),i=r(744915),s=r(394929);e.exports=function(e,t,r){var o,a;return s&&n(o=t.constructor)&&o!==r&&i(a=o.prototype)&&a!==r.prototype&&s(e,a),e}},748346:(e,t,r)=>{var n=r(856507),i=r(296012),s=r(15677),o=n(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},669131:(e,t,r)=>{var n=r(744915),i=r(27034);e.exports=function(e,t){n(t)&&"cause"in t&&i(e,"cause",t.cause)}},520054:(e,t,r)=>{var n,i,s,o=r(650729),a=r(28611),l=r(856507),u=r(744915),c=r(27034),h=r(580783),d=r(15677),p=r(912850),f=r(794269),g="Object already initialized",m=a.TypeError,y=a.WeakMap;if(o||d.state){var v=d.state||(d.state=new y),b=l(v.get),w=l(v.has),_=l(v.set);n=function(e,t){if(w(v,e))throw new m(g);return t.facade=e,_(v,e,t),t},i=function(e){return b(v,e)||{}},s=function(e){return w(v,e)}}else{var P=p("state");f[P]=!0,n=function(e,t){if(h(e,P))throw new m(g);return t.facade=e,c(e,P,t),t},i=function(e){return h(e,P)?e[P]:{}},s=function(e){return h(e,P)}}e.exports={set:n,get:i,has:s,enforce:function(e){return s(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw m("Incompatible receiver, "+e+" required");return r}}}},296012:e=>{e.exports=function(e){return"function"==typeof e}},339608:(e,t,r)=>{var n=r(132617),i=r(296012),s=/#|\.prototype\./,o=function(e,t){var r=l[a(e)];return r==c||r!=u&&(i(t)?n(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},744915:(e,t,r)=>{var n=r(296012);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},460770:e=>{e.exports=!1},447448:(e,t,r)=>{var n=r(28611),i=r(431878),s=r(296012),o=r(915899),a=r(424372),l=n.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return s(t)&&o(t.prototype,l(e))}},870682:(e,t,r)=>{var n=r(935907);e.exports=function(e){return n(e.length)}},503334:(e,t,r)=>{var n=r(350556),i=r(132617);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},650729:(e,t,r)=>{var n=r(28611),i=r(296012),s=r(748346),o=n.WeakMap;e.exports=i(o)&&/native code/.test(s(o))},438780:(e,t,r)=>{var n=r(396181);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},393555:(e,t,r)=>{var n,i=r(864455),s=r(355129),o=r(745718),a=r(794269),l=r(97724),u=r(627247),c=r(912850)("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;p=document.domain&&n?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=u("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var r=o.length;r--;)delete p.prototype[o[r]];return p()};a[c]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(h.prototype=i(e),r=new h,h.prototype=null,r[c]=e):r=p(),void 0===t?r:s.f(r,t)}},355129:(e,t,r)=>{var n=r(663882),i=r(302156),s=r(953887),o=r(864455),a=r(534226),l=r(252737);t.f=n&&!i?Object.defineProperties:function(e,t){o(e);for(var r,n=a(t),i=l(t),u=i.length,c=0;u>c;)s.f(e,r=i[c++],n[r]);return e}},953887:(e,t,r)=>{var n=r(28611),i=r(663882),s=r(130975),o=r(302156),a=r(864455),l=r(213349),u=n.TypeError,c=Object.defineProperty,h=Object.getOwnPropertyDescriptor;t.f=i?o?function(e,t,r){if(a(e),t=l(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=h(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=l(t),a(r),s)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},65962:(e,t,r)=>{var n=r(663882),i=r(389075),s=r(75576),o=r(63766),a=r(534226),l=r(213349),u=r(580783),c=r(130975),h=Object.getOwnPropertyDescriptor;t.f=n?h:function(e,t){if(e=a(e),t=l(t),c)try{return h(e,t)}catch(e){}if(u(e,t))return o(!i(s.f,e,t),e[t])}},228234:(e,t,r)=>{var n=r(421898),i=r(745718).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},199355:(e,t)=>{t.f=Object.getOwnPropertySymbols},207495:(e,t,r)=>{var n=r(28611),i=r(580783),s=r(296012),o=r(977396),a=r(912850),l=r(7031),u=a("IE_PROTO"),c=n.Object,h=c.prototype;e.exports=l?c.getPrototypeOf:function(e){var t=o(e);if(i(t,u))return t[u];var r=t.constructor;return s(r)&&t instanceof r?r.prototype:t instanceof c?h:null}},915899:(e,t,r)=>{var n=r(856507);e.exports=n({}.isPrototypeOf)},421898:(e,t,r)=>{var n=r(856507),i=r(580783),s=r(534226),o=r(521675).indexOf,a=r(794269),l=n([].push);e.exports=function(e,t){var r,n=s(e),u=0,c=[];for(r in n)!i(a,r)&&i(n,r)&&l(c,r);for(;t.length>u;)i(n,r=t[u++])&&(~o(c,r)||l(c,r));return c}},252737:(e,t,r)=>{var n=r(421898),i=r(745718);e.exports=Object.keys||function(e){return n(e,i)}},75576:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!r.call({1:2},1);t.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},394929:(e,t,r)=>{var n=r(856507),i=r(864455),s=r(278520);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),s(n),t?e(r,n):r.__proto__=n,r}}():void 0)},645408:(e,t,r)=>{var n=r(28611),i=r(389075),s=r(296012),o=r(744915),a=n.TypeError;e.exports=function(e,t){var r,n;if("string"===t&&s(r=e.toString)&&!o(n=i(r,e)))return n;if(s(r=e.valueOf)&&!o(n=i(r,e)))return n;if("string"!==t&&s(r=e.toString)&&!o(n=i(r,e)))return n;throw a("Can't convert object to primitive value")}},62133:(e,t,r)=>{var n=r(431878),i=r(856507),s=r(228234),o=r(199355),a=r(864455),l=i([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=s.f(a(e)),r=o.f;return r?l(t,r(e)):t}},88799:(e,t,r)=>{var n=r(28611),i=r(296012),s=r(580783),o=r(27034),a=r(920074),l=r(748346),u=r(520054),c=r(15954).CONFIGURABLE,h=u.get,d=u.enforce,p=String(String).split("String");(e.exports=function(e,t,r,l){var u,h=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,g=!!l&&!!l.noTargetGet,m=l&&void 0!==l.name?l.name:t;i(r)&&("Symbol("===String(m).slice(0,7)&&(m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(r,"name")||c&&r.name!==m)&&o(r,"name",m),(u=d(r)).source||(u.source=p.join("string"==typeof m?m:""))),e!==n?(h?!g&&e[t]&&(f=!0):delete e[t],f?e[t]=r:o(e,t,r)):f?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return i(this)&&h(this).source||l(this)}))},107649:(e,t,r)=>{var n=r(28611).TypeError;e.exports=function(e){if(null==e)throw n("Can't call method on "+e);return e}},920074:(e,t,r)=>{var n=r(28611),i=Object.defineProperty;e.exports=function(e,t){try{i(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},912850:(e,t,r)=>{var n=r(933453),i=r(203626),s=n("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},15677:(e,t,r)=>{var n=r(28611),i=r(920074),s="__core-js_shared__",o=n[s]||i(s,{});e.exports=o},933453:(e,t,r)=>{var n=r(460770),i=r(15677);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.1",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},480797:(e,t,r)=>{var n=r(966182),i=Math.max,s=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):s(r,t)}},534226:(e,t,r)=>{var n=r(907267),i=r(107649);e.exports=function(e){return n(i(e))}},966182:e=>{var t=Math.ceil,r=Math.floor;e.exports=function(e){var n=+e;return n!=n||0===n?0:(n>0?r:t)(n)}},935907:(e,t,r)=>{var n=r(966182),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},977396:(e,t,r)=>{var n=r(28611),i=r(107649),s=n.Object;e.exports=function(e){return s(i(e))}},747574:(e,t,r)=>{var n=r(28611),i=r(148115),s=n.RangeError;e.exports=function(e,t){var r=i(e);if(r%t)throw s("Wrong offset");return r}},148115:(e,t,r)=>{var n=r(28611),i=r(966182),s=n.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw s("The argument can't be less than 0");return t}},371469:(e,t,r)=>{var n=r(28611),i=r(389075),s=r(744915),o=r(447448),a=r(700757),l=r(645408),u=r(450530),c=n.TypeError,h=u("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var r,n=a(e,h);if(n){if(void 0===t&&(t="default"),r=i(n,e,t),!s(r)||o(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},213349:(e,t,r)=>{var n=r(371469),i=r(447448);e.exports=function(e){var t=n(e,"string");return i(t)?t:t+""}},639289:(e,t,r)=>{var n={};n[r(450530)("toStringTag")]="z",e.exports="[object z]"===String(n)},396181:(e,t,r)=>{var n=r(28611),i=r(9651),s=n.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},354790:(e,t,r)=>{var n=r(28611).String;e.exports=function(e){try{return n(e)}catch(e){return"Object"}}},203626:(e,t,r)=>{var n=r(856507),i=0,s=Math.random(),o=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+s,36)}},424372:(e,t,r)=>{var n=r(503334);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},302156:(e,t,r)=>{var n=r(663882),i=r(132617);e.exports=n&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},450530:(e,t,r)=>{var n=r(28611),i=r(933453),s=r(580783),o=r(203626),a=r(503334),l=r(424372),u=i("wks"),c=n.Symbol,h=c&&c.for,d=l?c:c&&c.withoutSetter||o;e.exports=function(e){if(!s(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&s(c,e)?u[e]=c[e]:u[e]=l&&h?h(t):d(t)}return u[e]}},683612:(e,t,r)=>{"use strict";var n=r(431878),i=r(580783),s=r(27034),o=r(915899),a=r(394929),l=r(63189),u=r(581554),c=r(438780),h=r(669131),d=r(938021),p=r(65576),f=r(460770);e.exports=function(e,t,r,g){var m=g?2:1,y=e.split("."),v=y[y.length-1],b=n.apply(null,y);if(b){var w=b.prototype;if(!f&&i(w,"cause")&&delete w.cause,!r)return b;var _=n("Error"),P=t((function(e,t){var r=c(g?t:e,void 0),n=g?new b(e):new b;return void 0!==r&&s(n,"message",r),p&&s(n,"stack",d(n.stack,2)),this&&o(w,this)&&u(n,this,P),arguments.length>m&&h(n,arguments[m]),n}));if(P.prototype=w,"Error"!==v&&(a?a(P,_):l(P,_,{name:!0})),l(P,b),!f)try{w.name!==v&&s(w,"name",v),w.constructor=P}catch(e){}return P}}},766486:(e,t,r)=>{"use strict";var n=r(388851),i=r(977396),s=r(870682),o=r(966182),a=r(257735);n({target:"Array",proto:!0},{at:function(e){var t=i(this),r=s(t),n=o(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:t[a]}}),a("at")},724479:(e,t,r)=>{var n=r(388851),i=r(28611),s=r(438652),o=r(683612),a=i.WebAssembly,l=7!==Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=o(e,t,l),n({global:!0,forced:l},r)},c=function(e,t){if(a&&a[e]){var r={};r[e]=o("WebAssembly."+e,t,l),n({target:"WebAssembly",stat:!0,forced:l},r)}};u("Error",(function(e){return function(t){return s(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),u("URIError",(function(e){return function(t){return s(e,this,arguments)}})),c("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),c("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),c("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},865533:(e,t,r)=>{"use strict";var n=r(388851),i=r(856507),s=r(107649),o=r(966182),a=r(396181),l=r(132617),u=i("".charAt);n({target:"String",proto:!0,forced:l((function(){return"\ud842"!=="".at(-2)}))},{at:function(e){var t=a(s(this)),r=t.length,n=o(e),i=n>=0?n:r+n;return i<0||i>=r?void 0:u(t,i)}})},423702:(e,t,r)=>{"use strict";var n=r(776669),i=r(870682),s=r(966182),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",(function(e){var t=o(this),r=i(t),n=s(e),a=n>=0?n:r+n;return a<0||a>=r?void 0:t[a]}))},58619:(e,t,r)=>{"use strict";var n=r(28611),i=r(389075),s=r(776669),o=r(870682),a=r(747574),l=r(977396),u=r(132617),c=n.RangeError,h=n.Int8Array,d=h&&h.prototype,p=d&&d.set,f=s.aTypedArray,g=s.exportTypedArrayMethod,m=!u((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),y=m&&s.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));g("set",(function(e){f(this);var t=a(arguments.length>1?arguments[1]:void 0,1),r=l(e);if(m)return i(p,this,r,t);var n=this.length,s=o(r),u=0;if(s+t>n)throw c("Wrong length");for(;u<s;)this[t+u]=r[u++]}),!m||y)},892437:(e,t,r)=>{"use strict";var n=r(28611),i=r(856507),s=r(132617),o=r(768501),a=r(797985),l=r(776669),u=r(915632),c=r(262169),h=r(350556),d=r(87401),p=n.Array,f=l.aTypedArray,g=l.exportTypedArrayMethod,m=n.Uint16Array,y=m&&i(m.prototype.sort),v=!(!y||s((function(){y(new m(2),null)}))&&s((function(){y(new m(2),{})}))),b=!!y&&!s((function(){if(h)return h<74;if(u)return u<67;if(c)return!0;if(d)return d<602;var e,t,r=new m(516),n=p(516);for(e=0;e<516;e++)t=e%4,r[e]=515-e,n[e]=e-2*t+3;for(y(r,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(r[e]!==n[e])return!0}));g("sort",(function(e){return void 0!==e&&o(e),b?y(this,e):a(f(this),function(e){return function(t,r){return void 0!==e?+e(t,r)||0:r!=r?-1:t!=t?1:0===t&&0===r?1/t>0&&1/r<0?1:-1:t>r}}(e))}),!b||v)},925206:(e,t,r)=>{"use strict";e=r.nmd(e);var n=function(e,t){return e<t};function i(e){if(!(this instanceof i))return new i(e);this.array=[],this.size=0,this.compare=e||n}i.prototype.add=function(e){var t,r,n=this.size;for(this.array[this.size]=e,this.size+=1;n>0&&(t=n-1>>1,r=this.array[t],this.compare(e,r));)this.array[n]=r,n=t;this.array[n]=e},i.prototype.heapify=function(e){var t;for(this.array=e,this.size=e.length,t=this.size>>1;t>=0;t--)this._percolateDown(t)},i.prototype._percolateUp=function(e){for(var t,r,n=this.array[e];e>0&&(t=e-1>>1,r=this.array[t],this.compare(n,r));)this.array[e]=r,e=t;this.array[e]=n},i.prototype._percolateDown=function(e){for(var t,r,n,i=this.size,s=this.size>>>1,o=this.array[e];e<s&&(r=1+(t=1+(e<<1)),n=this.array[t],r<i&&this.compare(this.array[r],n)&&(t=r,n=this.array[r]),this.compare(n,o));)this.array[e]=n,e=t;this.array[e]=o},i.prototype.peek=function(){if(0!=this.size)return this.array[0]},i.prototype.poll=function(){if(0!=this.size){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}},i.prototype.replaceTop=function(e){if(0!=this.size){var t=this.array[0];return this.array[0]=e,this._percolateDown(0),t}},i.prototype.trim=function(){this.array=this.array.slice(0,this.size)},i.prototype.isEmpty=function(){return 0===this.size},r.c[r.s]===e&&function(){var e=new i((function(e,t){return e<t}));for(e.add(1),e.add(0),e.add(5),e.add(4),e.add(3);!e.isEmpty();)console.log(e.poll())}(),e.exports=i},330918:e=>{e.exports=["recommended_presets_filters","similar_recommended_presets","presets_reset","hero_carousel_landscape_images","academy_bread_crumb","LRW_9573_fix","photo_tip","pull_quote","LRW_9667_fix","shakshuka","remove_photos_from_display_fix","theme_toggle","ims_ready_timeout","academy_index_text_seo","recipe_for_success_text_update","modal_commerce","target","LRW_10056_fix","no_trial_expired","home_hero_buffer","may22_test","better_discover_updating"]},956508:e=>{e.exports={supported:["cs-CZ","da-DK","de-DE","en-GB","en-US","es-ES","es-MX","fi-FI","fr-CA","fr-FR","hu-HU","id-ID","it-IT","ja-JP","ko-KR","nb-NO","nl-NL","pl-PL","pt-BR","ru-RU","sv-SE","th-TH","tr-TR","uk-UA","vi-VN","zh-CN","zh-TW"],display_names:{"en-US":"English, US","en-GB":"English, UK","ja-JP":"","zh-CN":"","zh-TW":"","de-DE":"Deutsch","pt-BR":"Portugus, Brasil","es-ES":"Espaol, Espaa","es-MX":"Espaol, Mxico","fr-CA":"Franais, Canada","fr-FR":"Franais, France","id-ID":"Bahasa Indonesia","it-IT":"Italiano","ko-KR":"","ru-RU":"","nl-NL":"Nederlands","sv-SE":"Svenska","th-TH":"","uk-UA":"","hu-HU":"Magyar","cs-CZ":"etina","da-DK":"Dansk","fi-FI":"Suomi","nb-NO":"Norsk","pl-PL":"Polski","tr-TR":"Trke","vi-VN":"Ting Vit","zz-ZZ":"Mock Test"},urls:{ad_choices_url:"https://www.adobe.com/${adobecom_country_fragment}privacy/opt-out.html#interest-based-ads",privacy_url:"http://www.adobe.com/${adobecom_country_fragment}privacy.html",terms_url:"http://www.adobe.com/${adobecom_country_fragment}legal/general-terms.html",privacy_url_for_shares:"http://www.adobe.com/${adobecom_country_fragment}privacy/policy-linkfree.html",terms_url_for_shares:"http://www.adobe.com/${adobecom_country_fragment}legal/general-terms.html",support_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom-cc.html",signup_url:{locales:{"zh-CN":"https://www.adobe.com/creativecloud/photography.html",default:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography.html"}},renew_url:"https://account.adobe.com?promoid=2SLRC4PQ&mv=other",subscribe_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=2NVQC8FR&mv=other",upgrade_storage_url:"http://www.adobe.com/go/lrcc_upgrade",expired_trial_subscribe_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/plans.html?trackingid=NLMHRH6H&mv=other",expired_sub_resubscribe_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/plans.html?trackingid=NQCJRCGG&mv=other",download_lightroom_url:"https://creative.adobe.com/products/download/lightroom?locale=${locale}",start_trial_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=X2PHHV1S&mv=other",growth_pricing_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=XFWLHGM1&mv=other&locale=${locale}",welcome_download_lightroom_url:"https://creative.adobe.com/products/download/lightroom?sdid=5F1G8NTM&mv=other&locale=${locale}",welcome_to_lightroom_try_for_free_url:"https://creative.adobe.com/products/download/lightroom?promoid=Z2G1FY7X&mv=other&locale=${locale}",growth_pricing_a_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=D4P81RPV&mv=other&locale=${locale}",growth_try_lr_now_a_header_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=FHRLZDMH&mv=other&locale=${locale}",growth_buy_lr_now_a_hero_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=DHWC1DHR&mv=other&locale=${locale}",growth_try_lr_now_a_hero_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=FR7NZ55F&mv=other&locale=${locale}",growth_buy_lr_now_a_blade_discover_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=DW3G119N&mv=other&locale=${locale}",growth_buy_lr_now_a_blade_learnvideo_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=DZTGZWKM&mv=other&locale=${locale}",growth_buy_lr_now_a_blade_learn_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=F4KHZRTL&mv=other&locale=${locale}",trial_a_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=D8F91MYT&mv=other&locale=${locale}",trial_b_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=DD5B1J7S&mv=other&locale=${locale}",trial_c_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=DMMD18RQ&mv=other&locale=${locale}",buy_a_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=CZY71WFW&mv=other&locale=${locale}",buy_b_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=FD1KZJCJ&mv=other&locale=${locale}",buy_c_url:"https://www.adobe.com/${adobecom_country_fragment}creativecloud/photography/compare-plans.html?promoid=FMHMZ8WG&mv=other&locale=${locale}",lrmobile_branch_a_url:"https://lightroom.app.link/Pc0Kq9aDypb",lrmobile_branch_b_url:"https://lightroom.app.link/qAVbnBrDypb",lrmobile_branch_c_url:"https://lightroom.app.link/AAZFytvDypb",retired_trial_1_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=DRCF151P&mv=other&locale=${locale}",retired_trial_2_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=F89JZN3K&mv=other&locale=${locale}",retired_trial_3_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=FVYPZ1FD&mv=other&locale=${locale}",retired_trial_4_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=FZPQYWPC&mv=other&locale=${locale}",retired_trial_5_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=G4FRYRYB&mv=other&locale=${locale}",retired_trial_6_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=LLVYT9J4&mv=other&locale=${locale}",retired_trial_7_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=LVC1T222&mv=other&locale=${locale}",ccp_help_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/how-to/get-started-photography.html",learn_more_url:"http://www.adobe.com/${adobecom_country_fragment}products/lightroom-mobile.html",lrmobile_branch_url:"https://lightroom.app.link/friy7F70Xcb",lrmobile_iphone_url:"https://itunes.apple.com/${country_code_downcase}/app/adobe-lightroom/id878783582?ls=1&mt=8",lrmobile_ipad_url:"https://itunes.apple.com/${country_code_downcase}/app/adobe-lightroom/id804177739?ls=1&mt=8",lrmobile_android_url:"https://play.google.com/store/apps/details?id=com.adobe.lrmobile",photoshop_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop.html",support_file_sync_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/kb/sync-different-lightroom-desktop-catalog-with-mobile.html",support_fileformats_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/help/supported-file-formats.html",lr_support_fileformats_url:"https://helpx.adobe.com/${adobecom_country_fragment}lightroom/help/supported-file-formats.html",plans_url:"https://www.adobe.com/${adobecom_country_fragment}products/photoshop-lightroom/compare-plans.html?promoid=VKW3KGR6&mv=other"},adobecom_language_codes:{"bg-BG":"bg","cs-CZ":"cz","da-DK":"dk","de-AT":"at","de-CH":"ch_de","de-DE":"de","de-LU":"lu_de","en-AU":"au","en-BE":"be_en","en-CA":"ca","en-CY":"cy_en","en-GB":"uk","en-GR":"gr_en","en-HK":"hk_en","en-IE":"ie","en-IL":"il_en","en-IN":"in","en-LU":"lu_en","en-MT":"mt","en-NZ":"nz","en-sea":"sea","en-UK":"uk","en-US":null,"es-ES":"es","es-LA":"la","es-MX":"mx","et-EE":"ee","fi-FI":"fi","fr-BE":"be_fr","fr-CA":"ca_fr","fr-CH":"ch_fr","fr-FR":"fr","fr-LU":"lu_fr","he-IL":"il_he","hu-HU":"hu","it-CH":"ch_it","id-ID":"sea","it-IT":"it","ja-JP":"jp","ko-KR":"kr","lt-LT":"lt","lv-LV":"lv","nb-NO":"no","nl-BE":"be_nl","nl-NL":"nl","pl-PL":"pl","pt-BR":"br","pt-PT":"pt","ro-RO":"ro","ru-RU":"ru","sk-SK":"sk","sl-SI":"si","sv-SE":"se","th-TH":"sea","tr-TR":"tr","uk-UA":"ua","vi-VN":"sea","zh-CN":"cn","zh-HK":"hk_zh","zh-TW":"tw","zz-ZZ":null}}},666222:(e,t)=>{function r(){var e=4022871197,t=function(t){t=t.toString();for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}t.r=function(){return function(e){for(var t=0,n=0,i=0,s=1,o=[],a=0,l=r(),u=(t=l(" "),n=l(" "),i=l(" "),0);u<8;u++)o[u]=l(" ");0==e.length&&(e=[+new Date]);for(var c=0;c<e.length;c++)for((t-=l(e[c]))<0&&(t+=1),(n-=l(e[c]))<0&&(n+=1),(i-=l(e[c]))<0&&(i+=1),u=0;u<8;u++)o[u]-=l(e[c]),o[u]<0&&(o[u]+=1);var h=function(){a=8*o[a]|0;var e=o[a],r=2091639*t+2.3283064365386963e-10*s;return t=n,n=i,i=r-(s=0|r),o[a]-=i,o[a]<0&&(o[a]+=1),e};return h.uint32=function(){return 4294967296*h()},h.fract53=function(){return h()+11102230246251565e-32*(2097152*h()|0)},h.addNoise=function(){for(var e=arguments.length-1;e>=0;e--)for(u=0;u<8;u++)o[u]-=l(arguments[e]),o[u]<0&&(o[u]+=1)},h.version="Kybos 0.9",h.args=e,h}(Array.prototype.slice.call(arguments))}},891218:function(){function e(e){this.size=0,this.limit=e,this._keymap={}}e.prototype.put=function(e,t){var r={key:e,value:t};if(this._keymap[e]=r,this.tail?(this.tail.newer=r,r.older=this.tail):this.head=r,this.tail=r,this.size===this.limit)return item=this.shift(),item.value&&item.value.dispose&&item.value.dispose(),item;this.size++},e.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=void 0):this.head=void 0,e.newer=e.older=void 0,delete this._keymap[e.key]),e},e.prototype.get=function(e,t){var r=this._keymap[e];if(void 0!==r)return r===this.tail||(r.newer&&(r===this.head&&(this.head=r.newer),r.newer.older=r.older),r.older&&(r.older.newer=r.newer),r.newer=void 0,r.older=this.tail,this.tail&&(this.tail.newer=r),this.tail=r),t?r:r.value},e.prototype.find=function(e){return this._keymap[e]},e.prototype.set=function(e,t){var r,n=this.get(e,!0);return n?(r=n.value,n.value=t):(r=this.put(e,t))&&(r=r.value),r},e.prototype.remove=function(e){var t=this._keymap[e];if(t)return delete this._keymap[t.key],t.newer&&t.older?(t.older.newer=t.newer,t.newer.older=t.older):t.newer?(t.newer.older=void 0,this.head=t.newer):t.older?(t.older.newer=void 0,this.tail=t.older):this.head=this.tail=void 0,this.size--,t.value},e.prototype.removeAll=function(){this.head=this.tail=void 0,this.size=0,this._keymap={}},"function"==typeof Object.keys?e.prototype.keys=function(){return Object.keys(this._keymap)}:e.prototype.keys=function(){var e=[];for(var t in this._keymap)e.push(t);return e},e.prototype.forEach=function(e,t,r){var n;if(!0===t?(r=!0,t=void 0):"object"!=typeof t&&(t=this),r)for(n=this.tail;n;)e.call(t,n.key,n.value,this),n=n.older;else for(n=this.head;n;)e.call(t,n.key,n.value,this),n=n.newer},e.prototype.toJSON=function(){for(var e=[],t=this.head;t;)e.push({key:t.key.toJSON(),value:t.value.toJSON()}),t=t.newer;return e},e.prototype.toString=function(){for(var e="",t=this.head;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},"object"==typeof this&&(this.LRUCache=e)},140917:e=>{"use strict";e.exports='<!DOCTYPE html>\n<html>\n    <head>\n        <meta charset="utf-8">\n        <title></title>\n        <script id="lr-organizer-nr-snippet" type="text/javascript">\n            window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(19),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{h?h-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(20),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(d){"stack"in d&&(t(12),t(11),"addEventListener"in window&&t(6),s.xhrWrappable&&t(13),u=!0)}c.on("fn-start",function(t,e,n){u&&(h+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){j++,S=y.hash,this[u]=Date.now()}function o(){j--,y.hash!==S&&i(0,!0);var t=Date.now();this[l]=~~this[l]+t-this[u],this[h]=t}function i(t,e){x.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=Date.now()})}var c="-start",s="-end",f="-body",u="fn"+c,h="fn"+s,d="cb"+c,p="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location;if(w[v]){var g=t(9),b=t(10),x=t(8),E=t(6),T=t(12),O=t(7),R=t(13),P=t("ee"),D=P.get("tracer");t(14),t("loader").features.spa=!0;var S,N=w[v],j=0;P.on(u,r),P.on(d,r),P.on(h,o),P.on(p,o),P.buffer([u,h,"xhr-done","xhr-resolved"]),E.buffer([u]),T.buffer(["setTimeout"+s,"clearTimeout"+c,u]),R.buffer([u,"new-xhr","send-xhr"+c]),O.buffer([m+c,m+"-done",m+f+c,m+f+s]),x.buffer(["newURL"]),g.buffer([u]),b.buffer(["propagate",d,p,"executor-err","resolve"+c]),D.buffer([u,"no-"+u]),a(R,"send-xhr"+c),a(P,"xhr-resolved"),a(P,"xhr-done"),a(O,m+c),a(O,m+"-done"),x.on("pushState-end",i),x.on("replaceState-end",i),N("hashchange",i,!0),N("load",i,!0),N("popstate",function(){i(0,j>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(12),c=t(11),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",h="bstResource",d="resource",p="-start",l="-end",m="fn"+p,v="fn"+l,w="bstTimer",y="pushState";t("loader").features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=Date.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,Date.now()])}),a.on(m,function(t,e,n){this.bstStart=Date.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,Date.now(),this.bstType])}),c.on(m,function(){this.bstStart=Date.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,Date.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=Date.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(h,[window.performance.getEntriesByType(d)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(h,[window.performance.getEntriesByType(d)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,h],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(21)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",h="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(h+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(19);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,h=a.Response,d=a.fetch,p="prototype";u&&h&&d&&(i(f,function(t,e){r(u[p],e,s),r(h[p],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(21)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){var r=t("ee").get("mutation"),o=t(21)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],10:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(21),a=t("ee").get("promise"),c=i(a),s=t(19),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],11:[function(t,e,n){var r=t("ee").get("raf"),o=t(21)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],12:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(21)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",h="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+h),a.inPlace(window,[s],s+h),a.inPlace(window,[f,"clearImmediate"],f+h),i.on(s+u,r),i.on(c+u,o)},{}],13:[function(t,e,n){function r(t,e){h.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),h.inPlace(t,v,"fn-",c)}function i(t){w.push(t),l&&(g=-g,b.data=g)}function a(){for(var t=0;t<w.length;t++)r([],w[t]);w.length&&(w=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),h=t(21)(u),d=NREUM.o,p=d.XHR,l=d.MO,m="readystatechange",v=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],w=[];e.exports=u;var y=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(p,y),y.prototype=p.prototype,h.inPlace(y.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var g=1,b=document.createTextNode(g);new l(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],14:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<h;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(15),f=t("ee"),u=["load","error","abort","timeout"],h=u.length,d=t("id"),p=t(18),l=t(17),m=window.XMLHttpRequest;a.features.xhr=!0,t(13),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<h;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],15:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],16:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(19),c=t(20),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],h="api-",d=h+"ixn-";a(u,function(t,e){f[e]=o(h+e,!0,"api")}),f.addPageAction=o(h+"addPageAction",!0),f.setCurrentRouteName=o(h+"routeName",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var p=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(d+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){p[e]=o(d+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],17:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],18:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\\/\\s](\\d+\\.\\d+)/);o&&(r=+o[1]),e.exports=r},{}],19:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],20:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],21:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(20),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){d([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(h){throw u(e+"err",[r,a,h],c),h}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,h(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o)}catch(a){d([a,n,r,o])}s=i}}function h(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){d([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function d(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o){if(!d.aborted){t&&t(n,r,o);for(var i=e(o),a=l(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var f=u[y[n]];return f&&f.push([g,n,r,i]),i}}function p(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return h[t]=h[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},g={on:p,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return g}function i(){return new r}function a(){(u.api||u.feature)&&(d.aborted=!0,u=d.backlog={})}var c="nr@context",s=t("gos"),f=t(19),u={},h={},d=e.exports=o();d.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!b++){var t=g.info=NREUM.info,e=h.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();s(w,function(e,n){t[e]||(t[e]=n)}),c("mark",["onload",a()],null,"api");var n=h.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===h.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(19),f=t("ee"),u=window,h=u.document,d="addEventListener",p="attachEvent",l=u.XMLHttpRequest,m=l&&l.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:l,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver},t(16);var v=""+location,w={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1016.min.js"},y=l&&m&&m[d]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:a(),origin:v,features:{},xhrWrappable:y};h[d]?(h[d]("DOMContentLoaded",i,!1),u[d]("load",r,!1)):(h[p]("onreadystatechange",o),u[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var b=0},{}]},{},["loader",2,14,5,3,4]);\n            ;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"b3a229b3da",applicationID:"<APPID>",sa:1}\n        <\/script>\n\n        <script type="text/javascript">\n            "use strict";\n            var port, kind, client;\n            var origin = "<ORIGIN>";\n\n            function report(action, view, variables) {\n                var data = {};\n\n                if (kind) data.kind = kind;\n                if (view) data.view = view;\n                if (client) data.client = client;\n                for (var key in variables) {\n                    data[key] = variables[key];\n                }\n\n                console.log("Page action", action, data);\n                if (window.newrelic) {\n                    window.newrelic.addPageAction(action, data);\n                }\n            }\n\n            function handleCall(event) {\n                window.newrelic[event.data.method].apply(newrelic, event.data.args);\n            }\n\n            function handleInit(event) {\n                if (!/lr-organizer-nr-init/.test(event.data) || event.origin !== origin) return;\n\n                try {\n                    var data = JSON.parse(event.data);\n                    if (data.kind === \'lr-organizer-nr-init\') {\n                        port = event.ports[0];\n                        port.onmessage = handleCall;\n                        window.removeEventListener(\'message\', handleInit);\n                    }\n                }\n                catch(error) {}\n            }\n\n            window.addEventListener(\'message\', handleInit);\n\n        <\/script>\n    </head>\n    <body></body>\n</html>\n'},514632:()=>{},936544:(e,t,r)=>{"use strict";function n(e,t,r,n,i){var s={};return Object.keys(n).forEach((function(e){s[e]=n[e]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s),i&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(i):void 0,s.initializer=void 0),void 0===s.initializer&&(Object.defineProperty(e,t,s),s=null),s}r.d(t,{Z:()=>n})},155398:(e,t,r)=>{"use strict";function n(e,t,r,n){r&&Object.defineProperty(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}r.d(t,{Z:()=>n})}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={id:e,loaded:!1,exports:{}};return i[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=i,o.c=s,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var i=Object.create(null);o.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&n&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,o.d(i,s),i},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>(53763===e?"shared_utils/ImsUtils":e)+"."+{53763:"3ace09ceba661f71c15d",96904:"087d37727c65587987b8"}[e]+".js",o.miniCssF=e=>{},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="LrWeb:",o.l=(e,t,i,s)=>{if(r[e])r[e].push(t);else{var a,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==n+i){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",n+i),a.src=e),r[e]=[t];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=r[e];if(delete r[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),o.p="/modern/",(()=>{var e={34746:0,43392:0};o.f.j=(t,r)=>{var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var i=new Promise(((r,i)=>n=e[t]=[r,i]));r.push(n[2]=i);var s=o.p+o.u(t),a=new Error;o.l(s,(r=>{if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,n[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,i,[s,a,l]=r,u=0;if(s.some((t=>0!==e[t]))){for(n in a)o.o(a,n)&&(o.m[n]=a[n]);l&&l(o)}for(t&&t(r);u<s.length;u++)i=s[u],o.o(e,i)&&e[i]&&e[i][0](),e[s[u]]=0},r=self.webpackChunkLrWeb=self.webpackChunkLrWeb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),o(o.s=260957)})();